import{r as T0,u as Ea,o as ya,a as ja,c as re,b as c2,d as R0,e as k0,f as y0,w as H0,g as u0,h as Ba,n as W0,i as t1,_ as O2,j as Ja,k as ga,l as Ta,t as r2,m as j0,p as Z1,q as se,F as u2,s as P2,v as ne,T as Ia,x as _e,E as e3,y as De,z as ge,A as oe,B as ve,C as a3,D as Xe,G as t3,H as r3,I as s3,J as Ca,K as n3}from"./index-Cq1Zp2HD.js";import{u as ue}from"./layout-DurQ_lkl.js";/* empty css             *//* empty css                 *//* empty css                  */import{r as T2}from"./requestai-6Y3IWqQb.js";/* empty css                    *//* empty css                  *//* empty css                  *//* empty css                  */import"./axios-B4uVmeYG.js";const i3="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719230608305'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='4301'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M332.799002%20686.081014m-332.799002%200a332.799002%20332.799002%200%201%200%20665.598003%200%20332.799002%20332.799002%200%201%200-665.598003%200Z'%20fill='%23DFDFF2'%20p-id='4302'%3e%3c/path%3e%3cpath%20d='M883.19735%201024h-639.99808A141.055577%20141.055577%200%200%201%20102.399693%20883.200422v-742.397772A141.055577%20141.055577%200%200%201%20243.19927%200.003072h516.350451a89.087733%2089.087733%200%200%201%2063.231811%2025.599923l189.695431%20189.695431A38.399885%2038.399885%200%200%201%201023.996928%20243.202342v639.99808a141.055577%20141.055577%200%200%201-140.799578%20140.799578zM243.19927%2076.802842A63.999808%2063.999808%200%200%200%20179.199462%20140.80265v742.397772A63.999808%2063.999808%200%200%200%20243.19927%20947.20023h639.99808a63.999808%2063.999808%200%200%200%2063.999808-63.999808V259.074295l-179.199462-179.199463a12.799962%2012.799962%200%200%200-8.447975-3.07199z'%20fill='%23434260'%20p-id='4303'%3e%3c/path%3e%3cpath%20d='M569.086293%20560.64139h-78.591764l-19.455942%2064.511807H435.198694l75.007775-226.047322h41.215877l75.007775%20226.047322H588.798234z%20m-8.447975-28.159915l-8.959973-30.463909c-7.679977-25.599923-14.335957-49.663851-21.503936-75.263774-6.399981%2025.599923-13.567959%2051.199846-20.991937%2075.263774l-9.215972%2030.463909zM655.870032%20399.105875H691.197926v226.047322h-35.327894z'%20fill='%23434260'%20p-id='4304'%3e%3c/path%3e%3c/svg%3e",l3={class:"layout-topbar"},_3=["src"],o3=u0("span",null,"智能编辑器",-1),v3=u0("i",{class:"pi pi-bars"},null,-1),u3=[v3],c3=u0("i",{class:"pi pi-ellipsis-v"},null,-1),h3=[c3],m3=u0("i",{class:"pi pi-calendar"},null,-1),f3=u0("span",null,"Calendar",-1),d3=[m3,f3],b3=u0("i",{class:"pi pi-user"},null,-1),w3=u0("span",null,"个人主页",-1),S3=[b3,w3],x3=u0("i",{class:"pi pi-cog"},null,-1),M3=u0("span",null,"设置",-1),p3=[x3,M3],A3={__name:"AppTopbar",setup(b){const{layoutConfig:H,onMenuToggle:F}=ue(),P=T0(null),Z=T0(!1),Y=Ea();ya(()=>{$()}),ja(()=>{S()});const q=re(()=>`/editFront1/layout/images/${H.darkTheme.value?"logo-white":"logo-dark"}.svg`),G=()=>{Z.value=!Z.value},W=()=>{Z.value=!1,Y.push("/documentation")},A=re(()=>({"layout-topbar-menu-mobile-active":Z.value})),$=()=>{P.value||(P.value=V=>{O(V)&&(Z.value=!1)},document.addEventListener("click",P.value))},S=()=>{P.value&&(document.removeEventListener("click",P),P.value=null)},O=V=>{if(!Z.value)return;const T=document.querySelector(".layout-topbar-menu"),L=document.querySelector(".layout-topbar-menu-button");return!(T.isSameNode(V.target)||T.contains(V.target)||L.isSameNode(V.target)||L.contains(V.target))};return(V,T)=>{const L=c2("router-link");return R0(),k0("div",l3,[y0(L,{to:"/",class:"layout-topbar-logo"},{default:H0(()=>[u0("img",{src:q.value,alt:"logo"},null,8,_3),o3]),_:1}),u0("button",{class:"p-link layout-menu-button layout-topbar-button",onClick:T[0]||(T[0]=y=>Ba(F)())},u3),u0("button",{class:"p-link layout-topbar-menu-button layout-topbar-button",onClick:T[1]||(T[1]=y=>G())},h3),u0("div",{class:W0(["layout-topbar-menu",A.value])},[u0("button",{onClick:T[2]||(T[2]=y=>G()),class:"p-link layout-topbar-button"},d3),u0("button",{onClick:T[3]||(T[3]=y=>V.$router.push({name:"person"})),class:"p-link layout-topbar-button"},S3),u0("button",{onClick:T[4]||(T[4]=y=>W()),class:"p-link layout-topbar-button"},p3)],2)])}}},R3={class:"layout-footer"},E3=["src"],y3=u0("span",{class:"font-medium ml-2"},"IT先疯队",-1),B3={__name:"AppFooter",setup(b){const{layoutConfig:H}=ue(),F=re(()=>`/editFront1/layout/images/${H.darkTheme.value?"logo-white":"logo-dark"}.svg`);return(P,Z)=>(R0(),k0("div",R3,[u0("img",{src:F.value,alt:"Logo",height:"20",class:"mr-2",style:{width:"2%"}},null,8,E3),t1(" by "),y3]))}},T3={key:0,class:"layout-menuitem-root-text"},I3=["href","target"],C3=["src"],L3={class:"layout-menuitem-text"},V3={key:2,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},k3=["src"],H3={class:"layout-menuitem-text"},N3={key:2,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},O3={class:"layout-submenu"},F3={__name:"AppMenuItem",props:{item:{type:Object,default:()=>({})},index:{type:Number,default:0},root:{type:Boolean,default:!0},parentItemKey:{type:String,default:null}},setup(b){const H=Ja(),{layoutConfig:F,layoutState:P,setActiveMenuItem:Z,onMenuToggle:Y}=ue(),q=b,G=T0(!1),W=T0(null);ga(()=>{W.value=q.parentItemKey?q.parentItemKey+"-"+q.index:String(q.index);const S=P.activeMenuItem;G.value=S===W.value||(S?S.startsWith(W.value+"-"):!1)}),Ta(()=>F.activeMenuItem.value,S=>{G.value=S===W.value||S.startsWith(W.value+"-")});const A=(S,O)=>{if(O.disabled){S.preventDefault();return}const{overlayMenuActive:V,staticMenuMobileActive:T}=P;(O.to||O.url)&&(T.value||V.value)&&Y(),O.command&&O.command({originalEvent:S,item:O});const L=O.items?G.value?q.parentItemKey:W:W.value;Z(L)},$=S=>H.path===S.to;return(S,O)=>{const V=c2("router-link"),T=c2("app-menu-item",!0);return R0(),k0("li",{class:W0({"layout-root-menuitem":b.root,"active-menuitem":G.value})},[b.root&&b.item.visible!==!1?(R0(),k0("div",T3,r2(b.item.label),1)):j0("",!0),(!b.item.to||b.item.items)&&b.item.visible!==!1?(R0(),k0("a",{key:1,href:b.item.url,onClick:O[0]||(O[0]=L=>A(L,b.item,b.index)),class:W0(b.item.class),target:b.item.target,tabindex:"0"},[b.item.icon&&b.item.icon.startsWith("pi")?(R0(),k0("i",{key:0,class:W0([b.item.icon,"layout-menuitem-icon"])},null,2)):b.item.icon?(R0(),k0("img",{key:1,src:b.item.icon,alt:"icon",class:"layout-menuitem-icon"},null,8,C3)):j0("",!0),u0("span",L3,r2(b.item.label),1),b.item.items?(R0(),k0("i",V3)):j0("",!0)],10,I3)):j0("",!0),b.item.to&&!b.item.items&&b.item.visible!==!1?(R0(),Z1(V,{key:2,onClick:O[1]||(O[1]=L=>A(L,b.item,b.index)),class:W0([b.item.class,{"active-route":$(b.item)}]),tabindex:"0",to:b.item.to},{default:H0(()=>[b.item.icon&&b.item.icon.startsWith("pi")?(R0(),k0("i",{key:0,class:W0([b.item.icon,"layout-menuitem-icon"])},null,2)):b.item.icon?(R0(),k0("img",{key:1,src:b.item.icon,alt:"icon",class:"layout-menuitem-icon"},null,8,k3)):j0("",!0),u0("span",H3,r2(b.item.label),1),b.item.items?(R0(),k0("i",N3)):j0("",!0)]),_:1},8,["class","to"])):j0("",!0),b.item.items&&b.item.visible!==!1?(R0(),Z1(Ia,{key:3,name:"layout-submenu"},{default:H0(()=>[se(u0("ul",O3,[(R0(!0),k0(u2,null,P2(b.item.items,(L,y)=>(R0(),Z1(T,{key:L.label,index:y,item:L,parentItemKey:W.value,root:!1},null,8,["index","item","parentItemKey"]))),128))],512),[[ne,b.root?!0:G.value]])]),_:1})):j0("",!0)],2)}}},$3=O2(F3,[["__scopeId","data-v-3db77e66"]]),D3={class:"layout-menu"},X3={key:1,class:"menu-separator"},G3={__name:"AppMenu",setup(b){const H=new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719909788636'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='3397'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M608%20288a128%20128%200%200%201%209.6%20255.68L608%20544H384V704a32%2032%200%201%201-64%200V512a32%2032%200%200%201%2032-32h256a64%2064%200%200%200%207.488-127.552L608%20352h-256a32%2032%200%200%201%200-64h256z'%20fill='%23FF7960'%20p-id='3398'%3e%3c/path%3e%3c/svg%3e",import.meta.url).href,F=new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719910728306'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2221'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M478.08%20192.192a58.88%2058.88%200%200%201%2046.208%2023.168c23.104%2032.064%2021.312%2099.84-8.832%20199.68A536.832%20536.832%200%200%200%20625.664%20557.44c37.312-7.04%2074.688-12.416%20112-12.416%2083.52%201.792%2096%2041.024%2094.144%2064.128%200%2060.544-58.688%2060.544-88.896%2060.544v0.064a226.048%20226.048%200%200%201-131.52-53.504c-72.832%2016-142.144%2039.168-211.456%2067.712C344.96%20782.08%20293.312%20832%20248.96%20832c-8.96%200-19.584-1.792-26.752-7.168A52.48%2052.48%200%200%201%20192%20776.704c0-16%203.52-60.608%20172.352-133.568a1267.776%201267.776%200%200%200%2094.208-221.056c-21.312-42.752-67.584-147.84-35.584-201.344%2010.688-19.648%2032-30.272%2055.168-28.544z%20m-118.4%20475.84c-42.688%2020.736-95.232%2058.368-90.112%2082.368%203.392%2016%2021.888%2010.56%2055.424-16.384%2021.056-27.072%2024.512-41.088%2034.688-65.984z%20m386.304-79.808c-17.152%200-32.384%200-49.536%207.68%2019.072%2019.2%2029.504%2028.608%2048.64%2032.448%2013.312%203.84%2039.104%2010.752%2046.72-9.28%207.68-19.968-7.616-30.848-45.824-30.848zM494.08%20492.8a2572.16%202572.16%200%200%201-46.592%20104.704l104.704-34.88c-21.76-22.272-41.344-43.392-58.112-69.824z%20m-16.64-223.488c-10.496%201.664-16.192%2015.04-18.88%2024.512-5.504%2027.008%208.96%2057.088%2027.072%2078.528%2014.912-22.528%2018.688-43.328%2012.928-73.92-6.976-20.48-14.016-30.208-21.12-29.12z'%20fill='%23FF7960'%20p-id='2222'%3e%3c/path%3e%3c/svg%3e",import.meta.url).href,P=new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719910905701'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='6803'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M768%20128a128%20128%200%201%201%200%20256h-128a128%20128%200%200%201-120.704-85.333333H469.333333c-46.933333%200-85.333333%2038.4-85.333333%2085.333333v7.296a128%20128%200%200%201%200%20241.408V640c0%2046.933333%2038.4%2085.333333%2085.333333%2085.333333h49.92A128.128%20128.128%200%200%201%20640%20640h128a128%20128%200%201%201%200%20256h-128a128%20128%200%200%201-120.704-85.333333H469.333333c-94.293333%200-170.666667-76.373333-170.666666-170.666667H213.333333a128%20128%200%201%201%200-256h85.333334c0-94.293333%2076.373333-170.666667%20170.666666-170.666667h49.92A128.128%20128.128%200%200%201%20640%20128h128z%20m0%20597.333333h-128a42.666667%2042.666667%200%200%200%200%2085.333334h128a42.666667%2042.666667%200%200%200%200-85.333334zM341.333333%20469.333333H213.333333a42.666667%2042.666667%200%200%200%200%2085.333334h128a42.666667%2042.666667%200%200%200%200-85.333334z%20m426.666667-256h-128a42.666667%2042.666667%200%200%200%200%2085.333334h128a42.666667%2042.666667%200%200%200%200-85.333334z'%20fill='%2319BC9B'%20p-id='6804'%3e%3c/path%3e%3c/svg%3e",import.meta.url).href,Z=new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719910707802'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2072'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M670.4%20694.656L512%20536.256l-158.4%20158.4a31.936%2031.936%200%200%201-25.344%209.216l-2.56-0.384a32%2032%200%200%201-37.76-31.488l0.064-320a32%2032%200%200%201%2064%200l-0.064%20253.76%20137.408-137.408a32%2032%200%200%201%2040.832-3.712l4.48%203.712L672%20605.76V352a32%2032%200%201%201%2064%200v320a32%2032%200%200%201-32%2032l-5.76-0.512-2.496%200.384a31.936%2031.936%200%200%201-25.344-9.216z'%20fill='%23FF7960'%20p-id='2073'%3e%3c/path%3e%3c/svg%3e",import.meta.url).href,Y=new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719498183388'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='4721'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M824.4224%20399.872A158.208%20158.208%200%201%201%20983.04%20241.7664a158.3104%20158.3104%200%200%201-158.6176%20158.1056z%20m0-234.3936A76.288%2076.288%200%201%200%20901.12%20241.7664a76.288%2076.288%200%200%200-76.6976-76.288z'%20fill='%233080E9'%20p-id='4722'%3e%3c/path%3e%3cpath%20d='M629.248%20823.1936h-306.176v-81.92h306.176a94.208%2094.208%200%201%200%200-188.3136H372.1216a176.128%20176.128%200%200%201%200-352.1536h316.5184v81.92H372.1216a94.208%2094.208%200%200%200%200%20188.3136h257.1264a176.128%20176.128%200%201%201%200%20352.1536z'%20fill='%233080E9'%20p-id='4723'%3e%3c/path%3e%3cpath%20d='M199.0656%20940.3392a158.1056%20158.1056%200%201%201%20158.208-158.1056%20158.3104%20158.3104%200%200%201-158.208%20158.1056z%20m0-234.2912a76.1856%2076.1856%200%201%200%2076.288%2076.1856A76.288%2076.288%200%200%200%20199.0656%20706.56z'%20fill='%233080E9'%20p-id='4724'%3e%3c/path%3e%3c/svg%3e",import.meta.url).href,q=T0([{label:"Home",items:[{label:"Dashboard",icon:"pi pi-fw pi-home",to:"/dashboard"}]},{label:"开始",items:[{label:"创建文档",icon:"pi pi-fw pi-file",items:[{label:"word",icon:Z,to:"/doc"},{label:"ppt",icon:H,to:"/ppt"},{label:"excel",icon:"pi pi-fw pi-lock",to:"/excel"},{label:"pdf",icon:F,to:"/pdf"},{label:"mindmap",icon:P,to:"/mindmap"},{label:"flowchart",icon:Y,to:"/flowchart"},{label:"paint",icon:"pi pi-fw pi-pencil",to:"/drawing"}]},{label:"知识库",icon:"pi pi-fw pi-file",to:"/knowledge"}]}]);return(G,W)=>(R0(),k0("ul",D3,[(R0(!0),k0(u2,null,P2(q.value,(A,$)=>(R0(),k0(u2,{key:A.label},[A.separator?j0("",!0):(R0(),Z1($3,{key:0,item:A,index:$},null,8,["item","index"])),A.separator?(R0(),k0("li",X3)):j0("",!0)],64))),128))]))}},Y3={__name:"AppSidebar",setup(b){return(H,F)=>(R0(),Z1(G3))}},q3="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719231674301'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2463'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M512%20893c-8%200-16-2.4-22.8-7.1L309.5%20761h-91.9c-65.1%200-118-53.3-118-118.8V249.8c0-65.5%2053-118.8%20118-118.8h588.9c65.1%200%20118%2053.3%20118%20118.8v392.5c0%2065.5-53%20118.8-118%20118.8h-91.9L534.8%20885.9C528%20890.6%20520%20893%20512%20893zM217.5%20211c-21%200-38%2017.4-38%2038.8v392.5c0%2021.4%2017.1%2038.8%2038%2038.8H322c8.2%200%2016.1%202.5%2022.8%207.1L512%20804.3l167.2-116.1c6.7-4.7%2014.7-7.1%2022.8-7.1h104.5c21%200%2038-17.4%2038-38.8V249.8c0-21.4-17.1-38.8-38-38.8h-589z'%20fill='%234a5fe2'%20p-id='2464'%3e%3c/path%3e%3cpath%20d='M672.1%20414H352c-22.1%200-40-17.9-40-40s17.9-40%2040-40h320c22.1%200%2040%2017.9%2040%2040s-17.9%2040-39.9%2040zM522.1%20552H352c-22.1%200-40-17.9-40-40s17.9-40%2040-40h170c22.1%200%2040%2017.9%2040%2040s-17.9%2040-39.9%2040z'%20fill='%237c44e2'%20p-id='2465'%3e%3c/path%3e%3c/svg%3e",P3="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719231835404'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='3549'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M783.74%20366.41H658.37V239.48c0-97.57-79.38-176.95-176.95-176.95H240.26c-97.57%200-176.95%2079.38-176.95%20176.95v241.16c0%2097.57%2079.38%20176.95%20176.95%20176.95h125.37v126.93c0%2097.57%2079.38%20176.95%20176.95%20176.95h241.16c97.57%200%20176.95-79.38%20176.95-176.95V543.36c0-97.57-79.38-176.95-176.95-176.95zM138.22%20480.64V239.48c0-56.26%2045.77-102.04%20102.04-102.04h241.16c56.26%200%20102.04%2045.77%20102.04%20102.04v241.16c0%2056.26-45.77%20102.04-102.04%20102.04H240.26c-56.27%200-102.04-45.77-102.04-102.04z%20m747.56%20303.88c0%2056.26-45.77%20102.04-102.04%20102.04H542.58c-56.26%200-102.04-45.77-102.04-102.04V657.59h40.88c97.57%200%20176.95-79.38%20176.95-176.95v-39.32h125.37c56.26%200%20102.04%2045.77%20102.04%20102.04v241.16zM724.28%20174.93c65.16%2018.59%20119.1%2064.64%20148%20126.35%206.37%2013.6%2019.86%2021.58%2033.95%2021.58%205.32%200%2010.72-1.14%2015.86-3.54%2018.74-8.77%2026.81-31.07%2018.04-49.81-38.09-81.36-109.27-142.09-195.29-166.63-19.9-5.68-40.62%205.85-46.29%2025.75-5.69%2019.89%205.83%2040.62%2025.73%2046.3zM298.98%20865.78c-65.16-18.59-119.1-64.64-147.99-126.35-8.77-18.74-31.07-26.81-49.81-18.04-18.74%208.77-26.81%2031.07-18.04%2049.8%2038.09%2081.36%20109.27%20142.09%20195.29%20166.63%203.43%200.98%206.89%201.45%2010.29%201.45%2016.31%200%2031.31-10.73%2036-27.19%205.68-19.9-5.84-40.62-25.74-46.3z'%20fill='%23343434'%20p-id='3550'%3e%3c/path%3e%3cpath%20d='M418.59%20466.75c47.2%200%2085.6-38.4%2085.6-85.6v-28.97c0-47.2-38.4-85.6-85.6-85.6H392.4v-23.41c0-20.69-16.77-37.46-37.46-37.46s-37.46%2016.77-37.46%2037.46v23.41h-19.17c-47.2%200-85.6%2038.4-85.6%2085.6v28.97c0%2047.2%2038.4%2085.6%2085.6%2085.6h19.17v11.16c0%2020.69%2016.77%2037.46%2037.46%2037.46s37.46-16.77%2037.46-37.46v-11.16h26.19z%20m0-125.24c5.79%200%2010.68%204.89%2010.68%2010.68v28.97c0%205.79-4.89%2010.68-10.68%2010.68H392.4v-50.33h26.19z%20m-120.27%2050.33c-5.79%200-10.68-4.89-10.68-10.68v-28.97c0-5.79%204.89-10.68%2010.68-10.68h19.17v50.33h-19.17zM736.99%20578.24c-6.25-13.94-20.35-22.69-35.6-22.11-15.26%200.58-28.65%2010.37-33.82%2024.74L593%20787.98c-7.01%2019.46%203.09%2040.92%2022.55%2047.93%204.19%201.51%208.47%202.22%2012.69%202.22%2015.35%200%2029.75-9.51%2035.24-24.78l4.4-12.22h86.91l6.66%2014.85c8.46%2018.88%2030.62%2027.32%2049.5%2018.86s27.32-30.62%2018.86-49.5l-92.82-207.1z%20m-42.14%20147.98l11.74-32.61%2014.62%2032.61h-26.36z'%20fill='%23343434'%20p-id='3551'%3e%3c/path%3e%3c/svg%3e",z3="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719231846901'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='1100'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M101.01%20387.1c20.62%200%2037.34-16.72%2037.34-37.34v-89.07c0-67.13%2054.62-121.75%20121.75-121.75h90.46c20.62%200%2037.34-16.72%2037.34-37.34s-16.72-37.34-37.34-37.34H260.1c-108.31%200-196.42%2088.12-196.42%20196.42v89.07c-0.01%2020.63%2016.7%2037.35%2037.33%2037.35zM762.17%2063.57H673.1c-20.62%200-37.34%2016.72-37.34%2037.34s16.72%2037.34%2037.34%2037.34h89.07c67.13%200%20121.75%2054.62%20121.75%20121.75v90.46c0%2020.62%2016.72%2037.34%2037.34%2037.34s37.34-16.72%2037.34-37.34V260c-0.01-108.31-88.13-196.43-196.43-196.43zM921.25%20636.53c-20.62%200-37.34%2016.72-37.34%2037.34v89.07c0%2067.13-54.62%20121.75-121.75%20121.75H671.7c-20.62%200-37.34%2016.72-37.34%2037.34s16.72%2037.34%2037.34%2037.34h90.46c108.31%200%20196.42-88.12%20196.42-196.42v-89.07c0.01-20.63-16.71-37.35-37.33-37.35zM349.16%20885.38h-89.07c-67.13%200-121.75-54.62-121.75-121.75v-90.46c0-20.62-16.72-37.34-37.34-37.34s-37.34%2016.72-37.34%2037.34v90.46c0%20108.31%2088.12%20196.42%20196.42%20196.42h89.07c20.62%200%2037.34-16.72%2037.34-37.34s-16.7-37.33-37.33-37.33zM729.48%20387.79c20.62%200%2037.34-16.72%2037.34-37.34s-16.72-37.34-37.34-37.34H277.47c-20.62%200-37.34%2016.72-37.34%2037.34s16.72%2037.34%2037.34%2037.34h188.67v399.64c0%2020.62%2016.72%2037.34%2037.34%2037.34s37.34-16.72%2037.34-37.34V387.79h188.66z'%20fill='%23343434'%20p-id='1101'%3e%3c/path%3e%3c/svg%3e",U3="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719232541638'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='6862'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M930.6672%20228.010394L796.091945%2093.3328c-16.271837-16.271837-37.865281-25.175295-60.789127-25.175295-23.026184%200-44.619628%208.903458-60.789126%2025.175295L110.8327%20656.911453c-5.321607%205.321607-8.801119%2012.280632-9.824505%2019.751349L68.464521%20916.646812c-1.43274%2010.745553%202.149111%2021.491105%209.824506%2029.064161%206.54967%206.54967%2015.35079%2010.131521%2024.458924%2010.131522%201.535079%200%203.070158-0.102339%204.605237-0.307016l239.98401-32.543674c7.470718-1.023386%2014.429742-4.502898%2019.751349-9.824505l563.476314-563.476315c16.271837-16.271837%2025.175295-37.865281%2025.175295-60.789126%200.102339-23.026184-8.801119-44.619628-25.072956-60.891465zM326.460124%20855.960024l-183.390766%2024.868279%2024.868279-183.390766%20399.325205-399.325204%20158.522487%20158.522486L326.460124%20855.960024z%20m555.289226-555.186888L774.703178%20407.819308%20616.28303%20249.296822%20723.226864%20142.25065c4.298221-4.298221%209.312812-4.912253%2011.973616-4.912253s7.675395%200.614032%2011.973616%204.912253l134.575254%20134.575254c4.298221%204.298221%204.912253%209.312812%204.912253%2011.973616%200%202.660804-0.614032%207.675395-4.912253%2011.973616z'%20fill=''%20p-id='6863'%3e%3c/path%3e%3c/svg%3e",ea="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719232176278'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='4904'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M311.467%20490.667c81.066%200%20145.066-64%20145.066-145.067V192c0-81.067-64-145.067-145.066-145.067S166.4%20110.933%20166.4%20192v157.867c0%2076.8%2064%20140.8%20145.067%20140.8z%20m64-145.067c0%2034.133-29.867%2064-64%2064s-64-25.6-64-64V192c0-38.4%2029.866-64%2064-64s64%2029.867%2064%2064v153.6z'%20p-id='4905'%3e%3c/path%3e%3cpath%20d='M584.533%20388.267L503.467%20371.2%20499.2%20384a202.03%20202.03%200%200%201-153.6%20153.6C243.2%20558.933%20140.8%20490.667%20119.467%20384l-4.267-12.8-76.8%2017.067%204.267%2012.8c25.6%20128%20140.8%20221.866%20268.8%20221.866s243.2-93.866%20268.8-221.866l4.266-12.8zM977.067%20627.2v-81.067H789.333v-64h-81.066v64H520.533V627.2h302.934c-17.067%2046.933-42.667%2089.6-76.8%20128-21.334-25.6-38.4-51.2-55.467-81.067l-4.267-4.266h-89.6l4.267%2012.8c21.333%2046.933%2051.2%2089.6%2085.333%20128C640%20849.067%20588.8%20878.933%20529.067%20896l-8.534%204.267%2021.334%2076.8%208.533-4.267c68.267-21.333%20136.533-59.733%20192-106.667%2055.467%2046.934%20119.467%2085.334%20192%20106.667l8.533%204.267%2021.334-76.8-8.534-4.267C896%20878.933%20844.8%20849.067%20797.867%20810.667%20844.8%20755.2%20878.933%20691.2%20904.533%20622.933h72.534zM802.133%20290.133V435.2H896V290.133c0-81.066-64-145.066-145.067-145.066H567.467v93.866h183.466c25.6-4.266%2051.2%2021.334%2051.2%2051.2zM256%20806.4V661.333h-93.867V806.4c0%2081.067%2064%20145.067%20145.067%20145.067h183.467V857.6h-179.2C281.6%20857.6%20256%20836.267%20256%20806.4z'%20p-id='4906'%3e%3c/path%3e%3c/svg%3e",K3="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719230633501'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='4450'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M511.994264%20511.994264m-511.994264%200a511.994264%20511.994264%200%201%200%201023.988529%200%20511.994264%20511.994264%200%201%200-1023.988529%200Z'%20fill='%2328176D'%20p-id='4451'%3e%3c/path%3e%3cpath%20d='M769.87841%20652.183853h-53.444341V522.260992h53.444341zM789.528583%20522.260992h-19.650173v129.922861h84.898383V522.260992h-65.24821z'%20fill='%23F8C642'%20p-id='4452'%3e%3c/path%3e%3cpath%20d='M772.012054%20782.095242h-55.577985V652.172382H772.012054z'%20fill='%23F8C642'%20p-id='4453'%3e%3c/path%3e%3cpath%20d='M842.777913%20782.095242h-72.910974V652.183853h84.886912v117.923981a11.99888%2011.99888%200%200%201-11.975938%2011.987408z'%20fill='%237B49B6'%20p-id='4454'%3e%3c/path%3e%3cpath%20d='M836.571992%20522.260992H716.434069V392.338132h120.137923z'%20fill='%23FC3A64'%20p-id='4455'%3e%3c/path%3e%3cpath%20d='M854.776793%20522.260992h-65.24821V392.338132h65.24821z'%20fill='%23FFFFFF'%20p-id='4456'%3e%3c/path%3e%3cpath%20d='M348.518131%20692.73456l-20.18932%2088.95919H169.211736l126.951818-522.14628h224.124391l120.447646%20522.157751H483.316253l-20.533455-88.959189z%20m28.047095-122.48952h58.170477l-28.735367-127.640091z'%20fill='%23F8C642'%20p-id='4457'%3e%3c/path%3e%3cpath%20d='M296.163554%20259.54747l-22.896524%2094.190059H542.014406l-21.726461-94.190059H296.163554z'%20fill='%237B49B6'%20p-id='4458'%3e%3c/path%3e%3cpath%20d='M220.625674%20570.24504h214.1215l28.047095%20122.48952H190.846427l29.779247-122.48952z'%20fill='%23FC3A64'%20p-id='4459'%3e%3c/path%3e%3cpath%20d='M406.000336%20442.604949h156.513112l29.435111%20127.640091H434.747174l-28.746838-127.640091z'%20fill='%23FFFFFF'%20p-id='4460'%3e%3c/path%3e%3cpath%20d='M718.556241%20241.893286h134.098379v47.61697H718.556241z'%20fill='%23FC3A64'%20p-id='4461'%3e%3c/path%3e%3cpath%20d='M718.556241%20288.087826h134.098379v47.61697H718.556241z'%20fill='%23FC3A64'%20p-id='4462'%3e%3c/path%3e%3c/svg%3e",W3="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719904153305'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2427'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M554.666667%20298.666667h-85.333334v298.666666h256v-85.333333h-170.666666z'%20fill='%2309121F'%20p-id='2428'%3e%3c/path%3e%3cpath%20d='M810.666667%20217.6c-166.4-166.4-435.2-166.4-601.6%200-136.533333%20136.533333-162.133333%20345.6-72.533334%20512L85.333333%20938.666667l209.066667-51.2c162.133333%2093.866667%20375.466667%2072.533333%20516.266667-68.266667%20166.4-166.4%20166.4-435.2%200-601.6z%20m-59.733334%20541.866667c-119.466667%20119.466667-302.933333%20132.266667-435.2%2038.4l-102.4%2025.6-25.6%208.533333%204.266667-25.6%204.266667-25.6%204.266666-21.333333%2012.8-64c-81.066667-132.266667-64-307.2%2051.2-418.133334%20132.266667-132.266667%20349.866667-132.266667%20482.133334%200s140.8%20349.866667%204.266666%20482.133334z'%20fill='%2309121F'%20p-id='2429'%3e%3c/path%3e%3c/svg%3e",Z3="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719904547282'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='3454'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M535.722667%2042.666667l26.026666%200.085333c226.304%2012.458667%20407.04%20193.194667%20419.584%20421.845333v23.68a439.68%20439.68%200%200%201-47.189333%20199.253334%20445.568%20445.568%200%200%201-568.832%20212.48l-12.629333-5.504-253.866667%2084.650666a42.666667%2042.666667%200%200%201-55.210667-49.450666l1.28-4.522667%2084.565334-253.909333-5.461334-12.586667a439.850667%20439.850667%200%200%201-33.706666-154.453333l-0.213334-15.957334a445.568%20445.568%200%200%201%20246.229334-398.378666A439.893333%20439.893333%200%200%201%20535.722667%2042.666667z%20m23.68%2085.333333h-23.808a354.816%20354.816%200%200%200-160.981334%2038.186667%20360.32%20360.32%200%200%200-199.210666%20322.218666c-0.128%2055.893333%2012.928%20110.933333%2038.101333%20160.810667a42.666667%2042.666667%200%200%201%202.389333%2032.725333l-63.146666%20189.269334%20189.312-63.104a42.666667%2042.666667%200%200%201%2027.52%200.213333l5.205333%202.176c49.877333%2025.173333%20104.96%2038.229333%20160.896%2038.101333a360.362667%20360.362667%200%200%200%20322.218667-199.381333c25.173333-49.834667%2038.229333-104.96%2038.101333-160.810667l0.085333-21.461333c-10.112-182.869333-156.16-328.917333-336.64-338.944zM533.333333%20298.666667a42.666667%2042.666667%200%200%201%2042.666667%2042.666666v106.666667H682.666667a42.666667%2042.666667%200%200%201%200%2085.333333h-106.666667V640a42.666667%2042.666667%200%200%201-85.333333%200v-106.666667H384a42.666667%2042.666667%200%200%201%200-85.333333h106.666667V341.333333a42.666667%2042.666667%200%200%201%2042.666666-42.666666z'%20p-id='3455'%3e%3c/path%3e%3c/svg%3e",Q3="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719904580085'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='4501'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M896%20149.333333H646.186667a179.413333%20179.413333%200%200%200-68.906667%2013.866667%20187.306667%20187.306667%200%200%200-30.08%2016.426667%20157.013333%20157.013333%200%200%200-26.026667%2021.333333c-3.2%203.2-6.186667%206.4-9.173333%209.813333-2.986667-3.413333-5.973333-6.613333-9.173333-9.813333a157.013333%20157.013333%200%200%200-26.026667-21.333333%20187.306667%20187.306667%200%200%200-30.08-16.426667A179.413333%20179.413333%200%200%200%20377.813333%20149.333333H128a85.333333%2085.333333%200%200%200-85.333333%2085.333334v129.066666a42.666667%2042.666667%200%200%200%2085.333333%200V234.666667h249.813333a91.306667%2091.306667%200%200%201%2018.56%201.92%2083.2%2083.2%200%200%201%2017.066667%205.333333%2091.306667%2091.306667%200%200%201%2015.573333%208.32%2093.013333%2093.013333%200%200%201%2024.746667%2024.746667%2091.306667%2091.306667%200%200%201%208.32%2015.573333%2083.2%2083.2%200%200%201%205.333333%2017.066667%2091.306667%2091.306667%200%200%201%201.92%2018.56V469.333333a42.666667%2042.666667%200%200%200%2085.333334%200v-143.146666a91.306667%2091.306667%200%200%201%201.92-18.56%2083.2%2083.2%200%200%201%205.333333-17.066667%2091.306667%2091.306667%200%200%201%208.32-15.573333%20102.186667%20102.186667%200%200%201%2024.746667-24.746667%2091.306667%2091.306667%200%200%201%2015.573333-8.32%2083.2%2083.2%200%200%201%2017.066667-5.333333%2091.306667%2091.306667%200%200%201%2018.56-1.92H896v510.72H597.333333a42.666667%2042.666667%200%200%200-34.133333%2016.853333%2061.44%2061.44%200%200%201-4.693333%205.76%2058.24%2058.24%200%200%201-5.333334%204.906667%2039.68%2039.68%200%200%201-5.973333%204.48%2036.053333%2036.053333%200%200%201-6.186667%203.626666%2036.906667%2036.906667%200%200%201-6.613333%202.986667l-7.04%202.346667-7.253333%201.28a61.653333%2061.653333%200%200%201-15.36%200l-7.253334-1.28-6.826666-1.066667-6.613334-2.773333a112.853333%20112.853333%200%200%201-12.16-8.106667l-5.333333-5.12a61.44%2061.44%200%200%201-4.693333-5.76A42.666667%2042.666667%200%200%200%20426.666667%20746.666667H128v-192a42.666667%2042.666667%200%200%200-85.333333%200v192a85.333333%2085.333333%200%200%200%2085.333333%2085.333333h280.106667l8.106666%207.466667a122.24%20122.24%200%200%200%2013.44%2010.026666%20128%20128%200%200%200%2014.72%208.746667c4.906667%202.56%2010.24%204.906667%2015.573334%207.04s10.88%203.626667%2016.64%205.12a122.88%20122.88%200%200%200%2017.28%203.2A168.96%20168.96%200%200%200%20512%20874.666667a161.706667%20161.706667%200%200%200%2017.92%200%20120.32%20120.32%200%200%200%2017.493333-3.2q8.533333-2.346667%2016.64-5.12c5.333333-2.133333%2010.666667-4.48%2015.786667-7.04a145.493333%20145.493333%200%200%200%2014.506667-8.746667%20122.24%20122.24%200%200%200%2013.44-10.026667l8.106666-7.466666H896a85.333333%2085.333333%200%200%200%2085.333333-85.333334V234.666667a85.333333%2085.333333%200%200%200-85.333333-85.333334z'%20fill='%23333333'%20p-id='4502'%3e%3c/path%3e%3c/svg%3e",j3="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719904644273'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='5580'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M432.3%20893.3c-80.3%200-155.8-31.3-212.6-88.1l-1-1c-56.7-56.7-88-132.2-88-212.5%200-80.3%2031.3-155.8%2088.1-212.6l271.6-271.6c11.7-11.7%2030.7-11.7%2042.4%200s11.7%2030.7%200%2042.4L261.2%20421.5c-45.4%2045.4-70.5%20105.9-70.5%20170.1%200%2064.3%2025%20124.7%2070.5%20170.1l1%201c45.4%2045.4%20105.9%2070.5%20170.1%2070.5%2064.3%200%20124.7-25%20170.1-70.5L826.3%20539c28.5-28.5%2044.2-66.4%2044.2-106.7s-15.7-78.2-44.2-106.7-66.4-44.2-106.7-44.2-78.2%2015.7-106.7%2044.2L412.5%20526c-23.6%2023.6-23.6%2061.9%200%2085.5s61.9%2023.6%2085.5%200l177.4-177.4c11.7-11.7%2030.7-11.7%2042.4%200s11.7%2030.7%200%2042.4L540.4%20653.9c-47%2047-123.4%2047-170.3%200-47-47-47-123.4%200-170.3l200.3-200.3c82.2-82.2%20216-82.2%20298.2%200%2039.8%2039.8%2061.8%2092.8%2061.8%20149.1s-21.9%20109.3-61.8%20149.1L644.9%20805.2c-56.8%2056.8-132.3%2088.1-212.6%2088.1z'%20fill='%23333333'%20p-id='5581'%3e%3c/path%3e%3c/svg%3e",J3="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719974903949'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2412'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='128'%20height='128'%3e%3cpath%20d='M354.05824%20250.34752a112.39424%20112.39424%200%200%200-114.2784%20110.592v34.07872a26.37824%2026.37824%200%200%201-52.71552%200v-34.07872a164.2496%20164.2496%200%200%201%20166.99392-161.5872h105.34912a25.55904%2025.55904%200%201%201%200%2050.9952H354.05824z%20m77.4144%20600.55552h-44.2368a31.17056%2031.17056%200%200%200%202.29376-11.6736%20243.95776%20243.95776%200%200%200-245.92384-240.10752v-27.2384a110.592%20110.592%200%200%201%20112.4352-108.9536h175.59552a110.592%20110.592%200%200%201%20112.39424%20108.9536v170.10688a110.592%20110.592%200%200%201-112.39424%20108.87168l-0.16384%200.04096z%20m28.0576-251.74016a34.07872%2034.07872%200%201%200-35.14368-34.03776c0.28672%2019.0464%2015.9744%2034.28352%2035.0208%2033.9968h0.12288zM322.92864%20838.8608c0%204.096%200.77824%208.192%202.2528%2012.04224H255.75424A112.39424%20112.39424%200%200%201%20143.36%20738.54976v-81.1008a181.57568%20181.57568%200%200%201%20179.6096%20181.53472v-0.12288zM726.6304%20125.952a25.8048%2025.8048%200%200%201%2026.25536%2025.6v49.80736h101.376c7.33184%200%2014.336%202.94912%2019.37408%208.192a25.1904%2025.1904%200%200%201%206.9632%2019.41504%20294.912%20294.912%200%200%201-98.9184%20192.3072c21.7088%2016.30208%2047.59552%2026.17344%2074.67008%2028.54912a25.8048%2025.8048%200%200%201%2024.1664%2027.52512%2026.13248%2026.13248%200%200%201-28.30336%2023.51104%20200.66304%20200.66304%200%200%201-113.0496-47.18592%20300.2368%20300.2368%200%200%201-138.24%2047.104%2026.13248%2026.13248%200%200%201-28.34432-23.47008%2025.8048%2025.8048%200%200%201%2024.1664-27.56608%20245.30944%20245.30944%200%200%200%20106.61888-34.6112%20186.28608%20186.28608%200%200%201-35.0208-93.02016%2025.31328%2025.31328%200%200%201%2011.0592-23.9616%2026.99264%2026.99264%200%200%201%2026.91072-2.048c8.64256%204.01408%2014.336%2012.53376%2014.7456%2022.1184%202.21184%2023.7568%2010.6496%2046.57152%2024.49408%2066.02752A250.96192%20250.96192%200%200%200%20824.1152%20252.7232h-224.8704a25.8048%2025.8048%200%201%201%200-51.24096h101.29408V151.38816a26.0096%2026.0096%200%200%201%2026.09152-25.43616z%20m119.11168%20447.03744a26.0096%2026.0096%200%200%201%2026.33728%2025.6v102.44096a164.61824%20164.61824%200%200%201-166.83008%20162.2016h-35.10272a25.8048%2025.8048%200%201%201%200-51.2h35.10272a112.59904%20112.59904%200%200%200%20114.2784-111.0016v-102.4a26.0096%2026.0096%200%200%201%2026.2144-25.64096z'%20p-id='2413'%3e%3c/path%3e%3c/svg%3e",La=b=>(oe("data-v-50292a60"),b=b(),ve(),b),g3={class:"chat-container"},et={key:0,class:"image-container"},at=La(()=>u0("img",{class:"img",src:K3,alt:"Placeholder Image"},null,-1)),tt=La(()=>u0("h1",{style:{"font-size":"20px"}},"我今天能帮你什么？",-1)),rt=[at,tt],st={class:"message-container"},nt={class:"message-header"},it={class:"sender-name"},lt={class:"message-content"},_t={key:0},ot=["src"],vt={key:1,class:"file-info"},ut={class:"input-container"},ct=_e({__name:"Chat",emits:["show-pdf"],setup(b,{emit:H}){const F=T0(""),P=T0("1"),Z=T0([]),Y=T0(null),q=T0(null),G=()=>{if(F.value.trim()==="")return;Z.value.push({sender:"user",content:F.value,type:"text"});let L=new FormData;L.append("username","123456"),L.append("number",P.value),L.append("cont",F.value),Y.value?(L.append("file",Y.value),T2({method:"post",url:"/getAI",data:L}).then(y=>{console.log(y.data),Z.value.push({sender:"ai",content:y.data.answer,type:"text"}),console.log(y.data.answer)}).catch(y=>{ge.error("请求错误: ",y)}),F.value="",Y.value=null):(T2({method:"post",url:"/getAI",data:L}).then(y=>{console.log(y.data),Z.value.push({sender:"ai",content:y.data.answer,type:"text"}),console.log(y.data.answer)}).catch(y=>{ge.error("请求错误: ",y)}),F.value="",Y.value=null)},W=L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),G())},A=()=>{q.value&&q.value.click()},$=L=>{const y=L.target;y.files&&y.files.length>0&&(Y.value=y.files[0])},S=()=>{console.log("显示聊天历史")},O=()=>{console.log("新建聊天"),Z.value=[],Y.value=null},V=()=>{console.log("阅读此文档");const L=new Blob([document.documentElement.outerHTML],{type:"text/html"});Y.value=new File([L],"document.html",{type:"text/html"})},T=()=>{F.value.trim()!==""&&(Z.value.push({sender:"user",content:F.value,type:"text"}),T2({method:"post",url:"/wordtopic",data:{prompt:F.value}}).then(L=>{const y=L.data;Z.value.push({sender:"ai",content:y,type:"image"}),console.log(L.data)}).catch(L=>{console.error("请求错误: ",L)}),F.value="")};return(L,y)=>{const p=e3,_=De;return R0(),k0("div",g3,[Z.value.length===0?(R0(),k0("div",et,rt)):j0("",!0),u0("div",st,[(R0(!0),k0(u2,null,P2(Z.value,(c,d)=>(R0(),k0("div",{key:d,class:"message-wrapper"},[u0("div",nt,[y0(p,{class:"mr-3",size:32}),u0("span",it,r2(c.sender==="user"?"用户":"AI"),1)]),u0("div",{class:W0(["message-bubble",c.sender])},[u0("div",lt,[c.type==="text"?(R0(),k0("div",_t,r2(c.content),1)):j0("",!0),c.type==="image"?(R0(),k0("img",{key:1,src:c.content,alt:"Generated Image"},null,8,ot)):j0("",!0)])],2)]))),128))]),u0("div",{class:"button-container"},[u0("img",{src:W3,onClick:S}),u0("img",{src:Z3,onClick:O}),u0("img",{src:Q3,onClick:V}),u0("img",{src:j3,onClick:A}),u0("img",{src:J3,onClick:T})]),Y.value?(R0(),k0("div",vt,r2(Y.value.name),1)):j0("",!0),u0("div",ut,[u0("input",{ref_key:"fileInput",ref:q,type:"file",onChange:$,style:{display:"none"}},null,544),y0(_,{modelValue:F.value,"onUpdate:modelValue":y[0]||(y[0]=c=>F.value=c),type:"textarea",autosize:{minRows:5,maxRows:10},placeholder:"输入聊天...",onKeypress:W},null,8,["modelValue"])])])}}}),ht=O2(ct,[["__scopeId","data-v-50292a60"]]),mt=u0("h1",null,"从图像中提取文本，数字和方程",-1),ft=u0("div",{class:"el-upload__text"},[t1(" 将图片拖拽至此处或"),u0("em",null,"点击上传")],-1),dt=u0("div",{class:"el-upload__tip"}," 最大尺寸500kb、支持jpg、png格式 ",-1),bt=_e({__name:"Ocr",setup(b){const H=T0(""),F=P=>{const Z=P.file;let Y=new FormData;Y.append("file",Z),Y.append("number","3"),Y.append("username","admin"),Y.append("cont",""),T2({method:"post",url:"/getAI",data:Y}).then(q=>{H.value=q.data.answer,P.onSuccess(q.data,Z),console.log("后端返回的消息：",q.data.answer)}).catch(q=>{console.error("请求错误: ",q),P.onError(q)})};return(P,Z)=>{const Y=Xe,q=t3;return R0(),k0("div",null,[mt,y0(q,{class:"upload-demo",drag:"",action:"",multiple:"","http-request":F,style:{width:"240px"}},{tip:H0(()=>[dt]),default:H0(()=>[y0(Y,{class:"el-icon--upload"},{default:H0(()=>[y0(Ba(a3))]),_:1}),ft]),_:1}),t1(" 结果："+r2(H.value),1)])}}}),wt=u0("h1",null,"翻译",-1),St=_e({__name:"Translate",setup(b){const H=T0("2"),F=T0(""),P=T0(""),Z=T0(""),Y=T0(""),q=[{value:"Chinese",label:"中文(简体)"},{value:"Chinese2",label:"中文(繁体)"},{value:"English",label:"English"},{value:"japanese",label:"日本語にほんご"},{value:"Spanish",label:"español"}],G=[{value:"Chinese",label:"中文(简体)"},{value:"Chinese2",label:"中文(繁体)"},{value:"English",label:"English"},{value:"japanese",label:"日本語にほんご"},{value:"Spanish",label:"español"}],W=()=>{let A=new FormData;A.append("username","123456"),A.append("number",H.value),A.append("language1",F.value),A.append("language2",P.value),A.append("cont",Z.value),T2({method:"post",url:"/getAI",data:A}).then($=>{Y.value=$.data.answer,console.log($.data.answer)}).catch($=>{console.error("请求错误: ",$)}),Z.value=""};return(A,$)=>{const S=r3,O=s3,V=De,T=c2("SetUp"),L=Xe,y=Ca;return R0(),k0(u2,null,[wt,y0(O,{modelValue:F.value,"onUpdate:modelValue":$[0]||($[0]=p=>F.value=p),placeholder:"Select",size:"large",style:{width:"240px"}},{default:H0(()=>[(R0(),k0(u2,null,P2(q,p=>y0(S,{key:p.value,label:p.label,value:p.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),y0(O,{modelValue:P.value,"onUpdate:modelValue":$[1]||($[1]=p=>P.value=p),placeholder:"Select",size:"large",style:{width:"240px"}},{default:H0(()=>[(R0(),k0(u2,null,P2(G,p=>y0(S,{key:p.value,label:p.label,value:p.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),y0(V,{modelValue:Z.value,"onUpdate:modelValue":$[2]||($[2]=p=>Z.value=p),type:"textarea",autosize:{minRows:6,maxRows:8},placeholder:"输入你要翻译的语句"},null,8,["modelValue"]),y0(L,null,{default:H0(()=>[y0(T)]),_:1}),y0(y,{type:"primary",onClick:W},{default:H0(()=>[t1("提交")]),_:1}),u0("h1",null,"结果："+r2(Y.value),1)],64)}}}),ce=b=>(oe("data-v-4e5b64f8"),b=b(),ve(),b),xt={style:{width:"240px"}},Mt=ce(()=>u0("h2",null,"格式",-1)),pt={class:"write"},At=ce(()=>u0("h2",null,"语气",-1)),Rt={class:"write"},Et=ce(()=>u0("h2",null,"长度",-1)),yt={class:"write"},Bt=ce(()=>u0("h2",null,"语言",-1)),Tt={class:"write"},It={class:"response"},Ct=_e({__name:"Write",setup(b){const H=T0(""),F=T0("4"),P=T0(""),Z=T0(""),Y=T0(""),q=T0(""),G=T0(""),W=()=>{if(H.value.trim()==="")return;let V=new FormData;V.append("username","123456"),V.append("number",F.value),V.append("cont",H.value),V.append("format",Z.value),V.append("tone",Y.value),V.append("length",q.value),V.append("language",G.value),T2({method:"post",url:"/getAI",data:V}).then(T=>{P.value=T.data.answer,console.log(T.data.answer)}).catch(T=>{console.error("请求错误: ",T)}),H.value=""},A=V=>{Z.value=V},$=V=>{Y.value=V},S=V=>{q.value=V},O=V=>{G.value=V};return(V,T)=>{const L=De,y=Ca;return R0(),k0("div",xt,[y0(L,{modelValue:H.value,"onUpdate:modelValue":T[0]||(T[0]=p=>H.value=p),type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"输入以聊天",style:{"margin-bottom":"20px"}},null,8,["modelValue"]),Mt,u0("div",pt,[y0(y,{class:W0({selected:Z.value==="outline"}),onClick:T[1]||(T[1]=p=>A("outline"))},{default:H0(()=>[t1("大纲")]),_:1},8,["class"]),y0(y,{class:W0({selected:Z.value==="continue"}),onClick:T[2]||(T[2]=p=>A("continue"))},{default:H0(()=>[t1("续写")]),_:1},8,["class"]),y0(y,{class:W0({selected:Z.value==="polish"}),onClick:T[3]||(T[3]=p=>A("polish"))},{default:H0(()=>[t1("润色")]),_:1},8,["class"]),y0(y,{class:W0({selected:Z.value==="email"}),onClick:T[4]||(T[4]=p=>A("email"))},{default:H0(()=>[t1("邮件")]),_:1},8,["class"]),y0(y,{class:W0({selected:Z.value==="outline"}),onClick:T[5]||(T[5]=p=>A("abstrct"))},{default:H0(()=>[t1("摘要")]),_:1},8,["class"])]),At,u0("div",Rt,[y0(y,{class:W0({selected:Y.value==="formal"}),onClick:T[6]||(T[6]=p=>$("formal"))},{default:H0(()=>[t1("正式的")]),_:1},8,["class"]),y0(y,{class:W0({selected:Y.value==="casual"}),onClick:T[7]||(T[7]=p=>$("casual"))},{default:H0(()=>[t1("随意的")]),_:1},8,["class"]),y0(y,{class:W0({selected:Y.value==="professional"}),onClick:T[8]||(T[8]=p=>$("professional"))},{default:H0(()=>[t1("专业的")]),_:1},8,["class"])]),Et,u0("div",yt,[y0(y,{class:W0({selected:q.value==="short"}),onClick:T[9]||(T[9]=p=>S("short"))},{default:H0(()=>[t1("短")]),_:1},8,["class"]),y0(y,{class:W0({selected:q.value==="medium"}),onClick:T[10]||(T[10]=p=>S("medium"))},{default:H0(()=>[t1("中")]),_:1},8,["class"]),y0(y,{class:W0({selected:q.value==="long"}),onClick:T[11]||(T[11]=p=>S("long"))},{default:H0(()=>[t1("长")]),_:1},8,["class"])]),Bt,u0("div",Tt,[y0(y,{class:W0({selected:G.value==="chinese"}),onClick:T[12]||(T[12]=p=>O("chinese"))},{default:H0(()=>[t1("中文")]),_:1},8,["class"]),y0(y,{class:W0({selected:G.value==="english"}),onClick:T[13]||(T[13]=p=>O("english"))},{default:H0(()=>[t1("英文")]),_:1},8,["class"]),y0(y,{class:W0({selected:G.value==="japanese"}),onClick:T[14]||(T[14]=p=>O("japanese"))},{default:H0(()=>[t1("日文")]),_:1},8,["class"])]),y0(y,{type:"primary",onClick:W},{default:H0(()=>[t1("发送")]),_:1}),u0("div",It," 结果："+r2(P.value),1)])}}}),Lt=O2(Ct,[["__scopeId","data-v-4e5b64f8"]]);var ie={};function Vt(b){return new Int8Array(b)}function Va(b){return new Int16Array(b)}function ka(b){return new Int32Array(b)}function Ha(b){return new Float32Array(b)}function kt(b){return new Float64Array(b)}function Na(b){if(b.length==1)return Ha(b[0]);var H=b[0];b=b.slice(1);for(var F=[],P=0;P<H;P++)F.push(Na(b));return F}function Oa(b){if(b.length==1)return ka(b[0]);var H=b[0];b=b.slice(1);for(var F=[],P=0;P<H;P++)F.push(Oa(b));return F}function Fa(b){if(b.length==1)return Va(b[0]);var H=b[0];b=b.slice(1);for(var F=[],P=0;P<H;P++)F.push(Fa(b));return F}function $a(b){if(b.length==1)return new Array(b[0]);var H=b[0];b=b.slice(1);for(var F=[],P=0;P<H;P++)F.push($a(b));return F}var Da={};Da.fill=function(b,H,F,P){if(arguments.length==2)for(var Z=0;Z<b.length;Z++)b[Z]=arguments[1];else for(var Z=H;Z<F;Z++)b[Z]=P};var U2={};U2.arraycopy=function(b,H,F,P,Z){for(var Y=H+Z;H<Y;)F[P++]=b[H++]};U2.out={};U2.out.println=function(b){console.log(b)};U2.out.printf=function(){console.log.apply(console,arguments)};var he={};he.SQRT2=1.4142135623730951;he.FAST_LOG10=function(b){return Math.log10(b)};he.FAST_LOG10_X=function(b,H){return Math.log10(b)*H};function _2(b){this.ordinal=b}_2.short_block_allowed=new _2(0);_2.short_block_coupled=new _2(1);_2.short_block_dispensed=new _2(2);_2.short_block_forced=new _2(3);var Xa={};Xa.MAX_VALUE=34028235e31;function X1(b){this.ordinal=b}X1.vbr_off=new X1(0);X1.vbr_mt=new X1(1);X1.vbr_rh=new X1(2);X1.vbr_abr=new X1(3);X1.vbr_mtrh=new X1(4);X1.vbr_default=X1.vbr_mtrh;var Ht=function(b){},G0={System:U2,VbrMode:X1,Float:Xa,ShortBlock:_2,Util:he,Arrays:Da,new_array_n:$a,new_byte:Vt,new_double:kt,new_float:Ha,new_float_n:Na,new_int:ka,new_int_n:Oa,new_short:Va,new_short_n:Fa,assert:Ht},Ee,aa;function Nt(){if(aa)return Ee;aa=1;var b=G0,H=b.System;b.VbrMode,b.Float,b.ShortBlock;var F=b.Util,P=b.Arrays;b.new_array_n,b.new_byte,b.new_double;var Z=b.new_float;b.new_float_n,b.new_int,b.new_int_n,b.assert;var Y=n1();function q(){var G=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*F.SQRT2*.5/2384e-9,.017876148*F.SQRT2*.5/2384e-9,.003134727*F.SQRT2*.5/2384e-9,.002457142*F.SQRT2*.5/2384e-9,971317e-9*F.SQRT2*.5/2384e-9,218868e-9*F.SQRT2*.5/2384e-9,101566e-9*F.SQRT2*.5/2384e-9,13828e-9*F.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],W=12,A=36,$=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],S=$[Y.SHORT_TYPE],O=$[Y.SHORT_TYPE],V=$[Y.SHORT_TYPE],T=$[Y.SHORT_TYPE],L=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function y(c,d,e){for(var m=10,h=d+238-14-286,x=-15;x<0;x++){var v,s,r;v=G[m+-10],s=c[h+-224]*v,r=c[d+224]*v,v=G[m+-9],s+=c[h+-160]*v,r+=c[d+160]*v,v=G[m+-8],s+=c[h+-96]*v,r+=c[d+96]*v,v=G[m+-7],s+=c[h+-32]*v,r+=c[d+32]*v,v=G[m+-6],s+=c[h+32]*v,r+=c[d+-32]*v,v=G[m+-5],s+=c[h+96]*v,r+=c[d+-96]*v,v=G[m+-4],s+=c[h+160]*v,r+=c[d+-160]*v,v=G[m+-3],s+=c[h+224]*v,r+=c[d+-224]*v,v=G[m+-2],s+=c[d+-256]*v,r-=c[h+256]*v,v=G[m+-1],s+=c[d+-192]*v,r-=c[h+192]*v,v=G[m+0],s+=c[d+-128]*v,r-=c[h+128]*v,v=G[m+1],s+=c[d+-64]*v,r-=c[h+64]*v,v=G[m+2],s+=c[d+0]*v,r-=c[h+0]*v,v=G[m+3],s+=c[d+64]*v,r-=c[h+-64]*v,v=G[m+4],s+=c[d+128]*v,r-=c[h+-128]*v,v=G[m+5],s+=c[d+192]*v,r-=c[h+-192]*v,s*=G[m+6],v=r-s,e[30+x*2]=r+s,e[31+x*2]=G[m+7]*v,m+=18,d--,h++}{var s,r,o,n;r=c[d+-16]*G[m+-10],s=c[d+-32]*G[m+-2],r+=(c[d+-48]-c[d+16])*G[m+-9],s+=c[d+-96]*G[m+-1],r+=(c[d+-80]+c[d+48])*G[m+-8],s+=c[d+-160]*G[m+0],r+=(c[d+-112]-c[d+80])*G[m+-7],s+=c[d+-224]*G[m+1],r+=(c[d+-144]+c[d+112])*G[m+-6],s-=c[d+32]*G[m+2],r+=(c[d+-176]-c[d+144])*G[m+-5],s-=c[d+96]*G[m+3],r+=(c[d+-208]+c[d+176])*G[m+-4],s-=c[d+160]*G[m+4],r+=(c[d+-240]-c[d+208])*G[m+-3],s-=c[d+224],o=s-r,n=s+r,r=e[14],s=e[15]-r,e[31]=n+r,e[30]=o+s,e[15]=o-s,e[14]=n-r}{var a;a=e[28]-e[0],e[0]+=e[28],e[28]=a*G[m+-2*18+7],a=e[29]-e[1],e[1]+=e[29],e[29]=a*G[m+-2*18+7],a=e[26]-e[2],e[2]+=e[26],e[26]=a*G[m+-4*18+7],a=e[27]-e[3],e[3]+=e[27],e[27]=a*G[m+-4*18+7],a=e[24]-e[4],e[4]+=e[24],e[24]=a*G[m+-6*18+7],a=e[25]-e[5],e[5]+=e[25],e[25]=a*G[m+-6*18+7],a=e[22]-e[6],e[6]+=e[22],e[22]=a*F.SQRT2,a=e[23]-e[7],e[7]+=e[23],e[23]=a*F.SQRT2-e[7],e[7]-=e[6],e[22]-=e[7],e[23]-=e[22],a=e[6],e[6]=e[31]-a,e[31]=e[31]+a,a=e[7],e[7]=e[30]-a,e[30]=e[30]+a,a=e[22],e[22]=e[15]-a,e[15]=e[15]+a,a=e[23],e[23]=e[14]-a,e[14]=e[14]+a,a=e[20]-e[8],e[8]+=e[20],e[20]=a*G[m+-10*18+7],a=e[21]-e[9],e[9]+=e[21],e[21]=a*G[m+-10*18+7],a=e[18]-e[10],e[10]+=e[18],e[18]=a*G[m+-12*18+7],a=e[19]-e[11],e[11]+=e[19],e[19]=a*G[m+-12*18+7],a=e[16]-e[12],e[12]+=e[16],e[16]=a*G[m+-14*18+7],a=e[17]-e[13],e[13]+=e[17],e[17]=a*G[m+-14*18+7],a=-e[20]+e[24],e[20]+=e[24],e[24]=a*G[m+-12*18+7],a=-e[21]+e[25],e[21]+=e[25],e[25]=a*G[m+-12*18+7],a=e[4]-e[8],e[4]+=e[8],e[8]=a*G[m+-12*18+7],a=e[5]-e[9],e[5]+=e[9],e[9]=a*G[m+-12*18+7],a=e[0]-e[12],e[0]+=e[12],e[12]=a*G[m+-4*18+7],a=e[1]-e[13],e[1]+=e[13],e[13]=a*G[m+-4*18+7],a=e[16]-e[28],e[16]+=e[28],e[28]=a*G[m+-4*18+7],a=-e[17]+e[29],e[17]+=e[29],e[29]=a*G[m+-4*18+7],a=F.SQRT2*(e[2]-e[10]),e[2]+=e[10],e[10]=a,a=F.SQRT2*(e[3]-e[11]),e[3]+=e[11],e[11]=a,a=F.SQRT2*(-e[18]+e[26]),e[18]+=e[26],e[26]=a-e[18],a=F.SQRT2*(-e[19]+e[27]),e[19]+=e[27],e[27]=a-e[19],a=e[2],e[19]-=e[3],e[3]-=a,e[2]=e[31]-a,e[31]+=a,a=e[3],e[11]-=e[19],e[18]-=a,e[3]=e[30]-a,e[30]+=a,a=e[18],e[27]-=e[11],e[19]-=a,e[18]=e[15]-a,e[15]+=a,a=e[19],e[10]-=a,e[19]=e[14]-a,e[14]+=a,a=e[10],e[11]-=a,e[10]=e[23]-a,e[23]+=a,a=e[11],e[26]-=a,e[11]=e[22]-a,e[22]+=a,a=e[26],e[27]-=a,e[26]=e[7]-a,e[7]+=a,a=e[27],e[27]=e[6]-a,e[6]+=a,a=F.SQRT2*(e[0]-e[4]),e[0]+=e[4],e[4]=a,a=F.SQRT2*(e[1]-e[5]),e[1]+=e[5],e[5]=a,a=F.SQRT2*(e[16]-e[20]),e[16]+=e[20],e[20]=a,a=F.SQRT2*(e[17]-e[21]),e[17]+=e[21],e[21]=a,a=-F.SQRT2*(e[8]-e[12]),e[8]+=e[12],e[12]=a-e[8],a=-F.SQRT2*(e[9]-e[13]),e[9]+=e[13],e[13]=a-e[9],a=-F.SQRT2*(e[25]-e[29]),e[25]+=e[29],e[29]=a-e[25],a=-F.SQRT2*(e[24]+e[28]),e[24]-=e[28],e[28]=a-e[24],a=e[24]-e[16],e[24]=a,a=e[20]-a,e[20]=a,a=e[28]-a,e[28]=a,a=e[25]-e[17],e[25]=a,a=e[21]-a,e[21]=a,a=e[29]-a,e[29]=a,a=e[17]-e[1],e[17]=a,a=e[9]-a,e[9]=a,a=e[25]-a,e[25]=a,a=e[5]-a,e[5]=a,a=e[21]-a,e[21]=a,a=e[13]-a,e[13]=a,a=e[29]-a,e[29]=a,a=e[1]-e[0],e[1]=a,a=e[16]-a,e[16]=a,a=e[17]-a,e[17]=a,a=e[8]-a,e[8]=a,a=e[9]-a,e[9]=a,a=e[24]-a,e[24]=a,a=e[25]-a,e[25]=a,a=e[4]-a,e[4]=a,a=e[5]-a,e[5]=a,a=e[20]-a,e[20]=a,a=e[21]-a,e[21]=a,a=e[12]-a,e[12]=a,a=e[13]-a,e[13]=a,a=e[28]-a,e[28]=a,a=e[29]-a,e[29]=a,a=e[0],e[0]+=e[31],e[31]-=a,a=e[1],e[1]+=e[30],e[30]-=a,a=e[16],e[16]+=e[15],e[15]-=a,a=e[17],e[17]+=e[14],e[14]-=a,a=e[8],e[8]+=e[23],e[23]-=a,a=e[9],e[9]+=e[22],e[22]-=a,a=e[24],e[24]+=e[7],e[7]-=a,a=e[25],e[25]+=e[6],e[6]-=a,a=e[4],e[4]+=e[27],e[27]-=a,a=e[5],e[5]+=e[26],e[26]-=a,a=e[20],e[20]+=e[11],e[11]-=a,a=e[21],e[21]+=e[10],e[10]-=a,a=e[12],e[12]+=e[19],e[19]-=a,a=e[13],e[13]+=e[18],e[18]-=a,a=e[28],e[28]+=e[3],e[3]-=a,a=e[29],e[29]+=e[2],e[2]-=a}}function p(c,d){for(var e=0;e<3;e++){var m,h,x,v,s,r;v=c[d+2*3]*$[Y.SHORT_TYPE][0]-c[d+5*3],m=c[d+0*3]*$[Y.SHORT_TYPE][2]-c[d+3*3],h=v+m,x=v-m,v=c[d+5*3]*$[Y.SHORT_TYPE][0]+c[d+2*3],m=c[d+3*3]*$[Y.SHORT_TYPE][2]+c[d+0*3],s=v+m,r=-v+m,m=(c[d+1*3]*$[Y.SHORT_TYPE][1]-c[d+4*3])*2069978111953089e-26,v=(c[d+4*3]*$[Y.SHORT_TYPE][1]+c[d+1*3])*2069978111953089e-26,c[d+3*0]=h*190752519173728e-25+m,c[d+3*5]=-s*190752519173728e-25+v,x=x*.8660254037844387*1907525191737281e-26,s=s*.5*1907525191737281e-26+v,c[d+3*1]=x-s,c[d+3*2]=x+s,h=h*.5*1907525191737281e-26-m,r=r*.8660254037844387*1907525191737281e-26,c[d+3*3]=h+r,c[d+3*4]=h-r,d++}}function _(c,d,e){var m,h;{var x,v,s,r,o,n,a,u;x=e[17]-e[9],s=e[15]-e[11],r=e[14]-e[12],o=e[0]+e[8],n=e[1]+e[7],a=e[2]+e[6],u=e[3]+e[5],c[d+17]=o+a-u-(n-e[4]),h=(o+a-u)*O[19]+(n-e[4]),m=(x-s-r)*O[18],c[d+5]=m+h,c[d+6]=m-h,v=(e[16]-e[10])*O[18],n=n*O[19]+e[4],m=x*O[12]+v+s*O[13]+r*O[14],h=-o*O[16]+n-a*O[17]+u*O[15],c[d+1]=m+h,c[d+2]=m-h,m=x*O[13]-v-s*O[14]+r*O[12],h=-o*O[17]+n-a*O[15]+u*O[16],c[d+9]=m+h,c[d+10]=m-h,m=x*O[14]-v+s*O[12]-r*O[13],h=o*O[15]-n+a*O[16]-u*O[17],c[d+13]=m+h,c[d+14]=m-h}{var l,N,R,B,t,i,C,k;l=e[8]-e[0],R=e[6]-e[2],B=e[5]-e[3],t=e[17]+e[9],i=e[16]+e[10],C=e[15]+e[11],k=e[14]+e[12],c[d+0]=t+C+k+(i+e[13]),m=(t+C+k)*O[19]-(i+e[13]),h=(l-R+B)*O[18],c[d+11]=m+h,c[d+12]=m-h,N=(e[7]-e[1])*O[18],i=e[13]-i*O[19],m=t*O[15]-i+C*O[16]+k*O[17],h=l*O[14]+N+R*O[12]+B*O[13],c[d+3]=m+h,c[d+4]=m-h,m=-t*O[17]+i-C*O[15]-k*O[16],h=l*O[13]+N-R*O[14]-B*O[12],c[d+7]=m+h,c[d+8]=m-h,m=-t*O[16]+i-C*O[17]-k*O[15],h=l*O[12]-N+R*O[13]-B*O[14],c[d+15]=m+h,c[d+16]=m-h}}this.mdct_sub48=function(c,d,e){for(var m=d,h=286,x=0;x<c.channels_out;x++){for(var v=0;v<c.mode_gr;v++){for(var s,r=c.l3_side.tt[v][x],o=r.xr,n=0,a=c.sb_sample[x][1-v],u=0,l=0;l<18/2;l++)for(y(m,h,a[u]),y(m,h+32,a[u+1]),u+=2,h+=64,s=1;s<32;s+=2)a[u-1][s]*=-1;for(s=0;s<32;s++,n+=18){var N=r.block_type,R=c.sb_sample[x][v],B=c.sb_sample[x][1-v];if(r.mixed_block_flag!=0&&s<2&&(N=0),c.amp_filter[s]<1e-12)P.fill(o,n+0,n+18,0);else{if(c.amp_filter[s]<1)for(var l=0;l<18;l++)B[l][L[s]]*=c.amp_filter[s];if(N==Y.SHORT_TYPE){for(var l=-W/4;l<0;l++){var t=$[Y.SHORT_TYPE][l+3];o[n+l*3+9]=R[9+l][L[s]]*t-R[8-l][L[s]],o[n+l*3+18]=R[14-l][L[s]]*t+R[15+l][L[s]],o[n+l*3+10]=R[15+l][L[s]]*t-R[14-l][L[s]],o[n+l*3+19]=B[2-l][L[s]]*t+B[3+l][L[s]],o[n+l*3+11]=B[3+l][L[s]]*t-B[2-l][L[s]],o[n+l*3+20]=B[8-l][L[s]]*t+B[9+l][L[s]]}p(o,n)}else{for(var i=Z(18),l=-A/4;l<0;l++){var C,k;C=$[N][l+27]*B[l+9][L[s]]+$[N][l+36]*B[8-l][L[s]],k=$[N][l+9]*R[l+9][L[s]]-$[N][l+18]*R[8-l][L[s]],i[l+9]=C-k*S[3+l+9],i[l+18]=C*S[3+l+9]+k}_(o,n,i)}}if(N!=Y.SHORT_TYPE&&s!=0)for(var l=7;l>=0;--l){var s0,_0;s0=o[n+l]*V[20+l]+o[n+-1-l]*T[28+l],_0=o[n+l]*T[28+l]-o[n+-1-l]*V[20+l],o[n+-1-l]=s0,o[n+l]=_0}}}if(m=e,h=286,c.mode_gr==1)for(var i0=0;i0<18;i0++)H.arraycopy(c.sb_sample[x][1][i0],0,c.sb_sample[x][0][i0],0,32)}}}return Ee=q,Ee}var ye,ta;function Ga(){if(ta)return ye;ta=1;var b=n1(),H=G0,F=H.System;H.VbrMode,H.Float,H.ShortBlock,H.Util,H.Arrays,H.new_array_n,H.new_byte,H.new_double;var P=H.new_float,Z=H.new_float_n;H.new_int,H.new_int_n,H.assert;function Y(){this.l=P(b.SBMAX_l),this.s=Z([b.SBMAX_s,3]);var q=this;this.assign=function(G){F.arraycopy(G.l,0,q.l,0,b.SBMAX_l);for(var W=0;W<b.SBMAX_s;W++)for(var A=0;A<3;A++)q.s[W][A]=G.s[W][A]}}return ye=Y,ye}var Be,ra;function Ot(){if(ra)return Be;ra=1;var b=Ga();function H(){this.thm=new b,this.en=new b}return Be=H,Be}var Te,sa;function n1(){if(sa)return Te;sa=1;var b=G0,H=b.System,F=b.VbrMode;b.Float,b.ShortBlock,b.Util,b.Arrays;var P=b.new_array_n;b.new_byte,b.new_double;var Z=b.new_float,Y=b.new_float_n,q=b.new_int;b.new_int_n;var G=b.assert;W.ENCDELAY=576,W.POSTDELAY=1152,W.MDCTDELAY=48,W.FFTOFFSET=224+W.MDCTDELAY,W.DECDELAY=528,W.SBLIMIT=32,W.CBANDS=64,W.SBPSY_l=21,W.SBPSY_s=12,W.SBMAX_l=22,W.SBMAX_s=13,W.PSFB21=6,W.PSFB12=6,W.BLKSIZE=1024,W.HBLKSIZE=W.BLKSIZE/2+1,W.BLKSIZE_s=256,W.HBLKSIZE_s=W.BLKSIZE_s/2+1,W.NORM_TYPE=0,W.START_TYPE=1,W.SHORT_TYPE=2,W.STOP_TYPE=3,W.MPG_MD_LR_LR=0,W.MPG_MD_LR_I=1,W.MPG_MD_MS_LR=2,W.MPG_MD_MS_I=3,W.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function W(){var A=Nt(),$=Ot(),S=W.FFTOFFSET,O=W.MPG_MD_MS_LR,V=null;this.psy=null;var T=null,L=null,y=null;this.setModules=function(e,m,h,x){V=e,this.psy=m,T=m,L=x,y=h};var p=new A;function _(e){var m,h;if(e.ATH.useAdjust==0){e.ATH.adjust=1;return}if(h=e.loudness_sq[0][0],m=e.loudness_sq[1][0],e.channels_out==2?(h+=e.loudness_sq[0][1],m+=e.loudness_sq[1][1]):(h+=h,m+=m),e.mode_gr==2&&(h=Math.max(h,m)),h*=.5,h*=e.ATH.aaSensitivityP,h>.03125)e.ATH.adjust>=1?e.ATH.adjust=1:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=1;else{var x=31.98*h+625e-6;e.ATH.adjust>=x?(e.ATH.adjust*=x*.075+.925,e.ATH.adjust<x&&(e.ATH.adjust=x)):e.ATH.adjustLimit>=x?e.ATH.adjust=x:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=x}}function c(e){var m,h;for(G(0<=e.bitrate_index&&e.bitrate_index<16),G(0<=e.mode_ext&&e.mode_ext<4),e.bitrate_stereoMode_Hist[e.bitrate_index][4]++,e.bitrate_stereoMode_Hist[15][4]++,e.channels_out==2&&(e.bitrate_stereoMode_Hist[e.bitrate_index][e.mode_ext]++,e.bitrate_stereoMode_Hist[15][e.mode_ext]++),m=0;m<e.mode_gr;++m)for(h=0;h<e.channels_out;++h){var x=e.l3_side.tt[m][h].block_type|0;e.l3_side.tt[m][h].mixed_block_flag!=0&&(x=4),e.bitrate_blockType_Hist[e.bitrate_index][x]++,e.bitrate_blockType_Hist[e.bitrate_index][5]++,e.bitrate_blockType_Hist[15][x]++,e.bitrate_blockType_Hist[15][5]++}}function d(e,m){var h=e.internal_flags,x,v;if(h.lame_encode_frame_init==0){var s,r,o=Z(2014),n=Z(2014);for(h.lame_encode_frame_init=1,s=0,r=0;s<286+576*(1+h.mode_gr);++s)s<576*h.mode_gr?(o[s]=0,h.channels_out==2&&(n[s]=0)):(o[s]=m[0][r],h.channels_out==2&&(n[s]=m[1][r]),++r);for(v=0;v<h.mode_gr;v++)for(x=0;x<h.channels_out;x++)h.l3_side.tt[v][x].block_type=W.SHORT_TYPE;p.mdct_sub48(h,o,n),G(576>=W.FFTOFFSET),G(h.mf_size>=W.BLKSIZE+e.framesize-W.FFTOFFSET),G(h.mf_size>=512+e.framesize-32)}}this.lame_encode_mp3_frame=function(e,m,h,x,v,s){var r,o=P([2,2]);o[0][0]=new $,o[0][1]=new $,o[1][0]=new $,o[1][1]=new $;var n=P([2,2]);n[0][0]=new $,n[0][1]=new $,n[1][0]=new $,n[1][1]=new $;var a,u=[null,null],l=e.internal_flags,N=Y([2,4]),R=[.5,.5],B=[[0,0],[0,0]],t=[[0,0],[0,0]],i,C,k;if(u[0]=m,u[1]=h,l.lame_encode_frame_init==0&&d(e,u),l.padding=0,(l.slot_lag-=l.frac_SpF)<0&&(l.slot_lag+=e.out_samplerate,l.padding=1),l.psymodel!=0){var s0,_0=[null,null],i0=0,l0=q(2);for(k=0;k<l.mode_gr;k++){for(C=0;C<l.channels_out;C++)_0[C]=u[C],i0=576+k*576-W.FFTOFFSET;if(e.VBR==F.vbr_mtrh||e.VBR==F.vbr_mt?s0=T.L3psycho_anal_vbr(e,_0,i0,k,o,n,B[k],t[k],N[k],l0):s0=T.L3psycho_anal_ns(e,_0,i0,k,o,n,B[k],t[k],N[k],l0),s0!=0)return-4;for(e.mode==MPEGMode.JOINT_STEREO&&(R[k]=N[k][2]+N[k][3],R[k]>0&&(R[k]=N[k][3]/R[k])),C=0;C<l.channels_out;C++){var S0=l.l3_side.tt[k][C];S0.block_type=l0[C],S0.mixed_block_flag=0}}}else for(k=0;k<l.mode_gr;k++)for(C=0;C<l.channels_out;C++)l.l3_side.tt[k][C].block_type=W.NORM_TYPE,l.l3_side.tt[k][C].mixed_block_flag=0,t[k][C]=B[k][C]=700;if(_(l),p.mdct_sub48(l,u[0],u[1]),l.mode_ext=W.MPG_MD_LR_LR,e.force_ms)l.mode_ext=W.MPG_MD_MS_LR;else if(e.mode==MPEGMode.JOINT_STEREO){var c0=0,n0=0;for(k=0;k<l.mode_gr;k++)for(C=0;C<l.channels_out;C++)c0+=t[k][C],n0+=B[k][C];if(c0<=1*n0){var B0=l.l3_side.tt[0],Y0=l.l3_side.tt[l.mode_gr-1];B0[0].block_type==B0[1].block_type&&Y0[0].block_type==Y0[1].block_type&&(l.mode_ext=W.MPG_MD_MS_LR)}}if(l.mode_ext==O?(a=n,i=t):(a=o,i=B),e.analysis&&l.pinfo!=null)for(k=0;k<l.mode_gr;k++)for(C=0;C<l.channels_out;C++)l.pinfo.ms_ratio[k]=l.ms_ratio[k],l.pinfo.ms_ener_ratio[k]=R[k],l.pinfo.blocktype[k][C]=l.l3_side.tt[k][C].block_type,l.pinfo.pe[k][C]=i[k][C],H.arraycopy(l.l3_side.tt[k][C].xr,0,l.pinfo.xr[k][C],0,576),l.mode_ext==O&&(l.pinfo.ers[k][C]=l.pinfo.ers[k][C+2],H.arraycopy(l.pinfo.energy[k][C+2],0,l.pinfo.energy[k][C],0,l.pinfo.energy[k][C].length));if(e.VBR==F.vbr_off||e.VBR==F.vbr_abr){var x0,C0;for(x0=0;x0<18;x0++)l.nsPsy.pefirbuf[x0]=l.nsPsy.pefirbuf[x0+1];for(C0=0,k=0;k<l.mode_gr;k++)for(C=0;C<l.channels_out;C++)C0+=i[k][C];for(l.nsPsy.pefirbuf[18]=C0,C0=l.nsPsy.pefirbuf[9],x0=0;x0<9;x0++)C0+=(l.nsPsy.pefirbuf[x0]+l.nsPsy.pefirbuf[18-x0])*W.fircoef[x0];for(C0=670*5*l.mode_gr*l.channels_out/C0,k=0;k<l.mode_gr;k++)for(C=0;C<l.channels_out;C++)i[k][C]*=C0}if(l.iteration_loop.iteration_loop(e,i,R,a),V.format_bitstream(e),r=V.copy_buffer(l,x,v,s,1),e.bWriteVbrTag&&L.addVbrFrame(e),e.analysis&&l.pinfo!=null){for(C=0;C<l.channels_out;C++){var I0;for(I0=0;I0<S;I0++)l.pinfo.pcmdata[C][I0]=l.pinfo.pcmdata[C][I0+e.framesize];for(I0=S;I0<1600;I0++)l.pinfo.pcmdata[C][I0]=u[C][I0-S]}y.set_frame_pinfo(e,a)}return c(l),r}}return Te=W,Te}var f1=G0;f1.System;f1.VbrMode;f1.Float;f1.ShortBlock;var na=f1.Util;f1.Arrays;f1.new_array_n;f1.new_byte;f1.new_double;var ia=f1.new_float;f1.new_float_n;f1.new_int;f1.new_int_n;f1.assert;var Q0=n1();function Ft(){var b=ia(Q0.BLKSIZE),H=ia(Q0.BLKSIZE_s/2),F=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function P(Y,q,G){var W=0,A,$,S;G<<=1;var O=q+G;A=4;do{var V,T,L,y,p,_,c;c=A>>1,y=A,p=A<<1,_=p+y,A=p<<1,$=q,S=$+c;do{var d,e,m,h;e=Y[$+0]-Y[$+y],d=Y[$+0]+Y[$+y],h=Y[$+p]-Y[$+_],m=Y[$+p]+Y[$+_],Y[$+p]=d-m,Y[$+0]=d+m,Y[$+_]=e-h,Y[$+y]=e+h,e=Y[S+0]-Y[S+y],d=Y[S+0]+Y[S+y],h=na.SQRT2*Y[S+_],m=na.SQRT2*Y[S+p],Y[S+p]=d-m,Y[S+0]=d+m,Y[S+_]=e-h,Y[S+y]=e+h,S+=A,$+=A}while($<O);for(T=F[W+0],V=F[W+1],L=1;L<c;L++){var x,v;x=1-2*V*V,v=2*V*T,$=q+L,S=q+y-L;do{var s,r,o,d,e,n,m,a,h,u;r=v*Y[$+y]-x*Y[S+y],s=x*Y[$+y]+v*Y[S+y],e=Y[$+0]-s,d=Y[$+0]+s,n=Y[S+0]-r,o=Y[S+0]+r,r=v*Y[$+_]-x*Y[S+_],s=x*Y[$+_]+v*Y[S+_],h=Y[$+p]-s,m=Y[$+p]+s,u=Y[S+p]-r,a=Y[S+p]+r,r=V*m-T*u,s=T*m+V*u,Y[$+p]=d-s,Y[$+0]=d+s,Y[S+_]=n-r,Y[S+y]=n+r,r=T*a-V*h,s=V*a+T*h,Y[S+p]=o-s,Y[S+0]=o+s,Y[$+_]=e-r,Y[$+y]=e+r,S+=A,$+=A}while($<O);x=T,T=x*F[W+0]-V*F[W+1],V=x*F[W+1]+V*F[W+0]}W+=2}while(A<G)}var Z=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(Y,q,G,W,A){for(var $=0;$<3;$++){var S=Q0.BLKSIZE_s/2,O=65535&576/3*($+1),V=Q0.BLKSIZE_s/8-1;do{var T,L,y,p,_,c=Z[V<<2]&255;T=H[c]*W[G][A+c+O],_=H[127-c]*W[G][A+c+O+128],L=T-_,T=T+_,y=H[c+64]*W[G][A+c+O+64],_=H[63-c]*W[G][A+c+O+192],p=y-_,y=y+_,S-=4,q[$][S+0]=T+y,q[$][S+2]=T-y,q[$][S+1]=L+p,q[$][S+3]=L-p,T=H[c+1]*W[G][A+c+O+1],_=H[126-c]*W[G][A+c+O+129],L=T-_,T=T+_,y=H[c+65]*W[G][A+c+O+65],_=H[62-c]*W[G][A+c+O+193],p=y-_,y=y+_,q[$][S+Q0.BLKSIZE_s/2+0]=T+y,q[$][S+Q0.BLKSIZE_s/2+2]=T-y,q[$][S+Q0.BLKSIZE_s/2+1]=L+p,q[$][S+Q0.BLKSIZE_s/2+3]=L-p}while(--V>=0);P(q[$],S,Q0.BLKSIZE_s/2)}},this.fft_long=function(Y,q,G,W,A){var $=Q0.BLKSIZE/8-1,S=Q0.BLKSIZE/2;do{var O,V,T,L,y,p=Z[$]&255;O=b[p]*W[G][A+p],y=b[p+512]*W[G][A+p+512],V=O-y,O=O+y,T=b[p+256]*W[G][A+p+256],y=b[p+768]*W[G][A+p+768],L=T-y,T=T+y,S-=4,q[S+0]=O+T,q[S+2]=O-T,q[S+1]=V+L,q[S+3]=V-L,O=b[p+1]*W[G][A+p+1],y=b[p+513]*W[G][A+p+513],V=O-y,O=O+y,T=b[p+257]*W[G][A+p+257],y=b[p+769]*W[G][A+p+769],L=T-y,T=T+y,q[S+Q0.BLKSIZE/2+0]=O+T,q[S+Q0.BLKSIZE/2+2]=O-T,q[S+Q0.BLKSIZE/2+1]=V+L,q[S+Q0.BLKSIZE/2+3]=V-L}while(--$>=0);P(q,S,Q0.BLKSIZE/2)},this.init_fft=function(Y){for(var q=0;q<Q0.BLKSIZE;q++)b[q]=.42-.5*Math.cos(2*Math.PI*(q+.5)/Q0.BLKSIZE)+.08*Math.cos(4*Math.PI*(q+.5)/Q0.BLKSIZE);for(var q=0;q<Q0.BLKSIZE_s/2;q++)H[q]=.5*(1-Math.cos(2*Math.PI*(q+.5)/Q0.BLKSIZE_s))}}var $t=Ft,d1=G0;d1.System;var V2=d1.VbrMode,la=d1.Float,k2=d1.ShortBlock,c1=d1.Util,Dt=d1.Arrays;d1.new_array_n;d1.new_byte;d1.new_double;var J0=d1.new_float,G1=d1.new_float_n,b2=d1.new_int;d1.new_int_n;var h0=d1.assert,Xt=$t,j=n1();function Gt(){var b=new Xt,H=2.302585092994046,F=2,P=16,Z=2,Y=16,q=.34,G=1/(14752*14752)/(j.BLKSIZE/2),W=.01,A=.8,$=.6,S=.3,O=3.5,V=21,T=.2302585093;function L(f){return f}function y(f,w){for(var E=0,I=0;I<j.BLKSIZE/2;++I)E+=f[I]*w.ATH.eql_w[I];return E*=G,E}function p(f,w,E,I,z,M,X,U,D,J,K){var g=f.internal_flags;if(D<2)b.fft_long(g,I[z],D,J,K),b.fft_short(g,M[X],D,J,K);else if(D==2){for(var o0=j.BLKSIZE-1;o0>=0;--o0){var b0=I[z+0][o0],a0=I[z+1][o0];I[z+0][o0]=(b0+a0)*c1.SQRT2*.5,I[z+1][o0]=(b0-a0)*c1.SQRT2*.5}for(var d0=2;d0>=0;--d0)for(var o0=j.BLKSIZE_s-1;o0>=0;--o0){var b0=M[X+0][d0][o0],a0=M[X+1][d0][o0];M[X+0][d0][o0]=(b0+a0)*c1.SQRT2*.5,M[X+1][d0][o0]=(b0-a0)*c1.SQRT2*.5}}w[0]=I[z+0][0],w[0]*=w[0];for(var o0=j.BLKSIZE/2-1;o0>=0;--o0){var Q=I[z+0][j.BLKSIZE/2-o0],m0=I[z+0][j.BLKSIZE/2+o0];w[j.BLKSIZE/2-o0]=(Q*Q+m0*m0)*.5}for(var d0=2;d0>=0;--d0){E[d0][0]=M[X+0][d0][0],E[d0][0]*=E[d0][0];for(var o0=j.BLKSIZE_s/2-1;o0>=0;--o0){var Q=M[X+0][d0][j.BLKSIZE_s/2-o0],m0=M[X+0][d0][j.BLKSIZE_s/2+o0];E[d0][j.BLKSIZE_s/2-o0]=(Q*Q+m0*m0)*.5}}{for(var A0=0,o0=11;o0<j.HBLKSIZE;o0++)A0+=w[o0];g.tot_ener[D]=A0}if(f.analysis){for(var o0=0;o0<j.HBLKSIZE;o0++)g.pinfo.energy[U][D][o0]=g.pinfo.energy_save[D][o0],g.pinfo.energy_save[D][o0]=w[o0];g.pinfo.pe[U][D]=g.pe[D]}f.athaa_loudapprox==2&&D<2&&(g.loudness_sq[U][D]=g.loudness_sq_save[D],g.loudness_sq_save[D]=y(w,g))}var _=8,c=23,d=15,e,m,h,x=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function v(){e=Math.pow(10,(_+1)/16),m=Math.pow(10,(c+1)/16),h=Math.pow(10,d/10)}var s=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],r=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],o=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function n(f,w,E,I,z,M){var X;if(w>f)if(w<f*m)X=w/f;else return f+w;else{if(f>=w*m)return f+w;X=f/w}if(h0(f>=0),h0(w>=0),f+=w,I+3<=6){if(X>=e)return f;var U=0|c1.FAST_LOG10_X(X,16);return f*r[U]}var U=0|c1.FAST_LOG10_X(X,16);if(w=z.ATH.cb_l[E]*z.ATH.adjust,h0(w>=0),f<h*w){if(f>w){var D,J;return D=1,U<=13&&(D=o[U]),J=c1.FAST_LOG10_X(f/w,10/15),f*((s[U]-D)*J+D)}return U>13?f:f*o[U]}return f*s[U]}var a=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function u(f,w,E){var I;if(f<0&&(f=0),w<0&&(w=0),f<=0)return w;if(w<=0)return f;if(w>f?I=w/f:I=f/w,-2<=E&&E<=2){if(I>=e)return f+w;var z=0|c1.FAST_LOG10_X(I,16);return(f+w)*a[z]}return I<m?f+w:(f<w&&(f=w),f)}function l(f,w){var E=f.internal_flags;if(E.channels_out>1){for(var I=0;I<j.SBMAX_l;I++){var z=E.thm[0].l[I],M=E.thm[1].l[I];E.thm[0].l[I]+=M*w,E.thm[1].l[I]+=z*w}for(var I=0;I<j.SBMAX_s;I++)for(var X=0;X<3;X++){var z=E.thm[0].s[I][X],M=E.thm[1].s[I][X];E.thm[0].s[I][X]+=M*w,E.thm[1].s[I][X]+=z*w}}}function N(f){for(var w=0;w<j.SBMAX_l;w++)if(!(f.thm[0].l[w]>1.58*f.thm[1].l[w]||f.thm[1].l[w]>1.58*f.thm[0].l[w])){var E=f.mld_l[w]*f.en[3].l[w],I=Math.max(f.thm[2].l[w],Math.min(f.thm[3].l[w],E));E=f.mld_l[w]*f.en[2].l[w];var z=Math.max(f.thm[3].l[w],Math.min(f.thm[2].l[w],E));f.thm[2].l[w]=I,f.thm[3].l[w]=z}for(var w=0;w<j.SBMAX_s;w++)for(var M=0;M<3;M++)if(!(f.thm[0].s[w][M]>1.58*f.thm[1].s[w][M]||f.thm[1].s[w][M]>1.58*f.thm[0].s[w][M])){var E=f.mld_s[w]*f.en[3].s[w][M],I=Math.max(f.thm[2].s[w][M],Math.min(f.thm[3].s[w][M],E));E=f.mld_s[w]*f.en[2].s[w][M];var z=Math.max(f.thm[3].s[w][M],Math.min(f.thm[2].s[w][M],E));f.thm[2].s[w][M]=I,f.thm[3].s[w][M]=z}}function R(f,w,E){var I=w,z=Math.pow(10,E);w*=2,I*=2;for(var M=0;M<j.SBMAX_l;M++){var X,U,D,J;if(J=f.ATH.cb_l[f.bm_l[M]]*z,X=Math.min(Math.max(f.thm[0].l[M],J),Math.max(f.thm[1].l[M],J)),U=Math.max(f.thm[2].l[M],J),D=Math.max(f.thm[3].l[M],J),X*w<U+D){var K=X*I/(U+D);U*=K,D*=K,h0(U+D>0)}f.thm[2].l[M]=Math.min(U,f.thm[2].l[M]),f.thm[3].l[M]=Math.min(D,f.thm[3].l[M])}z*=j.BLKSIZE_s/j.BLKSIZE;for(var M=0;M<j.SBMAX_s;M++)for(var g=0;g<3;g++){var X,U,D,J;if(J=f.ATH.cb_s[f.bm_s[M]]*z,X=Math.min(Math.max(f.thm[0].s[M][g],J),Math.max(f.thm[1].s[M][g],J)),U=Math.max(f.thm[2].s[M][g],J),D=Math.max(f.thm[3].s[M][g],J),X*w<U+D){var K=X*w/(U+D);U*=K,D*=K,h0(U+D>0)}f.thm[2].s[M][g]=Math.min(f.thm[2].s[M][g],U),f.thm[3].s[M][g]=Math.min(f.thm[3].s[M][g],D)}}function B(f,w,E,I,z){var M,X,U=0,D=0;for(M=X=0;M<j.SBMAX_s;++X,++M){for(var J=f.bo_s[M],K=f.npart_s,g=J<K?J:K;X<g;)h0(w[X]>=0),h0(E[X]>=0),U+=w[X],D+=E[X],X++;if(f.en[I].s[M][z]=U,f.thm[I].s[M][z]=D,X>=K){++M;break}h0(w[X]>=0),h0(E[X]>=0);{var o0=f.PSY.bo_s_weight[M],b0=1-o0;U=o0*w[X],D=o0*E[X],f.en[I].s[M][z]+=U,f.thm[I].s[M][z]+=D,U=b0*w[X],D=b0*E[X]}}for(;M<j.SBMAX_s;++M)f.en[I].s[M][z]=0,f.thm[I].s[M][z]=0}function t(f,w,E,I){var z,M,X=0,U=0;for(z=M=0;z<j.SBMAX_l;++M,++z){for(var D=f.bo_l[z],J=f.npart_l,K=D<J?D:J;M<K;)h0(w[M]>=0),h0(E[M]>=0),X+=w[M],U+=E[M],M++;if(f.en[I].l[z]=X,f.thm[I].l[z]=U,M>=J){++z;break}h0(w[M]>=0),h0(E[M]>=0);{var g=f.PSY.bo_l_weight[z],o0=1-g;X=g*w[M],U=g*E[M],f.en[I].l[z]+=X,f.thm[I].l[z]+=U,X=o0*w[M],U=o0*E[M]}}for(;z<j.SBMAX_l;++z)f.en[I].l[z]=0,f.thm[I].l[z]=0}function i(f,w,E,I,z,M){var X=f.internal_flags,U,D;for(D=U=0;D<X.npart_s;++D){for(var J=0,K=X.numlines_s[D],g=0;g<K;++g,++U){var o0=w[M][U];J+=o0}E[D]=J}for(h0(D==X.npart_s),h0(U==129),U=D=0;D<X.npart_s;D++){var b0=X.s3ind_s[D][0],a0=X.s3_ss[U++]*E[b0];for(++b0;b0<=X.s3ind_s[D][1];)a0+=X.s3_ss[U]*E[b0],++U,++b0;{var d0=Z*X.nb_s1[z][D];I[D]=Math.min(a0,d0)}if(X.blocktype_old[z&1]==j.SHORT_TYPE){var d0=Y*X.nb_s2[z][D],Q=I[D];I[D]=Math.min(d0,Q)}X.nb_s2[z][D]=X.nb_s1[z][D],X.nb_s1[z][D]=a0,h0(I[D]>=0)}for(;D<=j.CBANDS;++D)E[D]=0,I[D]=0}function C(f,w,E,I){var z=f.internal_flags;f.short_blocks==k2.short_block_coupled&&!(w[0]!=0&&w[1]!=0)&&(w[0]=w[1]=0);for(var M=0;M<z.channels_out;M++)I[M]=j.NORM_TYPE,f.short_blocks==k2.short_block_dispensed&&(w[M]=1),f.short_blocks==k2.short_block_forced&&(w[M]=0),w[M]!=0?(h0(z.blocktype_old[M]!=j.START_TYPE),z.blocktype_old[M]==j.SHORT_TYPE&&(I[M]=j.STOP_TYPE)):(I[M]=j.SHORT_TYPE,z.blocktype_old[M]==j.NORM_TYPE&&(z.blocktype_old[M]=j.START_TYPE),z.blocktype_old[M]==j.STOP_TYPE&&(z.blocktype_old[M]=j.SHORT_TYPE)),E[M]=z.blocktype_old[M],z.blocktype_old[M]=I[M]}function k(f,w,E){return E>=1?f:E<=0?w:w>0?Math.pow(f/w,E)*w:0}var s0=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function _0(f,w){for(var E=309.07,I=0;I<j.SBMAX_s-1;I++)for(var z=0;z<3;z++){var M=f.thm.s[I][z];if(h0(I<s0.length),M>0){var X=M*w,U=f.en.s[I][z];U>X&&(U>X*1e10?E+=s0[I]*(10*H):(h0(X>0),E+=s0[I]*c1.FAST_LOG10(U/X)))}}return E}var i0=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function l0(f,w){for(var E=281.0575,I=0;I<j.SBMAX_l-1;I++){var z=f.thm.l[I];if(h0(I<i0.length),z>0){var M=z*w,X=f.en.l[I];X>M&&(X>M*1e10?E+=i0[I]*(10*H):(h0(M>0),E+=i0[I]*c1.FAST_LOG10(X/M)))}}return E}function S0(f,w,E,I,z){var M,X;for(M=X=0;M<f.npart_l;++M){var U=0,D=0,J;for(J=0;J<f.numlines_l[M];++J,++X){var K=w[X];h0(K>=0),U+=K,D<K&&(D=K)}E[M]=U,I[M]=D,z[M]=U*f.rnumlines_l[M],h0(f.rnumlines_l[M]>=0),h0(U>=0),h0(E[M]>=0),h0(I[M]>=0),h0(z[M]>=0)}}function c0(f,w,E,I){var z=x.length-1,M=0,X=E[M]+E[M+1];if(h0(X>=0),X>0){var U=w[M];U<w[M+1]&&(U=w[M+1]),h0(f.numlines_l[M]+f.numlines_l[M+1]-1>0),X=20*(U*2-X)/(X*(f.numlines_l[M]+f.numlines_l[M+1]-1));var D=0|X;D>z&&(D=z),I[M]=D}else I[M]=0;for(M=1;M<f.npart_l-1;M++)if(X=E[M-1]+E[M]+E[M+1],h0(X>=0),X>0){var U=w[M-1];U<w[M]&&(U=w[M]),U<w[M+1]&&(U=w[M+1]),h0(f.numlines_l[M-1]+f.numlines_l[M]+f.numlines_l[M+1]-1>0),X=20*(U*3-X)/(X*(f.numlines_l[M-1]+f.numlines_l[M]+f.numlines_l[M+1]-1));var D=0|X;D>z&&(D=z),I[M]=D}else I[M]=0;if(h0(M>0),h0(M==f.npart_l-1),X=E[M-1]+E[M],h0(X>=0),X>0){var U=w[M-1];U<w[M]&&(U=w[M]),h0(f.numlines_l[M-1]+f.numlines_l[M]-1>0),X=20*(U*2-X)/(X*(f.numlines_l[M-1]+f.numlines_l[M]-1));var D=0|X;D>z&&(D=z),I[M]=D}else I[M]=0;h0(M==f.npart_l-1)}var n0=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(f,w,E,I,z,M,X,U,D,J){var K=f.internal_flags,g=G1([2,j.BLKSIZE]),o0=G1([2,3,j.BLKSIZE_s]),b0=J0(j.CBANDS+1),a0=J0(j.CBANDS+1),d0=J0(j.CBANDS+2),Q=b2(2),m0=b2(2),A0,t0,f0,e0,w0,O0,v0,M0,E0=G1([2,576]),D0,N1=b2(j.CBANDS+2),Z0=b2(j.CBANDS+2);for(Dt.fill(Z0,0),A0=K.channels_out,f.mode==MPEGMode.JOINT_STEREO&&(A0=4),f.VBR==V2.vbr_off?D0=K.ResvMax==0?0:K.ResvSize/K.ResvMax*.5:f.VBR==V2.vbr_rh||f.VBR==V2.vbr_mtrh||f.VBR==V2.vbr_mt?D0=.6:D0=1,t0=0;t0<K.channels_out;t0++){var F0=w[t0],v1=E+576-350-V+192;for(h0(n0.length==(V-1)/2),e0=0;e0<576;e0++){var O1,F1;for(O1=F0[v1+e0+10],F1=0,w0=0;w0<(V-1)/2-1;w0+=2)O1+=n0[w0]*(F0[v1+e0+w0]+F0[v1+e0+V-w0]),F1+=n0[w0+1]*(F0[v1+e0+w0+1]+F0[v1+e0+V-w0-1]);E0[t0][e0]=O1+F1}z[I][t0].en.assign(K.en[t0]),z[I][t0].thm.assign(K.thm[t0]),A0>2&&(M[I][t0].en.assign(K.en[t0+2]),M[I][t0].thm.assign(K.thm[t0+2]))}for(t0=0;t0<A0;t0++){var U1,K1,s1=J0(12),g1=[0,0,0,0],L2=J0(12),be=1,Ke,We=J0(j.CBANDS),Ze=J0(j.CBANDS),X0=[0,0,0,0],Qe=J0(j.HBLKSIZE),je=G1([3,j.HBLKSIZE_s]);for(h0(K.npart_s<=j.CBANDS),h0(K.npart_l<=j.CBANDS),e0=0;e0<3;e0++)s1[e0]=K.nsPsy.last_en_subshort[t0][e0+6],h0(K.nsPsy.last_en_subshort[t0][e0+4]>0),L2[e0]=s1[e0]/K.nsPsy.last_en_subshort[t0][e0+4],g1[0]+=s1[e0];if(t0==2)for(e0=0;e0<576;e0++){var we,Se;we=E0[0][e0],Se=E0[1][e0],E0[0][e0]=we+Se,E0[1][e0]=we-Se}{var Je=E0[t0&1],F2=0;for(e0=0;e0<9;e0++){for(var Qa=F2+64,a1=1;F2<Qa;F2++)a1<Math.abs(Je[F2])&&(a1=Math.abs(Je[F2]));K.nsPsy.last_en_subshort[t0][e0]=s1[e0+3]=a1,g1[1+e0/3]+=a1,a1>s1[e0+3-2]?(h0(s1[e0+3-2]>0),a1=a1/s1[e0+3-2]):s1[e0+3-2]>a1*10?(h0(a1>0),a1=s1[e0+3-2]/(a1*10)):a1=0,L2[e0+3]=a1}}if(f.analysis){var xe=L2[0];for(e0=1;e0<12;e0++)xe<L2[e0]&&(xe=L2[e0]);K.pinfo.ers[I][t0]=K.pinfo.ers_save[t0],K.pinfo.ers_save[t0]=xe}for(Ke=t0==3?K.nsPsy.attackthre_s:K.nsPsy.attackthre,e0=0;e0<12;e0++)X0[e0/3]==0&&L2[e0]>Ke&&(X0[e0/3]=e0%3+1);for(e0=1;e0<4;e0++){var Me;g1[e0-1]>g1[e0]?(h0(g1[e0]>0),Me=g1[e0-1]/g1[e0]):(h0(g1[e0-1]>0),Me=g1[e0]/g1[e0-1]),Me<1.7&&(X0[e0]=0,e0==1&&(X0[0]=0))}for(X0[0]!=0&&K.nsPsy.lastAttacks[t0]!=0&&(X0[0]=0),(K.nsPsy.lastAttacks[t0]==3||X0[0]+X0[1]+X0[2]+X0[3]!=0)&&(be=0,X0[1]!=0&&X0[0]!=0&&(X0[1]=0),X0[2]!=0&&X0[1]!=0&&(X0[2]=0),X0[3]!=0&&X0[2]!=0&&(X0[3]=0)),t0<2?m0[t0]=be:be==0&&(m0[0]=m0[1]=0),D[t0]=K.tot_ener[t0],K1=o0,U1=g,p(f,Qe,je,U1,t0&1,K1,t0&1,I,t0,w,E),S0(K,Qe,b0,We,Ze),c0(K,We,Ze,N1),M0=0;M0<3;M0++){var pe,u1;for(i(f,je,a0,d0,t0,M0),B(K,a0,d0,t0,M0),v0=0;v0<j.SBMAX_s;v0++){if(u1=K.thm[t0].s[v0][M0],u1*=A,X0[M0]>=2||X0[M0+1]==1){var $2=M0!=0?M0-1:2,a1=k(K.thm[t0].s[v0][$2],u1,$*D0);u1=Math.min(u1,a1)}if(X0[M0]==1){var $2=M0!=0?M0-1:2,a1=k(K.thm[t0].s[v0][$2],u1,S*D0);u1=Math.min(u1,a1)}else if(M0!=0&&X0[M0-1]==3||M0==0&&K.nsPsy.lastAttacks[t0]==3){var $2=M0!=2?M0+1:0,a1=k(K.thm[t0].s[v0][$2],u1,S*D0);u1=Math.min(u1,a1)}pe=s1[M0*3+3]+s1[M0*3+4]+s1[M0*3+5],s1[M0*3+5]*6<pe&&(u1*=.5,s1[M0*3+4]*6<pe&&(u1*=.5)),K.thm[t0].s[v0][M0]=u1}}for(K.nsPsy.lastAttacks[t0]=X0[2],O0=0,f0=0;f0<K.npart_l;f0++){for(var f2=K.s3ind[f0][0],Ae=b0[f2]*x[N1[f2]],d2=K.s3_ll[O0++]*Ae;++f2<=K.s3ind[f0][1];)Ae=b0[f2]*x[N1[f2]],d2=n(d2,K.s3_ll[O0++]*Ae,f2,f2-f0,K);d2*=.158489319246111,K.blocktype_old[t0&1]==j.SHORT_TYPE?d0[f0]=d2:d0[f0]=k(Math.min(d2,Math.min(F*K.nb_1[t0][f0],P*K.nb_2[t0][f0])),d2,D0),K.nb_2[t0][f0]=K.nb_1[t0][f0],K.nb_1[t0][f0]=d2}for(;f0<=j.CBANDS;++f0)b0[f0]=0,d0[f0]=0;t(K,b0,d0,t0)}if((f.mode==MPEGMode.STEREO||f.mode==MPEGMode.JOINT_STEREO)&&f.interChRatio>0&&l(f,f.interChRatio),f.mode==MPEGMode.JOINT_STEREO){var Re;N(K),Re=f.msfix,Math.abs(Re)>0&&R(K,Re,f.ATHlower*K.ATH.adjust)}for(C(f,m0,J,Q),t0=0;t0<A0;t0++){var D2,X2=0,K2,W2;t0>1?(D2=U,X2=-2,K2=j.NORM_TYPE,(J[0]==j.SHORT_TYPE||J[1]==j.SHORT_TYPE)&&(K2=j.SHORT_TYPE),W2=M[I][t0-2]):(D2=X,X2=0,K2=J[t0],W2=z[I][t0]),K2==j.SHORT_TYPE?D2[X2+t0]=_0(W2,K.masking_lower):D2[X2+t0]=l0(W2,K.masking_lower),f.analysis&&(K.pinfo.pe[I][t0]=D2[X2+t0])}return 0};function B0(f,w,E,I,z,M,X,U){var D=f.internal_flags;if(I<2)b.fft_long(D,X[U],I,w,E);else if(I==2)for(var J=j.BLKSIZE-1;J>=0;--J){var K=X[U+0][J],g=X[U+1][J];X[U+0][J]=(K+g)*c1.SQRT2*.5,X[U+1][J]=(K-g)*c1.SQRT2*.5}M[0]=X[U+0][0],M[0]*=M[0];for(var J=j.BLKSIZE/2-1;J>=0;--J){var o0=X[U+0][j.BLKSIZE/2-J],b0=X[U+0][j.BLKSIZE/2+J];M[j.BLKSIZE/2-J]=(o0*o0+b0*b0)*.5}{for(var a0=0,J=11;J<j.HBLKSIZE;J++)a0+=M[J];D.tot_ener[I]=a0}if(f.analysis){for(var J=0;J<j.HBLKSIZE;J++)D.pinfo.energy[z][I][J]=D.pinfo.energy_save[I][J],D.pinfo.energy_save[I][J]=M[J];D.pinfo.pe[z][I]=D.pe[I]}}function Y0(f,w,E,I,z,M,X,U){var D=f.internal_flags;if(z==0&&I<2&&b.fft_short(D,X[U],I,w,E),I==2)for(var J=j.BLKSIZE_s-1;J>=0;--J){var K=X[U+0][z][J],g=X[U+1][z][J];X[U+0][z][J]=(K+g)*c1.SQRT2*.5,X[U+1][z][J]=(K-g)*c1.SQRT2*.5}M[z][0]=X[U+0][z][0],M[z][0]*=M[z][0];for(var J=j.BLKSIZE_s/2-1;J>=0;--J){var o0=X[U+0][z][j.BLKSIZE_s/2-J],b0=X[U+0][z][j.BLKSIZE_s/2+J];M[z][j.BLKSIZE_s/2-J]=(o0*o0+b0*b0)*.5}}function x0(f,w,E,I){var z=f.internal_flags;f.athaa_loudapprox==2&&E<2&&(z.loudness_sq[w][E]=z.loudness_sq_save[E],z.loudness_sq_save[E]=y(I,z))}var C0=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function I0(f,w,E,I,z,M,X,U,D,J){for(var K=G1([2,576]),g=f.internal_flags,o0=g.channels_out,b0=f.mode==MPEGMode.JOINT_STEREO?4:o0,a0=0;a0<o0;a0++){firbuf=w[a0];var d0=E+576-350-V+192;h0(C0.length==(V-1)/2);for(var Q=0;Q<576;Q++){var m0,A0;m0=firbuf[d0+Q+10],A0=0;for(var t0=0;t0<(V-1)/2-1;t0+=2)m0+=C0[t0]*(firbuf[d0+Q+t0]+firbuf[d0+Q+V-t0]),A0+=C0[t0+1]*(firbuf[d0+Q+t0+1]+firbuf[d0+Q+V-t0-1]);K[a0][Q]=m0+A0}z[I][a0].en.assign(g.en[a0]),z[I][a0].thm.assign(g.thm[a0]),b0>2&&(M[I][a0].en.assign(g.en[a0+2]),M[I][a0].thm.assign(g.thm[a0+2]))}for(var a0=0;a0<b0;a0++){var f0=J0(12),e0=J0(12),w0=[0,0,0,0],O0=K[a0&1],v0=0,M0=a0==3?g.nsPsy.attackthre_s:g.nsPsy.attackthre,E0=1;if(a0==2)for(var Q=0,t0=576;t0>0;++Q,--t0){var D0=K[0][Q],N1=K[1][Q];K[0][Q]=D0+N1,K[1][Q]=D0-N1}for(var Q=0;Q<3;Q++)e0[Q]=g.nsPsy.last_en_subshort[a0][Q+6],h0(g.nsPsy.last_en_subshort[a0][Q+4]>0),f0[Q]=e0[Q]/g.nsPsy.last_en_subshort[a0][Q+4],w0[0]+=e0[Q];for(var Q=0;Q<9;Q++){for(var Z0=v0+64,F0=1;v0<Z0;v0++)F0<Math.abs(O0[v0])&&(F0=Math.abs(O0[v0]));g.nsPsy.last_en_subshort[a0][Q]=e0[Q+3]=F0,w0[1+Q/3]+=F0,F0>e0[Q+3-2]?(h0(e0[Q+3-2]>0),F0=F0/e0[Q+3-2]):e0[Q+3-2]>F0*10?(h0(F0>0),F0=e0[Q+3-2]/(F0*10)):F0=0,f0[Q+3]=F0}for(var Q=0;Q<3;++Q){var v1=e0[Q*3+3]+e0[Q*3+4]+e0[Q*3+5],O1=1;e0[Q*3+5]*6<v1&&(O1*=.5,e0[Q*3+4]*6<v1&&(O1*=.5)),U[a0][Q]=O1}if(f.analysis){for(var F1=f0[0],Q=1;Q<12;Q++)F1<f0[Q]&&(F1=f0[Q]);g.pinfo.ers[I][a0]=g.pinfo.ers_save[a0],g.pinfo.ers_save[a0]=F1}for(var Q=0;Q<12;Q++)D[a0][Q/3]==0&&f0[Q]>M0&&(D[a0][Q/3]=Q%3+1);for(var Q=1;Q<4;Q++){var U1=w0[Q-1],K1=w0[Q],s1=Math.max(U1,K1);s1<4e4&&U1<1.7*K1&&K1<1.7*U1&&(Q==1&&D[a0][0]<=D[a0][Q]&&(D[a0][0]=0),D[a0][Q]=0)}D[a0][0]<=g.nsPsy.lastAttacks[a0]&&(D[a0][0]=0),(g.nsPsy.lastAttacks[a0]==3||D[a0][0]+D[a0][1]+D[a0][2]+D[a0][3]!=0)&&(E0=0,D[a0][1]!=0&&D[a0][0]!=0&&(D[a0][1]=0),D[a0][2]!=0&&D[a0][1]!=0&&(D[a0][2]=0),D[a0][3]!=0&&D[a0][2]!=0&&(D[a0][3]=0)),a0<2?J[a0]=E0:E0==0&&(J[0]=J[1]=0),X[a0]=g.tot_ener[a0]}}function z0(f,w,E){if(E==0)for(var I=0;I<f.npart_s;I++)f.nb_s2[w][I]=f.nb_s1[w][I],f.nb_s1[w][I]=0}function e1(f,w){for(var E=0;E<f.npart_l;E++)f.nb_2[w][E]=f.nb_1[w][E],f.nb_1[w][E]=0}function J1(f,w,E,I){var z=x.length-1,M=0,X=E[M]+E[M+1];if(h0(X>=0),X>0){var U=w[M];U<w[M+1]&&(U=w[M+1]),h0(f.numlines_s[M]+f.numlines_s[M+1]-1>0),X=20*(U*2-X)/(X*(f.numlines_s[M]+f.numlines_s[M+1]-1));var D=0|X;D>z&&(D=z),I[M]=D}else I[M]=0;for(M=1;M<f.npart_s-1;M++)if(X=E[M-1]+E[M]+E[M+1],h0(M+1<f.npart_s),h0(X>=0),X>0){var U=w[M-1];U<w[M]&&(U=w[M]),U<w[M+1]&&(U=w[M+1]),h0(f.numlines_s[M-1]+f.numlines_s[M]+f.numlines_s[M+1]-1>0),X=20*(U*3-X)/(X*(f.numlines_s[M-1]+f.numlines_s[M]+f.numlines_s[M+1]-1));var D=0|X;D>z&&(D=z),I[M]=D}else I[M]=0;if(h0(M>0),h0(M==f.npart_s-1),X=E[M-1]+E[M],h0(X>=0),X>0){var U=w[M-1];U<w[M]&&(U=w[M]),h0(f.numlines_s[M-1]+f.numlines_s[M]-1>0),X=20*(U*2-X)/(X*(f.numlines_s[M-1]+f.numlines_s[M]-1));var D=0|X;D>z&&(D=z),I[M]=D}else I[M]=0;h0(M==f.npart_s-1)}function k1(f,w,E,I,z,M){var X=f.internal_flags,U=new float[j.CBANDS],D=J0(j.CBANDS),J,K,g,o0=new int[j.CBANDS];for(g=K=0;g<X.npart_s;++g){var b0=0,a0=0,d0=X.numlines_s[g];for(J=0;J<d0;++J,++K){var Q=w[M][K];b0+=Q,a0<Q&&(a0=Q)}E[g]=b0,h0(b0>=0),U[g]=a0,h0(d0>0),D[g]=b0/d0,h0(D[g]>=0)}for(h0(g==X.npart_s),h0(K==129);g<j.CBANDS;++g)U[g]=0,D[g]=0;for(J1(X,U,D,o0),K=g=0;g<X.npart_s;g++){var m0=X.s3ind_s[g][0],A0=X.s3ind_s[g][1],t0,f0,e0,w0,O0;for(t0=o0[m0],f0=1,w0=X.s3_ss[K]*E[m0]*x[o0[m0]],++K,++m0;m0<=A0;)t0+=o0[m0],f0+=1,e0=X.s3_ss[K]*E[m0]*x[o0[m0]],w0=u(w0,e0,m0-g),++K,++m0;t0=(1+2*t0)/(2*f0),O0=x[t0]*.5,w0*=O0,I[g]=w0,X.nb_s2[z][g]=X.nb_s1[z][g],X.nb_s1[z][g]=w0,e0=U[g],e0*=X.minval_s[g],e0*=O0,I[g]>e0&&(I[g]=e0),X.masking_lower>1&&(I[g]*=X.masking_lower),I[g]>E[g]&&(I[g]=E[g]),X.masking_lower<1&&(I[g]*=X.masking_lower),h0(I[g]>=0)}for(;g<j.CBANDS;++g)E[g]=0,I[g]=0}function o1(f,w,E,I,z){var M=J0(j.CBANDS),X=J0(j.CBANDS),U=b2(j.CBANDS+2),D;S0(f,w,E,M,X),c0(f,M,X,U);var J=0;for(D=0;D<f.npart_l;D++){var K,g,o0,b0,a0=f.s3ind[D][0],d0=f.s3ind[D][1],Q=0,m0=0;for(Q=U[a0],m0+=1,g=f.s3_ll[J]*E[a0]*x[U[a0]],++J,++a0;a0<=d0;)Q+=U[a0],m0+=1,K=f.s3_ll[J]*E[a0]*x[U[a0]],b0=u(g,K,a0-D),g=b0,++J,++a0;if(Q=(1+2*Q)/(2*m0),o0=x[Q]*.5,g*=o0,f.blocktype_old[z&1]==j.SHORT_TYPE){var A0=F*f.nb_1[z][D];A0>0?I[D]=Math.min(g,A0):I[D]=Math.min(g,E[D]*S)}else{var t0=P*f.nb_2[z][D],f0=F*f.nb_1[z][D],A0;t0<=0&&(t0=g),f0<=0&&(f0=g),f.blocktype_old[z&1]==j.NORM_TYPE?A0=Math.min(f0,t0):A0=f0,I[D]=Math.min(g,A0)}f.nb_2[z][D]=f.nb_1[z][D],f.nb_1[z][D]=g,K=M[D],K*=f.minval_l[D],K*=o0,I[D]>K&&(I[D]=K),f.masking_lower>1&&(I[D]*=f.masking_lower),I[D]>E[D]&&(I[D]=E[D]),f.masking_lower<1&&(I[D]*=f.masking_lower),h0(I[D]>=0)}for(;D<j.CBANDS;++D)E[D]=0,I[D]=0}function z1(f,w){var E=f.internal_flags;f.short_blocks==k2.short_block_coupled&&!(w[0]!=0&&w[1]!=0)&&(w[0]=w[1]=0);for(var I=0;I<E.channels_out;I++)f.short_blocks==k2.short_block_dispensed&&(w[I]=1),f.short_blocks==k2.short_block_forced&&(w[I]=0)}function h2(f,w,E){for(var I=f.internal_flags,z=0;z<I.channels_out;z++){var M=j.NORM_TYPE;w[z]!=0?(h0(I.blocktype_old[z]!=j.START_TYPE),I.blocktype_old[z]==j.SHORT_TYPE&&(M=j.STOP_TYPE)):(M=j.SHORT_TYPE,I.blocktype_old[z]==j.NORM_TYPE&&(I.blocktype_old[z]=j.START_TYPE),I.blocktype_old[z]==j.STOP_TYPE&&(I.blocktype_old[z]=j.SHORT_TYPE)),E[z]=I.blocktype_old[z],I.blocktype_old[z]=M}}function o2(f,w,E,I,z,M,X){for(var U=M*2,D=M>0?Math.pow(10,z):1,J,K,g=0;g<X;++g){var o0=f[2][g],b0=f[3][g],a0=w[0][g],d0=w[1][g],Q=w[2][g],m0=w[3][g];if(a0<=1.58*d0&&d0<=1.58*a0){var A0=E[g]*b0,t0=E[g]*o0;K=Math.max(Q,Math.min(m0,A0)),J=Math.max(m0,Math.min(Q,t0))}else K=Q,J=m0;if(M>0){var f0,e0,w0=I[g]*D;if(f0=Math.min(Math.max(a0,w0),Math.max(d0,w0)),Q=Math.max(K,w0),m0=Math.max(J,w0),e0=Q+m0,e0>0&&f0*U<e0){var O0=f0*U/e0;Q*=O0,m0*=O0,h0(e0>0)}K=Math.min(Q,K),J=Math.min(m0,J)}K>o0&&(K=o0),J>b0&&(J=b0),w[2][g]=K,w[3][g]=J}}this.L3psycho_anal_vbr=function(f,w,E,I,z,M,X,U,D,J){var K=f.internal_flags,g,o0,b0=J0(j.HBLKSIZE),a0=G1([3,j.HBLKSIZE_s]),d0=G1([2,j.BLKSIZE]),Q=G1([2,3,j.BLKSIZE_s]),m0=G1([4,j.CBANDS]),A0=G1([4,j.CBANDS]),t0=G1([4,3]),f0=.6,e0=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],w0=b2(2),O0=f.mode==MPEGMode.JOINT_STEREO?4:K.channels_out;I0(f,w,E,I,z,M,D,t0,e0,w0),z1(f,w0);{for(var v0=0;v0<O0;v0++){var M0=v0&1;g=d0,B0(f,w,E,v0,I,b0,g,M0),x0(f,I,v0,b0),w0[M0]!=0?o1(K,b0,m0[v0],A0[v0],v0):e1(K,v0)}w0[0]+w0[1]==2&&f.mode==MPEGMode.JOINT_STEREO&&o2(m0,A0,K.mld_cb_l,K.ATH.cb_l,f.ATHlower*K.ATH.adjust,f.msfix,K.npart_l);for(var v0=0;v0<O0;v0++){var M0=v0&1;w0[M0]!=0&&t(K,m0[v0],A0[v0],v0)}}{for(var E0=0;E0<3;E0++){for(var v0=0;v0<O0;++v0){var M0=v0&1;w0[M0]!=0?z0(K,v0,E0):(o0=Q,Y0(f,w,E,v0,E0,a0,o0,M0),k1(f,a0,m0[v0],A0[v0],v0,E0))}w0[0]+w0[1]==0&&f.mode==MPEGMode.JOINT_STEREO&&o2(m0,A0,K.mld_cb_s,K.ATH.cb_s,f.ATHlower*K.ATH.adjust,f.msfix,K.npart_s);for(var v0=0;v0<O0;++v0){var M0=v0&1;w0[M0]==0&&B(K,m0[v0],A0[v0],v0,E0)}}for(var v0=0;v0<O0;v0++){var M0=v0&1;if(w0[M0]==0)for(var D0=0;D0<j.SBMAX_s;D0++){for(var N1=J0(3),E0=0;E0<3;E0++){var Z0=K.thm[v0].s[D0][E0];if(Z0*=A,e0[v0][E0]>=2||e0[v0][E0+1]==1){var F0=E0!=0?E0-1:2,v1=k(K.thm[v0].s[D0][F0],Z0,$*f0);Z0=Math.min(Z0,v1)}else if(e0[v0][E0]==1){var F0=E0!=0?E0-1:2,v1=k(K.thm[v0].s[D0][F0],Z0,S*f0);Z0=Math.min(Z0,v1)}else if(E0!=0&&e0[v0][E0-1]==3||E0==0&&K.nsPsy.lastAttacks[v0]==3){var F0=E0!=2?E0+1:0,v1=k(K.thm[v0].s[D0][F0],Z0,S*f0);Z0=Math.min(Z0,v1)}Z0*=t0[v0][E0],N1[E0]=Z0}for(var E0=0;E0<3;E0++)K.thm[v0].s[D0][E0]=N1[E0]}}}for(var v0=0;v0<O0;v0++)K.nsPsy.lastAttacks[v0]=e0[v0][2];h2(f,w0,J);for(var v0=0;v0<O0;v0++){var O1,F1,U1,K1;v0>1?(O1=U,F1=-2,U1=j.NORM_TYPE,(J[0]==j.SHORT_TYPE||J[1]==j.SHORT_TYPE)&&(U1=j.SHORT_TYPE),K1=M[I][v0-2]):(O1=X,F1=0,U1=J[v0],K1=z[I][v0]),U1==j.SHORT_TYPE?O1[F1+v0]=_0(K1,K.masking_lower):O1[F1+v0]=l0(K1,K.masking_lower),f.analysis&&(K.pinfo.pe[I][v0]=O1[F1+v0])}return 0};function i1(f,w){var E=f,I;return E>=0?I=-E*27:I=E*w,I<=-72?0:Math.exp(I*T)}function m2(f){var w=0,E=0;{var I=0,z,M;for(I=0;i1(I,f)>1e-20;I-=1);for(z=I,M=0;Math.abs(M-z)>1e-12;)I=(M+z)/2,i1(I,f)>0?M=I:z=I;w=z}{var I=0,z,M;for(I=0;i1(I,f)>1e-20;I+=1);for(z=0,M=I;Math.abs(M-z)>1e-12;)I=(M+z)/2,i1(I,f)>0?z=I:M=I;E=M}{var X=0,U=1e3,D;for(D=0;D<=U;++D){var I=w+D*(E-w)/U,J=i1(I,f);X+=J}{var K=(U+1)/(X*(E-w));return K}}}function s2(f){var w,E,I,z;return w=f,w>=0?w*=3:w*=1.5,w>=.5&&w<=2.5?(z=w-.5,E=8*(z*z-2*z)):E=0,w+=.474,I=15.811389+7.5*w-17.5*Math.sqrt(1+w*w),I<=-60?0:(w=Math.exp((E+I)*T),w/=.6609193,w)}function H1(f){return f<0&&(f=0),f=f*.001,13*Math.atan(.76*f)+3.5*Math.atan(f*f/(7.5*7.5))}function I2(f,w,E,I,z,M,X,U,D,J,K,g){var o0=J0(j.CBANDS+1),b0=U/(g>15?2*576:2*192),a0=b2(j.HBLKSIZE),d0;U/=D;var Q=0,m0=0;for(d0=0;d0<j.CBANDS;d0++){var A0,t0;for(A0=H1(U*Q),o0[d0]=U*Q,t0=Q;H1(U*t0)-A0<q&&t0<=D/2;t0++);for(f[d0]=t0-Q,m0=d0+1;Q<t0;)h0(Q<j.HBLKSIZE),a0[Q++]=d0;if(Q>D/2){Q=D/2,++d0;break}}h0(d0<j.CBANDS),o0[d0]=U*Q;for(var f0=0;f0<g;f0++){var e0,w0,O0,v0,M0;O0=J[f0],v0=J[f0+1],e0=0|Math.floor(.5+K*(O0-.5)),e0<0&&(e0=0),w0=0|Math.floor(.5+K*(v0-.5)),w0>D/2&&(w0=D/2),E[f0]=(a0[e0]+a0[w0])/2,w[f0]=a0[w0];var E0=b0*v0;X[f0]=(E0-o0[w[f0]])/(o0[w[f0]+1]-o0[w[f0]]),X[f0]<0?X[f0]=0:X[f0]>1&&(X[f0]=1),M0=H1(U*J[f0]*K),M0=Math.min(M0,15.5)/15.5,M[f0]=Math.pow(10,1.25*(1-Math.cos(Math.PI*M0))-2.5)}Q=0;for(var D0=0;D0<m0;D0++){var N1=f[D0],A0,Z0;A0=H1(U*Q),Z0=H1(U*(Q+N1-1)),I[D0]=.5*(A0+Z0),A0=H1(U*(Q-.5)),Z0=H1(U*(Q+N1-.5)),z[D0]=Z0-A0,Q+=N1}return m0}function ze(f,w,E,I,z,M){var X=G1([j.CBANDS,j.CBANDS]),U,D=0;if(M)for(var J=0;J<w;J++)for(U=0;U<w;U++){var K=s2(E[J]-E[U])*I[U];X[J][U]=K*z[J]}else for(U=0;U<w;U++)for(var g=15+Math.min(21/E[U],12),o0=m2(g),J=0;J<w;J++){var K=o0*i1(E[J]-E[U],g)*I[U];X[J][U]=K*z[J]}for(var J=0;J<w;J++){for(U=0;U<w&&!(X[J][U]>0);U++);for(f[J][0]=U,U=w-1;U>0&&!(X[J][U]>0);U--);f[J][1]=U,D+=f[J][1]-f[J][0]+1}for(var b0=J0(D),a0=0,J=0;J<w;J++)for(U=f[J][0];U<=f[J][1];U++)b0[a0++]=X[J][U];return b0}function Ue(f){var w=H1(f);return w=Math.min(w,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*w))-2.5)}this.psymodel_init=function(f){var w=f.internal_flags,E,I=!0,z=13,M=24,X=0,U=0,D=-8.25,J=-4.5,K=J0(j.CBANDS),g=J0(j.CBANDS),o0=J0(j.CBANDS),b0=f.out_samplerate;switch(f.experimentalZ){default:case 0:I=!0;break;case 1:I=!(f.VBR==V2.vbr_mtrh||f.VBR==V2.vbr_mt);break;case 2:I=!1;break;case 3:z=8,X=-1.75,U=-.0125,D=-8.25,J=-2.25;break}for(w.ms_ener_ratio_old=.25,w.blocktype_old[0]=w.blocktype_old[1]=j.NORM_TYPE,E=0;E<4;++E){for(var Q=0;Q<j.CBANDS;++Q)w.nb_1[E][Q]=1e20,w.nb_2[E][Q]=1e20,w.nb_s1[E][Q]=w.nb_s2[E][Q]=1;for(var a0=0;a0<j.SBMAX_l;a0++)w.en[E].l[a0]=1e20,w.thm[E].l[a0]=1e20;for(var Q=0;Q<3;++Q){for(var a0=0;a0<j.SBMAX_s;a0++)w.en[E].s[a0][Q]=1e20,w.thm[E].s[a0][Q]=1e20;w.nsPsy.lastAttacks[E]=0}for(var Q=0;Q<9;Q++)w.nsPsy.last_en_subshort[E][Q]=10}for(w.loudness_sq_save[0]=w.loudness_sq_save[1]=0,w.npart_l=I2(w.numlines_l,w.bo_l,w.bm_l,K,g,w.mld_l,w.PSY.bo_l_weight,b0,j.BLKSIZE,w.scalefac_band.l,j.BLKSIZE/(2*576),j.SBMAX_l),h0(w.npart_l<j.CBANDS),E=0;E<w.npart_l;E++){var d0=X;K[E]>=z&&(d0=U*(K[E]-z)/(M-z)+X*(M-K[E])/(M-z)),o0[E]=Math.pow(10,d0/10),w.numlines_l[E]>0?w.rnumlines_l[E]=1/w.numlines_l[E]:w.rnumlines_l[E]=0}w.s3_ll=ze(w.s3ind,w.npart_l,K,g,o0,I);var Q=0;for(E=0;E<w.npart_l;E++){var m0;m0=la.MAX_VALUE;for(var A0=0;A0<w.numlines_l[E];A0++,Q++){var t0=b0*Q/(1e3*j.BLKSIZE),f0;f0=this.ATHformula(t0*1e3,f)-20,f0=Math.pow(10,.1*f0),f0*=w.numlines_l[E],m0>f0&&(m0=f0)}w.ATH.cb_l[E]=m0,m0=-20+K[E]*20/10,m0>6&&(m0=100),m0<-15&&(m0=-15),m0-=8,w.minval_l[E]=Math.pow(10,m0/10)*w.numlines_l[E]}for(w.npart_s=I2(w.numlines_s,w.bo_s,w.bm_s,K,g,w.mld_s,w.PSY.bo_s_weight,b0,j.BLKSIZE_s,w.scalefac_band.s,j.BLKSIZE_s/(2*192),j.SBMAX_s),h0(w.npart_s<j.CBANDS),Q=0,E=0;E<w.npart_s;E++){var m0,d0=D;K[E]>=z&&(d0=J*(K[E]-z)/(M-z)+D*(M-K[E])/(M-z)),o0[E]=Math.pow(10,d0/10),m0=la.MAX_VALUE;for(var A0=0;A0<w.numlines_s[E];A0++,Q++){var t0=b0*Q/(1e3*j.BLKSIZE_s),f0;f0=this.ATHformula(t0*1e3,f)-20,f0=Math.pow(10,.1*f0),f0*=w.numlines_s[E],m0>f0&&(m0=f0)}w.ATH.cb_s[E]=m0,m0=-7+K[E]*7/12,K[E]>12&&(m0*=1+Math.log(1+m0)*3.1),K[E]<12&&(m0*=1+Math.log(1-m0)*2.3),m0<-15&&(m0=-15),m0-=8,w.minval_s[E]=Math.pow(10,m0/10)*w.numlines_s[E]}w.s3_ss=ze(w.s3ind_s,w.npart_s,K,g,o0,I),v(),b.init_fft(w),w.decay=Math.exp(-1*H/(W*b0/192));{var e0;e0=O,f.exp_nspsytune&2&&(e0=1),Math.abs(f.msfix)>0&&(e0=f.msfix),f.msfix=e0;for(var w0=0;w0<w.npart_l;w0++)w.s3ind[w0][1]>w.npart_l-1&&(w.s3ind[w0][1]=w.npart_l-1)}var O0=576*w.mode_gr/b0;if(w.ATH.decay=Math.pow(10,-12/10*O0),w.ATH.adjust=.01,w.ATH.adjustLimit=1,h0(w.bo_l[j.SBMAX_l-1]<=w.npart_l),h0(w.bo_s[j.SBMAX_s-1]<=w.npart_s),f.ATHtype!=-1){var t0,v0=f.out_samplerate/j.BLKSIZE,M0=0;for(t0=0,E=0;E<j.BLKSIZE/2;++E)t0+=v0,w.ATH.eql_w[E]=1/Math.pow(10,this.ATHformula(t0,f)/10),M0+=w.ATH.eql_w[E];for(M0=1/M0,E=j.BLKSIZE/2;--E>=0;)w.ATH.eql_w[E]*=M0}{for(var w0=Q=0;w0<w.npart_s;++w0)for(E=0;E<w.numlines_s[w0];++E)++Q;h0(Q==129);for(var w0=Q=0;w0<w.npart_l;++w0)for(E=0;E<w.numlines_l[w0];++E)++Q;h0(Q==513)}for(Q=0,E=0;E<w.npart_l;E++){var t0=b0*(Q+w.numlines_l[E]/2)/(1*j.BLKSIZE);w.mld_cb_l[E]=Ue(t0),Q+=w.numlines_l[E]}for(;E<j.CBANDS;++E)w.mld_cb_l[E]=1;for(Q=0,E=0;E<w.npart_s;E++){var t0=b0*(Q+w.numlines_s[E]/2)/(1*j.BLKSIZE_s);w.mld_cb_s[E]=Ue(t0),Q+=w.numlines_s[E]}for(;E<j.CBANDS;++E)w.mld_cb_s[E]=1;return 0};function C2(f,w){f<-.3&&(f=3410),f/=1e3,f=Math.max(.1,f);var E=3.64*Math.pow(f,-.8)-6.8*Math.exp(-.6*Math.pow(f-3.4,2))+6*Math.exp(-.15*Math.pow(f-8.7,2))+(.6+.04*w)*.001*Math.pow(f,4);return E}this.ATHformula=function(f,w){var E;switch(w.ATHtype){case 0:E=C2(f,9);break;case 1:E=C2(f,-1);break;case 2:E=C2(f,0);break;case 3:E=C2(f,1)+6;break;case 4:E=C2(f,w.ATHcurve);break;default:E=C2(f,0);break}return E}}var Yt=Gt;function j1(b){var H=b;this.ordinal=function(){return H}}j1.STEREO=new j1(0);j1.JOINT_STEREO=new j1(1);j1.DUAL_CHANNEL=new j1(2);j1.MONO=new j1(3);j1.NOT_SET=new j1(4);var Ya=j1,qt=Ya;function Pt(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=qt.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var zt=Pt,Ut=n1(),qa={};qa.SFBMAX=Ut.SBMAX_s*3;var me=qa,b1=G0;b1.System;b1.VbrMode;b1.Float;b1.ShortBlock;b1.Util;b1.Arrays;b1.new_array_n;b1.new_byte;b1.new_double;var Kt=b1.new_float;b1.new_float_n;var w2=b1.new_int;b1.new_int_n;b1.assert;var Ie=me;function Wt(){this.xr=Kt(576),this.l3_enc=w2(576),this.scalefac=w2(Ie.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=w2(3),this.subblock_gain=w2(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=w2(Ie.SFBMAX),this.window=w2(Ie.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=w2(4),this.max_nonzero_coeff=0;var b=this;function H(P){return new Int32Array(P)}function F(P){return new Float32Array(P)}this.assign=function(P){b.xr=F(P.xr),b.l3_enc=H(P.l3_enc),b.scalefac=H(P.scalefac),b.xrpow_max=P.xrpow_max,b.part2_3_length=P.part2_3_length,b.big_values=P.big_values,b.count1=P.count1,b.global_gain=P.global_gain,b.scalefac_compress=P.scalefac_compress,b.block_type=P.block_type,b.mixed_block_flag=P.mixed_block_flag,b.table_select=H(P.table_select),b.subblock_gain=H(P.subblock_gain),b.region0_count=P.region0_count,b.region1_count=P.region1_count,b.preflag=P.preflag,b.scalefac_scale=P.scalefac_scale,b.count1table_select=P.count1table_select,b.part2_length=P.part2_length,b.sfb_lmax=P.sfb_lmax,b.sfb_smin=P.sfb_smin,b.psy_lmax=P.psy_lmax,b.sfbmax=P.sfbmax,b.psymax=P.psymax,b.sfbdivide=P.sfbdivide,b.width=H(P.width),b.window=H(P.window),b.count1bits=P.count1bits,b.sfb_partition_table=P.sfb_partition_table.slice(0),b.slen=H(P.slen),b.max_nonzero_coeff=P.max_nonzero_coeff}}var Ge=Wt,w1=G0;w1.System;w1.VbrMode;w1.Float;w1.ShortBlock;w1.Util;w1.Arrays;w1.new_array_n;w1.new_byte;w1.new_double;w1.new_float;w1.new_float_n;var _a=w1.new_int;w1.new_int_n;w1.assert;var Zt=Ge;function Qt(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[_a(4),_a(4)];for(var b=0;b<2;b++)for(var H=0;H<2;H++)this.tt[b][H]=new Zt}var jt=Qt,S1=G0,Z2=S1.System;S1.VbrMode;S1.Float;S1.ShortBlock;S1.Util;S1.Arrays;S1.new_array_n;S1.new_byte;S1.new_double;S1.new_float;S1.new_float_n;var Q2=S1.new_int;S1.new_int_n;S1.assert;var j2=n1();function Jt(b,H,F,P){this.l=Q2(1+j2.SBMAX_l),this.s=Q2(1+j2.SBMAX_s),this.psfb21=Q2(1+j2.PSFB21),this.psfb12=Q2(1+j2.PSFB12);var Z=this.l,Y=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],Z2.arraycopy(this.arrL,0,Z,0,Math.min(this.arrL.length,this.l.length)),Z2.arraycopy(this.arrS,0,Y,0,Math.min(this.arrS.length,this.s.length)),Z2.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),Z2.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var Pa=Jt,x1=G0;x1.System;x1.VbrMode;x1.Float;x1.ShortBlock;x1.Util;x1.Arrays;x1.new_array_n;x1.new_byte;x1.new_double;var Ce=x1.new_float,gt=x1.new_float_n,er=x1.new_int;x1.new_int_n;x1.assert;var oa=n1();function ar(){this.last_en_subshort=gt([4,9]),this.lastAttacks=er(4),this.pefirbuf=Ce(19),this.longfact=Ce(oa.SBMAX_l),this.shortfact=Ce(oa.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var tr=ar;function rr(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var sr=rr,M1=G0;M1.System;M1.VbrMode;M1.Float;M1.ShortBlock;M1.Util;M1.Arrays;M1.new_array_n;var nr=M1.new_byte,ir=M1.new_double,Y1=M1.new_float,S2=M1.new_float_n,W1=M1.new_int,J2=M1.new_int_n;M1.assert;var lr=jt,_r=Pa,or=tr,vr=sr,va=Ga(),K0=n1(),ur=me;l2.MFSIZE=3*1152+K0.ENCDELAY-K0.MDCTDELAY;l2.MAX_HEADER_BUF=256;l2.MAX_BITS_PER_CHANNEL=4095;l2.MAX_BITS_PER_GRANULE=7680;l2.BPC=320;function l2(){var b=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=S2([2,l2.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new lr,this.ms_ratio=Y1(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=W1(2),this.CurrentStep=W1(2),this.masking_lower=0,this.bv_scf=W1(576),this.pseudohalf=W1(ur.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*l2.BPC+1),this.itime=ir(2),this.sideinfo_len=0,this.sb_sample=S2([2,2,18,K0.SBLIMIT]),this.amp_filter=Y1(32);function H(){this.write_timing=0,this.ptr=0,this.buf=nr(b)}this.header=new Array(l2.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new _r,this.minval_l=Y1(K0.CBANDS),this.minval_s=Y1(K0.CBANDS),this.nb_1=S2([4,K0.CBANDS]),this.nb_2=S2([4,K0.CBANDS]),this.nb_s1=S2([4,K0.CBANDS]),this.nb_s2=S2([4,K0.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=Y1(4),this.loudness_sq=S2([2,2]),this.loudness_sq_save=Y1(2),this.mld_l=Y1(K0.SBMAX_l),this.mld_s=Y1(K0.SBMAX_s),this.bm_l=W1(K0.SBMAX_l),this.bo_l=W1(K0.SBMAX_l),this.bm_s=W1(K0.SBMAX_s),this.bo_s=W1(K0.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=J2([K0.CBANDS,2]),this.s3ind_s=J2([K0.CBANDS,2]),this.numlines_s=W1(K0.CBANDS),this.numlines_l=W1(K0.CBANDS),this.rnumlines_l=Y1(K0.CBANDS),this.mld_cb_l=Y1(K0.CBANDS),this.mld_cb_s=Y1(K0.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=Y1(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=W1(2),this.nsPsy=new or,this.VBR_seek_table=new vr,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=J2([16,5]),this.bitrate_blockType_Hist=J2([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var F=0;F<this.en.length;F++)this.en[F]=new va;for(var F=0;F<this.thm.length;F++)this.thm[F]=new va;for(var F=0;F<this.header.length;F++)this.header[F]=new H}var fe=l2,p1=G0;p1.System;p1.VbrMode;p1.Float;p1.ShortBlock;p1.Util;p1.Arrays;p1.new_array_n;p1.new_byte;p1.new_double;var x2=p1.new_float;p1.new_float_n;p1.new_int;p1.new_int_n;p1.assert;var M2=n1();function cr(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=x2(M2.SBMAX_l),this.s=x2(M2.SBMAX_s),this.psfb21=x2(M2.PSFB21),this.psfb12=x2(M2.PSFB12),this.cb_l=x2(M2.CBANDS),this.cb_s=x2(M2.CBANDS),this.eql_w=x2(M2.BLKSIZE/2)}var hr=cr,A1=G0,h1=A1.System;A1.VbrMode;A1.Float;A1.ShortBlock;A1.Util;var ua=A1.Arrays;A1.new_array_n;A1.new_byte;A1.new_double;A1.new_float;A1.new_float_n;A1.new_int;A1.new_int_n;A1.assert;$0.STEPS_per_dB=100;$0.MAX_dB=120;$0.GAIN_NOT_ENOUGH_SAMPLES=-24601;$0.GAIN_ANALYSIS_ERROR=0;$0.GAIN_ANALYSIS_OK=1;$0.INIT_GAIN_ANALYSIS_ERROR=0;$0.INIT_GAIN_ANALYSIS_OK=1;$0.YULE_ORDER=10;$0.MAX_ORDER=$0.YULE_ORDER;$0.MAX_SAMP_FREQ=48e3;$0.RMS_WINDOW_TIME_NUMERATOR=1;$0.RMS_WINDOW_TIME_DENOMINATOR=20;$0.MAX_SAMPLES_PER_WINDOW=$0.MAX_SAMP_FREQ*$0.RMS_WINDOW_TIME_NUMERATOR/$0.RMS_WINDOW_TIME_DENOMINATOR+1;function $0(){var b=64.82;$0.YULE_ORDER;var H=.95;$0.MAX_SAMP_FREQ;var F=$0.RMS_WINDOW_TIME_NUMERATOR,P=$0.RMS_WINDOW_TIME_DENOMINATOR;$0.MAX_SAMPLES_PER_WINDOW;var Z=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],Y=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function q(S,O,V,T,L,y){for(;L--!=0;)V[T]=1e-10+S[O+0]*y[0]-V[T-1]*y[1]+S[O-1]*y[2]-V[T-2]*y[3]+S[O-2]*y[4]-V[T-3]*y[5]+S[O-3]*y[6]-V[T-4]*y[7]+S[O-4]*y[8]-V[T-5]*y[9]+S[O-5]*y[10]-V[T-6]*y[11]+S[O-6]*y[12]-V[T-7]*y[13]+S[O-7]*y[14]-V[T-8]*y[15]+S[O-8]*y[16]-V[T-9]*y[17]+S[O-9]*y[18]-V[T-10]*y[19]+S[O-10]*y[20],++T,++O}function G(S,O,V,T,L,y){for(;L--!=0;)V[T]=S[O+0]*y[0]-V[T-1]*y[1]+S[O-1]*y[2]-V[T-2]*y[3]+S[O-2]*y[4],++T,++O}function W(S,O){for(var V=0;V<MAX_ORDER;V++)S.linprebuf[V]=S.lstepbuf[V]=S.loutbuf[V]=S.rinprebuf[V]=S.rstepbuf[V]=S.routbuf[V]=0;switch(0|O){case 48e3:S.reqindex=0;break;case 44100:S.reqindex=1;break;case 32e3:S.reqindex=2;break;case 24e3:S.reqindex=3;break;case 22050:S.reqindex=4;break;case 16e3:S.reqindex=5;break;case 12e3:S.reqindex=6;break;case 11025:S.reqindex=7;break;case 8e3:S.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return S.sampleWindow=0|(O*F+P-1)/P,S.lsum=0,S.rsum=0,S.totsamp=0,ua.ill(S.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(S,O){return W(S,O)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(S.linpre=MAX_ORDER,S.rinpre=MAX_ORDER,S.lstep=MAX_ORDER,S.rstep=MAX_ORDER,S.lout=MAX_ORDER,S.rout=MAX_ORDER,ua.fill(S.B,0),INIT_GAIN_ANALYSIS_OK)};function A(S){return S*S}this.AnalyzeSamples=function(S,O,V,T,L,y,p){var _,c,d,e,m,h,x;if(y==0)return GAIN_ANALYSIS_OK;switch(x=0,m=y,p){case 1:T=O,L=V;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(y<MAX_ORDER?(h1.arraycopy(O,V,S.linprebuf,MAX_ORDER,y),h1.arraycopy(T,L,S.rinprebuf,MAX_ORDER,y)):(h1.arraycopy(O,V,S.linprebuf,MAX_ORDER,MAX_ORDER),h1.arraycopy(T,L,S.rinprebuf,MAX_ORDER,MAX_ORDER));m>0;){h=m>S.sampleWindow-S.totsamp?S.sampleWindow-S.totsamp:m,x<MAX_ORDER?(_=S.linpre+x,c=S.linprebuf,d=S.rinpre+x,e=S.rinprebuf,h>MAX_ORDER-x&&(h=MAX_ORDER-x)):(_=V+x,c=O,d=L+x,e=T),q(c,_,S.lstepbuf,S.lstep+S.totsamp,h,Z[S.reqindex]),q(e,d,S.rstepbuf,S.rstep+S.totsamp,h,Z[S.reqindex]),G(S.lstepbuf,S.lstep+S.totsamp,S.loutbuf,S.lout+S.totsamp,h,Y[S.reqindex]),G(S.rstepbuf,S.rstep+S.totsamp,S.routbuf,S.rout+S.totsamp,h,Y[S.reqindex]),_=S.lout+S.totsamp,c=S.loutbuf,d=S.rout+S.totsamp,e=S.routbuf;for(var v=h%8;v--!=0;)S.lsum+=A(c[_++]),S.rsum+=A(e[d++]);for(v=h/8;v--!=0;)S.lsum+=A(c[_+0])+A(c[_+1])+A(c[_+2])+A(c[_+3])+A(c[_+4])+A(c[_+5])+A(c[_+6])+A(c[_+7]),_+=8,S.rsum+=A(e[d+0])+A(e[d+1])+A(e[d+2])+A(e[d+3])+A(e[d+4])+A(e[d+5])+A(e[d+6])+A(e[d+7]),d+=8;if(m-=h,x+=h,S.totsamp+=h,S.totsamp==S.sampleWindow){var s=$0.STEPS_per_dB*10*Math.log10((S.lsum+S.rsum)/S.totsamp*.5+1e-37),r=s<=0?0:0|s;r>=S.A.length&&(r=S.A.length-1),S.A[r]++,S.lsum=S.rsum=0,h1.arraycopy(S.loutbuf,S.totsamp,S.loutbuf,0,MAX_ORDER),h1.arraycopy(S.routbuf,S.totsamp,S.routbuf,0,MAX_ORDER),h1.arraycopy(S.lstepbuf,S.totsamp,S.lstepbuf,0,MAX_ORDER),h1.arraycopy(S.rstepbuf,S.totsamp,S.rstepbuf,0,MAX_ORDER),S.totsamp=0}if(S.totsamp>S.sampleWindow)return GAIN_ANALYSIS_ERROR}return y<MAX_ORDER?(h1.arraycopy(S.linprebuf,y,S.linprebuf,0,MAX_ORDER-y),h1.arraycopy(S.rinprebuf,y,S.rinprebuf,0,MAX_ORDER-y),h1.arraycopy(O,V,S.linprebuf,MAX_ORDER-y,y),h1.arraycopy(T,L,S.rinprebuf,MAX_ORDER-y,y)):(h1.arraycopy(O,V+y-MAX_ORDER,S.linprebuf,0,MAX_ORDER),h1.arraycopy(T,L+y-MAX_ORDER,S.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function $(S,O){var V,T=0;for(V=0;V<O;V++)T+=S[V];if(T==0)return GAIN_NOT_ENOUGH_SAMPLES;var L=0|Math.ceil(T*(1-H));for(V=O;V-- >0&&!((L-=S[V])<=0););return b-V/$0.STEPS_per_dB}this.GetTitleGain=function(S){for(var O=$(S.A,S.A.length),V=0;V<S.A.length;V++)S.B[V]+=S.A[V],S.A[V]=0;for(var V=0;V<MAX_ORDER;V++)S.linprebuf[V]=S.lstepbuf[V]=S.loutbuf[V]=S.rinprebuf[V]=S.rstepbuf[V]=S.routbuf[V]=0;return S.totsamp=0,S.lsum=S.rsum=0,O}}var za=$0,R1=G0;R1.System;R1.VbrMode;R1.Float;R1.ShortBlock;R1.Util;R1.Arrays;R1.new_array_n;R1.new_byte;R1.new_double;var H2=R1.new_float;R1.new_float_n;var ca=R1.new_int;R1.new_int_n;R1.assert;var m1=za;function mr(){this.linprebuf=H2(m1.MAX_ORDER*2),this.linpre=0,this.lstepbuf=H2(m1.MAX_SAMPLES_PER_WINDOW+m1.MAX_ORDER),this.lstep=0,this.loutbuf=H2(m1.MAX_SAMPLES_PER_WINDOW+m1.MAX_ORDER),this.lout=0,this.rinprebuf=H2(m1.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=H2(m1.MAX_SAMPLES_PER_WINDOW+m1.MAX_ORDER),this.rstep=0,this.routbuf=H2(m1.MAX_SAMPLES_PER_WINDOW+m1.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=ca(0|m1.STEPS_per_dB*m1.MAX_dB),this.B=ca(0|m1.STEPS_per_dB*m1.MAX_dB)}var fr=mr;function dr(b){this.bits=b}var Ua=dr,E1=G0;E1.System;E1.VbrMode;E1.Float;E1.ShortBlock;E1.Util;E1.Arrays;E1.new_array_n;E1.new_byte;E1.new_double;var ha=E1.new_float;E1.new_float_n;var br=E1.new_int;E1.new_int_n;var ma=E1.assert,wr=Ua,fa=n1(),Sr=me,xr=fe;function Mr(b){var H=b;this.quantize=H,this.iteration_loop=function(F,P,Z,Y){var q=F.internal_flags,G=ha(Sr.SFBMAX),W=ha(576),A=br(2),$=0,S,O=q.l3_side,V=new wr($);this.quantize.rv.ResvFrameBegin(F,V),$=V.bits;for(var T=0;T<q.mode_gr;T++){S=this.quantize.qupvt.on_pe(F,P,A,$,T,T),q.mode_ext==fa.MPG_MD_MS_LR&&(this.quantize.ms_convert(q.l3_side,T),this.quantize.qupvt.reduce_side(A,Z[T],$,S));for(var L=0;L<q.channels_out;L++){var y,p,_=O.tt[T][L];_.block_type!=fa.SHORT_TYPE?(y=0,p=q.PSY.mask_adjust-y):(y=0,p=q.PSY.mask_adjust_short-y),q.masking_lower=Math.pow(10,p*.1),this.quantize.init_outer_loop(q,_),this.quantize.init_xrpow(q,_,W)&&(this.quantize.qupvt.calc_xmin(F,Y[T][L],_,G),this.quantize.outer_loop(F,_,G,W,L,A[L])),this.quantize.iteration_finish_one(q,T,L),ma(_.part2_3_length<=xr.MAX_BITS_PER_CHANNEL),ma(_.part2_3_length<=A[L])}}this.quantize.rv.ResvFrameEnd(q,$)}}var pr=Mr;function L0(b,H,F,P){this.xlen=b,this.linmax=H,this.table=F,this.hlen=P}var r0={};r0.t1HB=[1,1,1,0];r0.t2HB=[1,2,1,3,1,1,3,2,0];r0.t3HB=[3,2,1,1,1,1,3,2,0];r0.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0];r0.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0];r0.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0];r0.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0];r0.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0];r0.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0];r0.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0];r0.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0];r0.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1];r0.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0];r0.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3];r0.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3];r0.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16];r0.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0];r0.t1l=[1,4,3,5];r0.t2l=[1,4,7,4,5,7,6,7,8];r0.t3l=[2,3,7,4,4,7,6,7,8];r0.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10];r0.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9];r0.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12];r0.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13];r0.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11];r0.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13];r0.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12];r0.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12];r0.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18];r0.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15];r0.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12];r0.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10];r0.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6];r0.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10];r0.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8];r0.ht=[new L0(0,0,null,null),new L0(2,0,r0.t1HB,r0.t1l),new L0(3,0,r0.t2HB,r0.t2l),new L0(3,0,r0.t3HB,r0.t3l),new L0(0,0,null,null),new L0(4,0,r0.t5HB,r0.t5l),new L0(4,0,r0.t6HB,r0.t6l),new L0(6,0,r0.t7HB,r0.t7l),new L0(6,0,r0.t8HB,r0.t8l),new L0(6,0,r0.t9HB,r0.t9l),new L0(8,0,r0.t10HB,r0.t10l),new L0(8,0,r0.t11HB,r0.t11l),new L0(8,0,r0.t12HB,r0.t12l),new L0(16,0,r0.t13HB,r0.t13l),new L0(0,0,null,r0.t16_5l),new L0(16,0,r0.t15HB,r0.t15l),new L0(1,1,r0.t16HB,r0.t16l),new L0(2,3,r0.t16HB,r0.t16l),new L0(3,7,r0.t16HB,r0.t16l),new L0(4,15,r0.t16HB,r0.t16l),new L0(6,63,r0.t16HB,r0.t16l),new L0(8,255,r0.t16HB,r0.t16l),new L0(10,1023,r0.t16HB,r0.t16l),new L0(13,8191,r0.t16HB,r0.t16l),new L0(4,15,r0.t24HB,r0.t24l),new L0(5,31,r0.t24HB,r0.t24l),new L0(6,63,r0.t24HB,r0.t24l),new L0(7,127,r0.t24HB,r0.t24l),new L0(8,255,r0.t24HB,r0.t24l),new L0(9,511,r0.t24HB,r0.t24l),new L0(11,2047,r0.t24HB,r0.t24l),new L0(13,8191,r0.t24HB,r0.t24l),new L0(0,0,r0.t32HB,r0.t32l),new L0(0,0,r0.t33HB,r0.t33l)];r0.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366];r0.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296];r0.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369];r0.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]];r0.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]];r0.scfsi_band=[0,6,11,16,21];var Ye=r0,n2=Pa,y1=G0;y1.System;var p2=y1.VbrMode,g2=y1.Float;y1.ShortBlock;var Le=y1.Util;y1.Arrays;y1.new_array_n;y1.new_byte;y1.new_double;var A2=y1.new_float;y1.new_float_n;var Ar=y1.new_int;y1.new_int_n;var i2=y1.assert,r1=n1(),Rr=Ua,l1=fe;D1.Q_MAX=257;D1.Q_MAX2=116;D1.LARGE_BITS=1e5;D1.IXMAX_VAL=8206;function D1(){var b=null,H=null,F=null;this.setModules=function(_,c,d){b=_,H=c,F=d};function P(_){return i2(0<=_+D1.Q_MAX2&&_<D1.Q_MAX),S[_+D1.Q_MAX2]}this.IPOW20=function(_){return i2(0<=_&&_<D1.Q_MAX),O[_]};var Z=2220446049250313e-31,Y=D1.IXMAX_VAL,q=Y+2,G=D1.Q_MAX,W=D1.Q_MAX2;D1.LARGE_BITS;var A=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var $=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=$,this.sfBandIndex=[new n2([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n2([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n2([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n2([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n2([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n2([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n2([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n2([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n2([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var S=A2(G+W+1),O=A2(G),V=A2(q),T=A2(q);this.adj43=T;function L(_,c){var d=F.ATHformula(c,_);return d-=A,d=Math.pow(10,d/10+_.ATHlower),d}function y(_){for(var c=_.internal_flags.ATH.l,d=_.internal_flags.ATH.psfb21,e=_.internal_flags.ATH.s,m=_.internal_flags.ATH.psfb12,h=_.internal_flags,x=_.out_samplerate,v=0;v<r1.SBMAX_l;v++){var s=h.scalefac_band.l[v],r=h.scalefac_band.l[v+1];c[v]=g2.MAX_VALUE;for(var o=s;o<r;o++){var n=o*x/1152,a=L(_,n);c[v]=Math.min(c[v],a)}}for(var v=0;v<r1.PSFB21;v++){var s=h.scalefac_band.psfb21[v],r=h.scalefac_band.psfb21[v+1];d[v]=g2.MAX_VALUE;for(var o=s;o<r;o++){var n=o*x/1152,a=L(_,n);d[v]=Math.min(d[v],a)}}for(var v=0;v<r1.SBMAX_s;v++){var s=h.scalefac_band.s[v],r=h.scalefac_band.s[v+1];e[v]=g2.MAX_VALUE;for(var o=s;o<r;o++){var n=o*x/384,a=L(_,n);e[v]=Math.min(e[v],a)}e[v]*=h.scalefac_band.s[v+1]-h.scalefac_band.s[v]}for(var v=0;v<r1.PSFB12;v++){var s=h.scalefac_band.psfb12[v],r=h.scalefac_band.psfb12[v+1];m[v]=g2.MAX_VALUE;for(var o=s;o<r;o++){var n=o*x/384,a=L(_,n);m[v]=Math.min(m[v],a)}m[v]*=h.scalefac_band.s[13]-h.scalefac_band.s[12]}if(_.noATH){for(var v=0;v<r1.SBMAX_l;v++)c[v]=1e-20;for(var v=0;v<r1.PSFB21;v++)d[v]=1e-20;for(var v=0;v<r1.SBMAX_s;v++)e[v]=1e-20;for(var v=0;v<r1.PSFB12;v++)m[v]=1e-20}h.ATH.floor=10*Math.log10(L(_,-1))}this.iteration_init=function(_){var c=_.internal_flags,d=c.l3_side,e;if(c.iteration_init_init==0){for(c.iteration_init_init=1,d.main_data_begin=0,y(_),V[0]=0,e=1;e<q;e++)V[e]=Math.pow(e,4/3);for(e=0;e<q-1;e++)T[e]=e+1-Math.pow(.5*(V[e]+V[e+1]),.75);for(T[e]=.5,e=0;e<G;e++)O[e]=Math.pow(2,(e-210)*-.1875);for(e=0;e<=G+W;e++)S[e]=Math.pow(2,(e-210-W)*.25);b.huffman_init(c);{var m,h,x,v;for(e=_.exp_nspsytune>>2&63,e>=32&&(e-=64),m=Math.pow(10,e/4/10),e=_.exp_nspsytune>>8&63,e>=32&&(e-=64),h=Math.pow(10,e/4/10),e=_.exp_nspsytune>>14&63,e>=32&&(e-=64),x=Math.pow(10,e/4/10),e=_.exp_nspsytune>>20&63,e>=32&&(e-=64),v=x*Math.pow(10,e/4/10),e=0;e<r1.SBMAX_l;e++){var s;e<=6?s=m:e<=13?s=h:e<=20?s=x:s=v,c.nsPsy.longfact[e]=s}for(e=0;e<r1.SBMAX_s;e++){var s;e<=5?s=m:e<=10?s=h:e<=11?s=x:s=v,c.nsPsy.shortfact[e]=s}}}},this.on_pe=function(_,c,d,e,m,h){var x=_.internal_flags,v=0,s,r=Ar(2),o,n=new Rr(v),a=H.ResvMaxBits(_,e,n,h);v=n.bits;var u=v+a;for(u>l1.MAX_BITS_PER_GRANULE&&(u=l1.MAX_BITS_PER_GRANULE),s=0,o=0;o<x.channels_out;++o)d[o]=Math.min(l1.MAX_BITS_PER_CHANNEL,v/x.channels_out),r[o]=0|d[o]*c[m][o]/700-d[o],r[o]>e*3/4&&(r[o]=e*3/4),r[o]<0&&(r[o]=0),r[o]+d[o]>l1.MAX_BITS_PER_CHANNEL&&(r[o]=Math.max(0,l1.MAX_BITS_PER_CHANNEL-d[o])),s+=r[o];if(s>a)for(o=0;o<x.channels_out;++o)r[o]=a*r[o]/s;for(o=0;o<x.channels_out;++o)d[o]+=r[o],a-=r[o];for(s=0,o=0;o<x.channels_out;++o)s+=d[o];if(s>l1.MAX_BITS_PER_GRANULE){var l=0;for(o=0;o<x.channels_out;++o)d[o]*=l1.MAX_BITS_PER_GRANULE,d[o]/=s,l+=d[o];i2(l<=l1.MAX_BITS_PER_GRANULE)}return u},this.reduce_side=function(_,c,d,e){i2(e<=l1.MAX_BITS_PER_GRANULE),i2(_[0]+_[1]<=l1.MAX_BITS_PER_GRANULE);var m=.33*(.5-c)/.5;m<0&&(m=0),m>.5&&(m=.5);var h=0|m*.5*(_[0]+_[1]);h>l1.MAX_BITS_PER_CHANNEL-_[0]&&(h=l1.MAX_BITS_PER_CHANNEL-_[0]),h<0&&(h=0),_[1]>=125&&(_[1]-h>125?(_[0]<d&&(_[0]+=h),_[1]-=h):(_[0]+=_[1]-125,_[1]=125)),h=_[0]+_[1],h>e&&(_[0]=e*_[0]/h,_[1]=e*_[1]/h),i2(_[0]<=l1.MAX_BITS_PER_CHANNEL),i2(_[1]<=l1.MAX_BITS_PER_CHANNEL),i2(_[0]+_[1]<=l1.MAX_BITS_PER_GRANULE)},this.athAdjust=function(_,c,d){var e=90.30873362,m=94.82444863,h=Le.FAST_LOG10_X(c,10),x=_*_,v=0;return h-=d,x>1e-20&&(v=1+Le.FAST_LOG10_X(x,10/e)),v<0&&(v=0),h*=v,h+=d+e-m,Math.pow(10,.1*h)},this.calc_xmin=function(_,c,d,e){var m=0,h=_.internal_flags,x,v=0,s=0,r=h.ATH,o=d.xr,n=_.VBR==p2.vbr_mtrh?1:0,a=h.masking_lower;for((_.VBR==p2.vbr_mtrh||_.VBR==p2.vbr_mt)&&(a=1),x=0;x<d.psy_lmax;x++){var u,l,N,R,B,t;_.VBR==p2.vbr_rh||_.VBR==p2.vbr_mtrh?l=athAdjust(r.adjust,r.l[x],r.floor):l=r.adjust*r.l[x],B=d.width[x],N=l/B,R=Z,t=B>>1,u=0;do{var i,C;i=o[v]*o[v],u+=i,R+=i<N?i:N,v++,C=o[v]*o[v],u+=C,R+=C<N?C:N,v++}while(--t>0);if(u>l&&s++,x==r1.SBPSY_l){var k=l*h.nsPsy.longfact[x];R<k&&(R=k)}if(n!=0&&(l=R),!_.ATHonly){var s0=c.en.l[x];if(s0>0){var k;k=u*c.thm.l[x]*a/s0,n!=0&&(k*=h.nsPsy.longfact[x]),l<k&&(l=k)}}n!=0?e[m++]=l:e[m++]=l*h.nsPsy.longfact[x]}var _0=575;if(d.block_type!=r1.SHORT_TYPE)for(var i0=576;i0--!=0&&BitStream.EQ(o[i0],0);)_0=i0;d.max_nonzero_coeff=_0;for(var l0=d.sfb_smin;x<d.psymax;l0++,x+=3){var B,S0,c0;for(_.VBR==p2.vbr_rh||_.VBR==p2.vbr_mtrh?c0=athAdjust(r.adjust,r.s[l0],r.floor):c0=r.adjust*r.s[l0],B=d.width[x],S0=0;S0<3;S0++){var u=0,l,N,R,t=B>>1;N=c0/B,R=Z;do{var i,C;i=o[v]*o[v],u+=i,R+=i<N?i:N,v++,C=o[v]*o[v],u+=C,R+=C<N?C:N,v++}while(--t>0);if(u>c0&&s++,l0==r1.SBPSY_s){var k=c0*h.nsPsy.shortfact[l0];R<k&&(R=k)}if(n!=0?l=R:l=c0,!_.ATHonly&&!_.ATHshort){var s0=c.en.s[l0][S0];if(s0>0){var k;k=u*c.thm.s[l0][S0]*a/s0,n!=0&&(k*=h.nsPsy.shortfact[l0]),l<k&&(l=k)}}n!=0?e[m++]=l:e[m++]=l*h.nsPsy.shortfact[l0]}_.useTemporal&&(e[m-3]>e[m-3+1]&&(e[m-3+1]+=(e[m-3]-e[m-3+1])*h.decay),e[m-3+1]>e[m-3+2]&&(e[m-3+2]+=(e[m-3+1]-e[m-3+2])*h.decay))}return s};function p(_){this.s=_}this.calc_noise_core=function(_,c,d,e){var m=0,h=c.s,x=_.l3_enc;if(h>_.count1)for(;d--!=0;){var v;v=_.xr[h],h++,m+=v*v,v=_.xr[h],h++,m+=v*v}else if(h>_.big_values){var s=A2(2);for(s[0]=0,s[1]=e;d--!=0;){var v;v=Math.abs(_.xr[h])-s[x[h]],h++,m+=v*v,v=Math.abs(_.xr[h])-s[x[h]],h++,m+=v*v}}else for(;d--!=0;){var v;v=Math.abs(_.xr[h])-V[x[h]]*e,h++,m+=v*v,v=Math.abs(_.xr[h])-V[x[h]]*e,h++,m+=v*v}return c.s=h,m},this.calc_noise=function(_,c,d,e,m){var h=0,x=0,v,s,r=0,o=0,n=0,a=-20,u=0,l=_.scalefac,N=0;for(e.over_SSD=0,v=0;v<_.psymax;v++){var R=_.global_gain-(l[N++]+(_.preflag!=0?$[v]:0)<<_.scalefac_scale+1)-_.subblock_gain[_.window[v]]*8,B=0;if(m!=null&&m.step[v]==R)B=m.noise[v],u+=_.width[v],d[h++]=B/c[x++],B=m.noise_log[v];else{var t=P(R);if(s=_.width[v]>>1,u+_.width[v]>_.max_nonzero_coeff){var i;i=_.max_nonzero_coeff-u+1,i>0?s=i>>1:s=0}var C=new p(u);B=this.calc_noise_core(_,C,s,t),u=C.s,m!=null&&(m.step[v]=R,m.noise[v]=B),B=d[h++]=B/c[x++],B=Le.FAST_LOG10(Math.max(B,1e-20)),m!=null&&(m.noise_log[v]=B)}if(m!=null&&(m.global_gain=_.global_gain),n+=B,B>0){var k;k=Math.max(0|B*10+.5,1),e.over_SSD+=k*k,r++,o+=B}a=Math.max(a,B)}return e.over_count=r,e.tot_noise=n,e.over_noise=o,e.max_noise=a,r},this.set_pinfo=function(_,c,d,e,m){var h=_.internal_flags,x,v,s,r,o,n=c.scalefac_scale==0?.5:1,a=c.scalefac,u=A2(L3Side.SFBMAX),l=A2(L3Side.SFBMAX),N=new CalcNoiseResult;calc_xmin(_,d,c,u),calc_noise(c,u,l,N,null);var R=0;for(v=c.sfb_lmax,c.block_type!=r1.SHORT_TYPE&&c.mixed_block_flag==0&&(v=22),x=0;x<v;x++){var B=h.scalefac_band.l[x],t=h.scalefac_band.l[x+1],i=t-B;for(r=0;R<t;R++)r+=c.xr[R]*c.xr[R];r/=i,o=1e15,h.pinfo.en[e][m][x]=o*r,h.pinfo.xfsf[e][m][x]=o*u[x]*l[x]/i,d.en.l[x]>0&&!_.ATHonly?r=r/d.en.l[x]:r=0,h.pinfo.thr[e][m][x]=o*Math.max(r*d.thm.l[x],h.ATH.l[x]),h.pinfo.LAMEsfb[e][m][x]=0,c.preflag!=0&&x>=11&&(h.pinfo.LAMEsfb[e][m][x]=-n*$[x]),x<r1.SBPSY_l&&(i2(a[x]>=0),h.pinfo.LAMEsfb[e][m][x]-=n*a[x])}if(c.block_type==r1.SHORT_TYPE)for(v=x,x=c.sfb_smin;x<r1.SBMAX_s;x++)for(var B=h.scalefac_band.s[x],t=h.scalefac_band.s[x+1],i=t-B,C=0;C<3;C++){for(r=0,s=B;s<t;s++)r+=c.xr[R]*c.xr[R],R++;r=Math.max(r/i,1e-20),o=1e15,h.pinfo.en_s[e][m][3*x+C]=o*r,h.pinfo.xfsf_s[e][m][3*x+C]=o*u[v]*l[v]/i,d.en.s[x][C]>0?r=r/d.en.s[x][C]:r=0,(_.ATHonly||_.ATHshort)&&(r=0),h.pinfo.thr_s[e][m][3*x+C]=o*Math.max(r*d.thm.s[x][C],h.ATH.s[x]),h.pinfo.LAMEsfb_s[e][m][3*x+C]=-2*c.subblock_gain[C],x<r1.SBPSY_s&&(h.pinfo.LAMEsfb_s[e][m][3*x+C]-=n*a[v]),v++}h.pinfo.LAMEqss[e][m]=c.global_gain,h.pinfo.LAMEmainbits[e][m]=c.part2_3_length+c.part2_length,h.pinfo.LAMEsfbits[e][m]=c.part2_length,h.pinfo.over[e][m]=N.over_count,h.pinfo.max_noise[e][m]=N.max_noise*10,h.pinfo.over_noise[e][m]=N.over_noise*10,h.pinfo.tot_noise[e][m]=N.tot_noise*10,h.pinfo.over_SSD[e][m]=N.over_SSD}}var Ka=D1,B1=G0,Er=B1.System;B1.VbrMode;B1.Float;B1.ShortBlock;B1.Util;var yr=B1.Arrays;B1.new_array_n;B1.new_byte;B1.new_double;B1.new_float;B1.new_float_n;var G2=B1.new_int;B1.new_int_n;var q1=B1.assert,q0=n1(),P0=Ye,Br=Ge,R2=Ka;function $e(){var b=null;this.qupvt=null,this.setModules=function(s){this.qupvt=s,b=s};function H(s){this.bits=0|s}var F=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function P(s,r,o,n,a,u){var l=.5946/r;for(q1(s>0),s=s>>1;s--!=0;)a[u++]=l>o[n++]?0:1,a[u++]=l>o[n++]?0:1}function Z(s,r,o,n,a,u){q1(s>0),s=s>>1;var l=s%2;for(s=s>>1;s--!=0;){var N,R,B,t,i,C,k,s0;N=o[n++]*r,R=o[n++]*r,i=0|N,B=o[n++]*r,C=0|R,t=o[n++]*r,k=0|B,N+=b.adj43[i],s0=0|t,R+=b.adj43[C],a[u++]=0|N,B+=b.adj43[k],a[u++]=0|R,t+=b.adj43[s0],a[u++]=0|B,a[u++]=0|t}if(l!=0){var N,R,i,C;N=o[n++]*r,R=o[n++]*r,i=0|N,C=0|R,N+=b.adj43[i],R+=b.adj43[C],a[u++]=0|N,a[u++]=0|R}}function Y(s,r,o,n,a){var u,l,N=0,R,B=0,t=0,i=0,C=r,k=0,s0=C,_0=0,i0=s,l0=0;for(R=a!=null&&n.global_gain==a.global_gain,n.block_type==q0.SHORT_TYPE?l=38:l=21,u=0;u<=l;u++){var S0=-1;if((R||n.block_type==q0.NORM_TYPE)&&(S0=n.global_gain-(n.scalefac[u]+(n.preflag!=0?b.pretab[u]:0)<<n.scalefac_scale+1)-n.subblock_gain[n.window[u]]*8),q1(n.width[u]>=0),R&&a.step[u]==S0)B!=0&&(Z(B,o,i0,l0,s0,_0),B=0),t!=0&&(P(t,o,i0,l0,s0,_0),t=0);else{var c0=n.width[u];if(N+n.width[u]>n.max_nonzero_coeff){var n0;n0=n.max_nonzero_coeff-N+1,yr.fill(r,n.max_nonzero_coeff,576,0),c0=n0,c0<0&&(c0=0),u=l+1}if(B==0&&t==0&&(s0=C,_0=k,i0=s,l0=i),a!=null&&a.sfb_count1>0&&u>=a.sfb_count1&&a.step[u]>0&&S0>=a.step[u]?(B!=0&&(Z(B,o,i0,l0,s0,_0),B=0,s0=C,_0=k,i0=s,l0=i),t+=c0):(t!=0&&(P(t,o,i0,l0,s0,_0),t=0,s0=C,_0=k,i0=s,l0=i),B+=c0),c0<=0){t!=0&&(P(t,o,i0,l0,s0,_0),t=0),B!=0&&(Z(B,o,i0,l0,s0,_0),B=0);break}}u<=l&&(k+=n.width[u],i+=n.width[u],N+=n.width[u])}B!=0&&(Z(B,o,i0,l0,s0,_0),B=0),t!=0&&(P(t,o,i0,l0,s0,_0),t=0)}function q(s,r,o){var n=0,a=0;do{var u=s[r++],l=s[r++];n<u&&(n=u),a<l&&(a=l)}while(r<o);return n<a&&(n=a),n}function G(s,r,o,n,a,u){var l=P0.ht[n].xlen*65536+P0.ht[a].xlen,N=0,R;do{var B=s[r++],t=s[r++];B!=0&&(B>14&&(B=15,N+=l),B*=16),t!=0&&(t>14&&(t=15,N+=l),B+=t),N+=P0.largetbl[B]}while(r<o);return R=N&65535,N>>=16,N>R&&(N=R,n=a),u.bits+=N,n}function W(s,r,o,n){var a=0,u=P0.ht[1].hlen;do{var l=s[r+0]*2+s[r+1];r+=2,a+=u[l]}while(r<o);return n.bits+=a,1}function A(s,r,o,n,a){var u=0,l,N=P0.ht[n].xlen,R;n==2?R=P0.table23:R=P0.table56;do{var B=s[r+0]*N+s[r+1];r+=2,u+=R[B]}while(r<o);return l=u&65535,u>>=16,u>l&&(u=l,n++),a.bits+=u,n}function $(s,r,o,n,a){var u=0,l=0,N=0,R=P0.ht[n].xlen,B=P0.ht[n].hlen,t=P0.ht[n+1].hlen,i=P0.ht[n+2].hlen;do{var C=s[r+0]*R+s[r+1];r+=2,u+=B[C],l+=t[C],N+=i[C]}while(r<o);var k=n;return u>l&&(u=l,k++),u>N&&(u=N,k=n+2),a.bits+=u,k}var S=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function O(s,r,o,n){var a=q(s,r,o);switch(a){case 0:return a;case 1:return W(s,r,o,n);case 2:case 3:return A(s,r,o,S[a-1],n);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return $(s,r,o,S[a-1],n);default:if(a>R2.IXMAX_VAL)return n.bits=R2.LARGE_BITS,-1;a-=15;var u;for(u=24;u<32&&!(P0.ht[u].linmax>=a);u++);var l;for(l=u-8;l<24&&!(P0.ht[l].linmax>=a);l++);return G(s,r,o,l,u,n)}}this.noquant_count_bits=function(s,r,o){var n=r.l3_enc,a=Math.min(576,r.max_nonzero_coeff+2>>1<<1);for(o!=null&&(o.sfb_count1=0);a>1&&!(n[a-1]|n[a-2]);a-=2);r.count1=a;for(var u=0,l=0;a>3;a-=4){var N;if(((n[a-1]|n[a-2]|n[a-3]|n[a-4])&2147483647)>1)break;N=((n[a-4]*2+n[a-3])*2+n[a-2])*2+n[a-1],u+=P0.t32l[N],l+=P0.t33l[N]}var R=u;if(r.count1table_select=0,u>l&&(R=l,r.count1table_select=1),r.count1bits=R,r.big_values=a,a==0)return R;if(r.block_type==q0.SHORT_TYPE)u=3*s.scalefac_band.s[3],u>r.big_values&&(u=r.big_values),l=r.big_values;else if(r.block_type==q0.NORM_TYPE){if(q1(a<=576),u=r.region0_count=s.bv_scf[a-2],l=r.region1_count=s.bv_scf[a-1],q1(u+l+2<q0.SBPSY_l),l=s.scalefac_band.l[u+l+2],u=s.scalefac_band.l[u+1],l<a){var B=new H(R);r.table_select[2]=O(n,l,a,B),R=B.bits}}else r.region0_count=7,r.region1_count=q0.SBMAX_l-1-7-1,u=s.scalefac_band.l[8],l=a,u>l&&(u=l);if(u=Math.min(u,a),l=Math.min(l,a),q1(u>=0),q1(l>=0),0<u){var B=new H(R);r.table_select[0]=O(n,0,u,B),R=B.bits}if(u<l){var B=new H(R);r.table_select[1]=O(n,u,l,B),R=B.bits}if(s.use_best_huffman==2&&(r.part2_3_length=R,best_huffman_divide(s,r),R=r.part2_3_length),o!=null&&r.block_type==q0.NORM_TYPE){for(var t=0;s.scalefac_band.l[t]<r.big_values;)t++;o.sfb_count1=t}return R},this.count_bits=function(s,r,o,n){var a=o.l3_enc,u=R2.IXMAX_VAL/b.IPOW20(o.global_gain);if(o.xrpow_max>u)return R2.LARGE_BITS;if(Y(r,a,b.IPOW20(o.global_gain),o,n),s.substep_shaping&2)for(var l=0,N=o.global_gain+o.scalefac_scale,R=.634521682242439/b.IPOW20(N),B=0;B<o.sfbmax;B++){var t=o.width[B];if(q1(t>=0),s.pseudohalf[B]==0)l+=t;else{var i;for(i=l,l+=t;i<l;++i)a[i]=r[i]>=R?a[i]:0}}return this.noquant_count_bits(s,o,n)};function V(s,r,o,n,a,u,l){for(var N=r.big_values,R=0;R<=22;R++)n[R]=R2.LARGE_BITS;for(var R=0;R<16;R++){var B=s.scalefac_band.l[R+1];if(B>=N)break;var t=0,i=new H(t),C=O(o,0,B,i);t=i.bits;for(var k=0;k<8;k++){var s0=s.scalefac_band.l[R+k+2];if(s0>=N)break;var _0=t;i=new H(_0);var i0=O(o,B,s0,i);_0=i.bits,n[R+k]>_0&&(n[R+k]=_0,a[R+k]=R,u[R+k]=C,l[R+k]=i0)}}}function T(s,r,o,n,a,u,l,N){for(var R=r.big_values,B=2;B<q0.SBMAX_l+1;B++){var t=s.scalefac_band.l[B];if(t>=R)break;var i=a[B-2]+r.count1bits;if(o.part2_3_length<=i)break;var C=new H(i),k=O(n,t,R,C);i=C.bits,!(o.part2_3_length<=i)&&(o.assign(r),o.part2_3_length=i,o.region0_count=u[B-2],o.region1_count=B-2-u[B-2],o.table_select[0]=l[B-2],o.table_select[1]=N[B-2],o.table_select[2]=k)}}this.best_huffman_divide=function(s,r){var o=new Br,n=r.l3_enc,a=G2(23),u=G2(23),l=G2(23),N=G2(23);if(!(r.block_type==q0.SHORT_TYPE&&s.mode_gr==1)){o.assign(r),r.block_type==q0.NORM_TYPE&&(V(s,r,n,a,u,l,N),T(s,o,r,n,a,u,l,N));var R=o.big_values;if(!(R==0||(n[R-2]|n[R-1])>1)&&(R=r.count1+2,!(R>576))){o.assign(r),o.count1=R;var B=0,t=0;for(q1(R<=576);R>o.big_values;R-=4){var i=((n[R-4]*2+n[R-3])*2+n[R-2])*2+n[R-1];B+=P0.t32l[i],t+=P0.t33l[i]}if(o.big_values=R,o.count1table_select=0,B>t&&(B=t,o.count1table_select=1),o.count1bits=B,o.block_type==q0.NORM_TYPE)T(s,o,r,n,a,u,l,N);else{if(o.part2_3_length=B,B=s.scalefac_band.l[8],B>R&&(B=R),B>0){var C=new H(o.part2_3_length);o.table_select[0]=O(n,0,B,C),o.part2_3_length=C.bits}if(R>B){var C=new H(o.part2_3_length);o.table_select[1]=O(n,B,R,C),o.part2_3_length=C.bits}r.part2_3_length>o.part2_3_length&&r.assign(o)}}}};var L=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],y=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],p=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],_=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];$e.slen1_tab=p,$e.slen2_tab=_;function c(s,r){for(var o,n=r.tt[1][s],a=r.tt[0][s],u=0;u<P0.scfsi_band.length-1;u++){for(o=P0.scfsi_band[u];o<P0.scfsi_band[u+1]&&!(a.scalefac[o]!=n.scalefac[o]&&n.scalefac[o]>=0);o++);if(o==P0.scfsi_band[u+1]){for(o=P0.scfsi_band[u];o<P0.scfsi_band[u+1];o++)n.scalefac[o]=-1;r.scfsi[s][u]=1}}var l=0,N=0;for(o=0;o<11;o++)n.scalefac[o]!=-1&&(N++,l<n.scalefac[o]&&(l=n.scalefac[o]));for(var R=0,B=0;o<q0.SBPSY_l;o++)n.scalefac[o]!=-1&&(B++,R<n.scalefac[o]&&(R=n.scalefac[o]));for(var u=0;u<16;u++)if(l<L[u]&&R<y[u]){var t=p[u]*N+_[u]*B;n.part2_length>t&&(n.part2_length=t,n.scalefac_compress=u)}}this.best_scalefac_store=function(s,r,o,n){var a=n.tt[r][o],u,l,N,R,B=0;for(N=0,u=0;u<a.sfbmax;u++){var t=a.width[u];for(q1(t>=0),N+=t,R=-t;R<0&&a.l3_enc[R+N]==0;R++);R==0&&(a.scalefac[u]=B=-2)}if(a.scalefac_scale==0&&a.preflag==0){var i=0;for(u=0;u<a.sfbmax;u++)a.scalefac[u]>0&&(i|=a.scalefac[u]);if(!(i&1)&&i!=0){for(u=0;u<a.sfbmax;u++)a.scalefac[u]>0&&(a.scalefac[u]>>=1);a.scalefac_scale=B=1}}if(a.preflag==0&&a.block_type!=q0.SHORT_TYPE&&s.mode_gr==2){for(u=11;u<q0.SBPSY_l&&!(a.scalefac[u]<b.pretab[u]&&a.scalefac[u]!=-2);u++);if(u==q0.SBPSY_l){for(u=11;u<q0.SBPSY_l;u++)a.scalefac[u]>0&&(a.scalefac[u]-=b.pretab[u]);a.preflag=B=1}}for(l=0;l<4;l++)n.scfsi[o][l]=0;for(s.mode_gr==2&&r==1&&n.tt[0][o].block_type!=q0.SHORT_TYPE&&n.tt[1][o].block_type!=q0.SHORT_TYPE&&(c(o,n),B=0),u=0;u<a.sfbmax;u++)a.scalefac[u]==-2&&(a.scalefac[u]=0);B!=0&&(s.mode_gr==2?this.scale_bitcount(a):this.scale_bitcount_lsf(s,a))};function d(s,r){for(var o=0;o<r;++o)if(s[o]<0)return!1;return!0}var e=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],m=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],h=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(s){var r,o,n=0,a=0,u,l=s.scalefac;if(q1(d(l,s.sfbmax)),s.block_type==q0.SHORT_TYPE)u=e,s.mixed_block_flag!=0&&(u=m);else if(u=h,s.preflag==0){for(o=11;o<q0.SBPSY_l&&!(l[o]<b.pretab[o]);o++);if(o==q0.SBPSY_l)for(s.preflag=1,o=11;o<q0.SBPSY_l;o++)l[o]-=b.pretab[o]}for(o=0;o<s.sfbdivide;o++)n<l[o]&&(n=l[o]);for(;o<s.sfbmax;o++)a<l[o]&&(a=l[o]);for(s.part2_length=R2.LARGE_BITS,r=0;r<16;r++)n<L[r]&&a<y[r]&&s.part2_length>u[r]&&(s.part2_length=u[r],s.scalefac_compress=r);return s.part2_length==R2.LARGE_BITS};var x=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(s,r){var o,n,a,u,l,N,R,B,t=G2(4),i=r.scalefac;for(r.preflag!=0?o=2:o=0,R=0;R<4;R++)t[R]=0;if(r.block_type==q0.SHORT_TYPE){n=1;var C=b.nr_of_sfb_block[o][n];for(B=0,a=0;a<4;a++)for(u=C[a]/3,R=0;R<u;R++,B++)for(l=0;l<3;l++)i[B*3+l]>t[a]&&(t[a]=i[B*3+l])}else{n=0;var C=b.nr_of_sfb_block[o][n];for(B=0,a=0;a<4;a++)for(u=C[a],R=0;R<u;R++,B++)i[B]>t[a]&&(t[a]=i[B])}for(N=!1,a=0;a<4;a++)t[a]>x[o][a]&&(N=!0);if(!N){var k,s0,_0,i0;for(r.sfb_partition_table=b.nr_of_sfb_block[o][n],a=0;a<4;a++)r.slen[a]=v[t[a]];switch(k=r.slen[0],s0=r.slen[1],_0=r.slen[2],i0=r.slen[3],o){case 0:r.scalefac_compress=(k*5+s0<<4)+(_0<<2)+i0;break;case 1:r.scalefac_compress=400+(k*5+s0<<2)+_0;break;case 2:r.scalefac_compress=500+k*3+s0;break;default:Er.err.printf(`intensity stereo not implemented yet
`);break}}if(!N)for(q1(r.sfb_partition_table!=null),r.part2_length=0,a=0;a<4;a++)r.part2_length+=r.slen[a]*r.sfb_partition_table[a];return N};var v=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(s){for(var r=2;r<=576;r+=2){for(var o=0,n;s.scalefac_band.l[++o]<r;);for(n=F[o][0];s.scalefac_band.l[n+1]>r;)n--;for(n<0&&(n=F[o][0]),s.bv_scf[r-2]=n,n=F[o][1];s.scalefac_band.l[n+s.bv_scf[r-2]+2]>r;)n--;n<0&&(n=F[o][1]),s.bv_scf[r-1]=n}}}var Wa=$e,T1=G0,e2=T1.System;T1.VbrMode;T1.Float;T1.ShortBlock;T1.Util;var Tr=T1.Arrays;T1.new_array_n;var Ir=T1.new_byte;T1.new_double;T1.new_float;var Cr=T1.new_float_n,Lr=T1.new_int;T1.new_int_n;var p0=T1.assert,da=Wa,Ve=Ye,ee=n1(),E2=fe;le.EQ=function(b,H){return Math.abs(b)>Math.abs(H)?Math.abs(b-H)<=Math.abs(b)*1e-6:Math.abs(b-H)<=Math.abs(H)*1e-6};le.NEQ=function(b,H){return!le.EQ(b,H)};function le(){var b=this,H=32773,F=32,P=null,Z=null,Y=null,q=null;this.setModules=function(v,s,r,o){P=v,Z=s,Y=r,q=o};var G=null,W=0,A=0,$=0;this.getframebits=function(v){var s=v.internal_flags,r;s.bitrate_index!=0?r=Ve.bitrate_table[v.version][s.bitrate_index]:r=v.brate,p0(8<=r&&r<=640);var o=0|(v.version+1)*72e3*r/v.out_samplerate+s.padding;return 8*o};function S(v){e2.arraycopy(v.header[v.w_ptr].buf,0,G,A,v.sideinfo_len),A+=v.sideinfo_len,W+=v.sideinfo_len*8,v.w_ptr=v.w_ptr+1&E2.MAX_HEADER_BUF-1}function O(v,s,r){for(p0(r<F-2);r>0;){var o;$==0&&($=8,A++,p0(A<Lame.LAME_MAXMP3BUFFER),p0(v.header[v.w_ptr].write_timing>=W),v.header[v.w_ptr].write_timing==W&&S(v),G[A]=0),o=Math.min(r,$),r-=o,$-=o,p0(r<F),p0($<F),G[A]|=s>>r<<$,W+=o}}function V(v,s,r){for(p0(r<F-2);r>0;){var o;$==0&&($=8,A++,p0(A<Lame.LAME_MAXMP3BUFFER),G[A]=0),o=Math.min(r,$),r-=o,$-=o,p0(r<F),p0($<F),G[A]|=s>>r<<$,W+=o}}function T(v,s){var r=v.internal_flags,o;if(p0(s>=0),s>=8&&(O(r,76,8),s-=8),s>=8&&(O(r,65,8),s-=8),s>=8&&(O(r,77,8),s-=8),s>=8&&(O(r,69,8),s-=8),s>=32){var n=Y.getLameShortVersion();if(s>=32)for(o=0;o<n.length&&s>=8;++o)s-=8,O(r,n.charAt(o),8)}for(;s>=1;s-=1)O(r,r.ancillary_flag,1),r.ancillary_flag^=v.disable_reservoir?0:1;p0(s==0)}function L(v,s,r){for(var o=v.header[v.h_ptr].ptr;r>0;){var n=Math.min(r,8-(o&7));r-=n,p0(r<F),v.header[v.h_ptr].buf[o>>3]|=s>>r<<8-(o&7)-n,o+=n}v.header[v.h_ptr].ptr=o}function y(v,s){v<<=8;for(var r=0;r<8;r++)v<<=1,s<<=1,(s^v)&65536&&(s^=H);return s}this.CRC_writeheader=function(v,s){var r=65535;r=y(s[2]&255,r),r=y(s[3]&255,r);for(var o=6;o<v.sideinfo_len;o++)r=y(s[o]&255,r);s[4]=byte(r>>8),s[5]=byte(r&255)};function p(v,s){var r=v.internal_flags,o,n,a;if(o=r.l3_side,r.header[r.h_ptr].ptr=0,Tr.fill(r.header[r.h_ptr].buf,0,r.sideinfo_len,0),v.out_samplerate<16e3?L(r,4094,12):L(r,4095,12),L(r,v.version,1),L(r,1,2),L(r,v.error_protection?0:1,1),L(r,r.bitrate_index,4),L(r,r.samplerate_index,2),L(r,r.padding,1),L(r,v.extension,1),L(r,v.mode.ordinal(),2),L(r,r.mode_ext,2),L(r,v.copyright,1),L(r,v.original,1),L(r,v.emphasis,2),v.error_protection&&L(r,0,16),v.version==1){for(p0(o.main_data_begin>=0),L(r,o.main_data_begin,9),r.channels_out==2?L(r,o.private_bits,3):L(r,o.private_bits,5),a=0;a<r.channels_out;a++){var u;for(u=0;u<4;u++)L(r,o.scfsi[a][u],1)}for(n=0;n<2;n++)for(a=0;a<r.channels_out;a++){var l=o.tt[n][a];L(r,l.part2_3_length+l.part2_length,12),L(r,l.big_values/2,9),L(r,l.global_gain,8),L(r,l.scalefac_compress,4),l.block_type!=ee.NORM_TYPE?(L(r,1,1),L(r,l.block_type,2),L(r,l.mixed_block_flag,1),l.table_select[0]==14&&(l.table_select[0]=16),L(r,l.table_select[0],5),l.table_select[1]==14&&(l.table_select[1]=16),L(r,l.table_select[1],5),L(r,l.subblock_gain[0],3),L(r,l.subblock_gain[1],3),L(r,l.subblock_gain[2],3)):(L(r,0,1),l.table_select[0]==14&&(l.table_select[0]=16),L(r,l.table_select[0],5),l.table_select[1]==14&&(l.table_select[1]=16),L(r,l.table_select[1],5),l.table_select[2]==14&&(l.table_select[2]=16),L(r,l.table_select[2],5),p0(0<=l.region0_count&&l.region0_count<16),p0(0<=l.region1_count&&l.region1_count<8),L(r,l.region0_count,4),L(r,l.region1_count,3)),L(r,l.preflag,1),L(r,l.scalefac_scale,1),L(r,l.count1table_select,1)}}else for(p0(o.main_data_begin>=0),L(r,o.main_data_begin,8),L(r,o.private_bits,r.channels_out),n=0,a=0;a<r.channels_out;a++){var l=o.tt[n][a];L(r,l.part2_3_length+l.part2_length,12),L(r,l.big_values/2,9),L(r,l.global_gain,8),L(r,l.scalefac_compress,9),l.block_type!=ee.NORM_TYPE?(L(r,1,1),L(r,l.block_type,2),L(r,l.mixed_block_flag,1),l.table_select[0]==14&&(l.table_select[0]=16),L(r,l.table_select[0],5),l.table_select[1]==14&&(l.table_select[1]=16),L(r,l.table_select[1],5),L(r,l.subblock_gain[0],3),L(r,l.subblock_gain[1],3),L(r,l.subblock_gain[2],3)):(L(r,0,1),l.table_select[0]==14&&(l.table_select[0]=16),L(r,l.table_select[0],5),l.table_select[1]==14&&(l.table_select[1]=16),L(r,l.table_select[1],5),l.table_select[2]==14&&(l.table_select[2]=16),L(r,l.table_select[2],5),p0(0<=l.region0_count&&l.region0_count<16),p0(0<=l.region1_count&&l.region1_count<8),L(r,l.region0_count,4),L(r,l.region1_count,3)),L(r,l.scalefac_scale,1),L(r,l.count1table_select,1)}v.error_protection&&CRC_writeheader(r,r.header[r.h_ptr].buf);{var N=r.h_ptr;p0(r.header[N].ptr==r.sideinfo_len*8),r.h_ptr=N+1&E2.MAX_HEADER_BUF-1,r.header[r.h_ptr].write_timing=r.header[N].write_timing+s,r.h_ptr==r.w_ptr&&e2.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function _(v,s){var r=Ve.ht[s.count1table_select+32],o,n=0,a=s.big_values,u=s.big_values;for(p0(s.count1table_select<2),o=(s.count1-s.big_values)/4;o>0;--o){var l=0,N=0,R;R=s.l3_enc[a+0],R!=0&&(N+=8,s.xr[u+0]<0&&l++,p0(R<=1)),R=s.l3_enc[a+1],R!=0&&(N+=4,l*=2,s.xr[u+1]<0&&l++,p0(R<=1)),R=s.l3_enc[a+2],R!=0&&(N+=2,l*=2,s.xr[u+2]<0&&l++,p0(R<=1)),R=s.l3_enc[a+3],R!=0&&(N++,l*=2,s.xr[u+3]<0&&l++,p0(R<=1)),a+=4,u+=4,O(v,l+r.table[N],r.hlen[N]),n+=r.hlen[N]}return n}function c(v,s,r,o,n){var a=Ve.ht[s],u=0;if(p0(s<32),s==0)return u;for(var l=r;l<o;l+=2){var N=0,R=0,B=a.xlen,t=a.xlen,i=0,C=n.l3_enc[l],k=n.l3_enc[l+1];if(C!=0&&(n.xr[l]<0&&i++,N--),s>15){if(C>14){var s0=C-15;p0(s0<=a.linmax),i|=s0<<1,R=B,C=15}if(k>14){var _0=k-15;p0(_0<=a.linmax),i<<=B,i|=_0,R+=B,k=15}t=16}k!=0&&(i<<=1,n.xr[l+1]<0&&i++,N--),p0((C|k)<16),C=C*t+k,R-=N,N+=a.hlen[C],p0(N<=F),p0(R<=F),O(v,a.table[C],N),O(v,i,R),u+=N+R}return u}function d(v,s){var r=3*v.scalefac_band.s[3];r>s.big_values&&(r=s.big_values);var o=c(v,s.table_select[0],0,r,s);return o+=c(v,s.table_select[1],r,s.big_values,s),o}function e(v,s){var r,o,n,a;r=s.big_values,p0(0<=r&&r<=576);var u=s.region0_count+1;return p0(0<=u),p0(u<v.scalefac_band.l.length),n=v.scalefac_band.l[u],u+=s.region1_count+1,p0(0<=u),p0(u<v.scalefac_band.l.length),a=v.scalefac_band.l[u],n>r&&(n=r),a>r&&(a=r),o=c(v,s.table_select[0],0,n,s),o+=c(v,s.table_select[1],n,a,s),o+=c(v,s.table_select[2],a,r,s),o}function m(v){var s,r,o,n,a=0,u=v.internal_flags,l=u.l3_side;if(v.version==1)for(s=0;s<2;s++)for(r=0;r<u.channels_out;r++){var N=l.tt[s][r],R=da.slen1_tab[N.scalefac_compress],B=da.slen2_tab[N.scalefac_compress];for(n=0,o=0;o<N.sfbdivide;o++)N.scalefac[o]!=-1&&(O(u,N.scalefac[o],R),n+=R);for(;o<N.sfbmax;o++)N.scalefac[o]!=-1&&(O(u,N.scalefac[o],B),n+=B);p0(n==N.part2_length),N.block_type==ee.SHORT_TYPE?n+=d(u,N):n+=e(u,N),n+=_(u,N),p0(n==N.part2_3_length+N.part2_length),a+=n}else for(s=0,r=0;r<u.channels_out;r++){var N=l.tt[s][r],t,i,C=0;if(p0(N.sfb_partition_table!=null),n=0,o=0,i=0,N.block_type==ee.SHORT_TYPE){for(;i<4;i++){var k=N.sfb_partition_table[i]/3,s0=N.slen[i];for(t=0;t<k;t++,o++)O(u,Math.max(N.scalefac[o*3+0],0),s0),O(u,Math.max(N.scalefac[o*3+1],0),s0),O(u,Math.max(N.scalefac[o*3+2],0),s0),C+=3*s0}n+=d(u,N)}else{for(;i<4;i++){var k=N.sfb_partition_table[i],s0=N.slen[i];for(t=0;t<k;t++,o++)O(u,Math.max(N.scalefac[o],0),s0),C+=s0}n+=e(u,N)}n+=_(u,N),p0(n==N.part2_3_length),p0(C==N.part2_length),a+=C+n}return a}function h(){this.total=0}function x(v,s){var r=v.internal_flags,o,n,a,u,l;return l=r.w_ptr,u=r.h_ptr-1,u==-1&&(u=E2.MAX_HEADER_BUF-1),o=r.header[u].write_timing-W,s.total=o,o>=0&&(n=1+u-l,u<l&&(n=1+u-l+E2.MAX_HEADER_BUF),o-=n*8*r.sideinfo_len),a=b.getframebits(v),o+=a,s.total+=a,s.total%8!=0?s.total=1+s.total/8:s.total=s.total/8,s.total+=A+1,o<0&&e2.err.println(`strange error flushing buffer ... 
`),o}this.flush_bitstream=function(v){var s=v.internal_flags,r,o,n=s.h_ptr-1;if(n==-1&&(n=E2.MAX_HEADER_BUF-1),r=s.l3_side,!((o=x(v,new h))<0)){if(T(v,o),p0(s.header[n].write_timing+this.getframebits(v)==W),s.ResvSize=0,r.main_data_begin=0,s.findReplayGain){var a=P.GetTitleGain(s.rgdata);p0(NEQ(a,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),s.RadioGain=Math.floor(a*10+.5)|0}s.findPeakSample&&(s.noclipGainChange=Math.ceil(Math.log10(s.PeakSample/32767)*20*10)|0,s.noclipGainChange>0&&(EQ(v.scale,1)||EQ(v.scale,0))?s.noclipScale=Math.floor(32767/s.PeakSample*100)/100:s.noclipScale=-1)}},this.add_dummy_byte=function(v,s,r){for(var o=v.internal_flags,n;r-- >0;)for(V(o,s,8),n=0;n<E2.MAX_HEADER_BUF;++n)o.header[n].write_timing+=8},this.format_bitstream=function(v){var s=v.internal_flags,r;r=s.l3_side;var o=this.getframebits(v);T(v,r.resvDrain_pre),p(v,o);var n=8*s.sideinfo_len;if(n+=m(v),T(v,r.resvDrain_post),n+=r.resvDrain_post,r.main_data_begin+=(o-n)/8,x(v,new h)!=s.ResvSize&&e2.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),r.main_data_begin*8!=s.ResvSize&&(e2.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*r.main_data_begin,s.ResvSize,r.resvDrain_post,r.resvDrain_pre,8*s.sideinfo_len,n-r.resvDrain_post-8*s.sideinfo_len,n,n%8,o),e2.err.println("This is a fatal error.  It has several possible causes:"),e2.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),e2.err.println(" 9%%  Your system is overclocked"),e2.err.println(" 1%%  bug in LAME encoding library"),s.ResvSize=r.main_data_begin*8),p0(W%8==0),W>1e9){var a;for(a=0;a<E2.MAX_HEADER_BUF;++a)s.header[a].write_timing-=W;W=0}return 0},this.copy_buffer=function(v,s,r,o,n){var a=A+1;if(a<=0)return 0;if(o!=0&&a>o)return-1;if(e2.arraycopy(G,0,s,r,a),A=-1,$=0,n!=0){var u=Lr(1);if(u[0]=v.nMusicCRC,q.updateMusicCRC(u,s,r,a),v.nMusicCRC=u[0],a>0&&(v.VBR_seek_table.nBytesWritten+=a),v.decode_on_the_fly){for(var l=Cr([2,1152]),N=a,R=-1,B;R!=0;)if(R=Z.hip_decode1_unclipped(v.hip,s,r,N,l[0],l[1]),N=0,R==-1&&(R=0),R>0){if(p0(R<=1152),v.findPeakSample){for(B=0;B<R;B++)l[0][B]>v.PeakSample?v.PeakSample=l[0][B]:-l[0][B]>v.PeakSample&&(v.PeakSample=-l[0][B]);if(v.channels_out>1)for(B=0;B<R;B++)l[1][B]>v.PeakSample?v.PeakSample=l[1][B]:-l[1][B]>v.PeakSample&&(v.PeakSample=-l[1][B])}if(v.findReplayGain&&P.AnalyzeSamples(v.rgdata,l[0],0,l[1],0,R,v.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return a},this.init_bit_stream_w=function(v){G=Ir(Lame.LAME_MAXMP3BUFFER),v.h_ptr=v.w_ptr=0,v.header[v.h_ptr].write_timing=0,A=-1,$=0,W=0}}var Za=le,_1=G0,Vr=_1.System,N0=_1.VbrMode;_1.Float;var ke=_1.ShortBlock;_1.Util;_1.Arrays;_1.new_array_n;_1.new_byte;_1.new_double;var y2=_1.new_float;_1.new_float_n;_1.new_int;var ba=_1.new_int_n,kr=_1.new_short_n,$1=_1.assert,He=Yt,Hr=zt,Y2=fe,Nr=hr,Or=fr,Fr=pr,B2=Za,a2=Ye,U0=n1();function g0(){var b=this,H=128*1024;g0.V9=410,g0.V8=420,g0.V7=430,g0.V6=440,g0.V5=450,g0.V4=460,g0.V3=470,g0.V2=480,g0.V1=490,g0.V0=500,g0.R3MIX=1e3,g0.STANDARD=1001,g0.EXTREME=1002,g0.INSANE=1003,g0.STANDARD_FAST=1004,g0.EXTREME_FAST=1005,g0.MEDIUM=1006,g0.MEDIUM_FAST=1007;var F=16384+H;g0.LAME_MAXMP3BUFFER=F;var P,Z,Y,q,G,W=new He,A,$,S;this.enc=new U0,this.setModules=function(t,i,C,k,s0,_0,i0,l0,S0){P=t,Z=i,Y=C,q=k,G=s0,A=_0,$=l0,S=S0,this.enc.setModules(Z,W,q,A)};function O(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=y2(U0.SBMAX_l),this.bo_s_weight=y2(U0.SBMAX_s)}function V(){this.lowerlimit=0}function T(t,i){this.lowpass=i}var L=4294479419;function y(t){var i;return t.class_id=L,i=t.internal_flags=new Y2,t.mode=MPEGMode.NOT_SET,t.original=1,t.in_samplerate=44100,t.num_channels=2,t.num_samples=-1,t.bWriteVbrTag=!0,t.quality=-1,t.short_blocks=null,i.subblock_gain=-1,t.lowpassfreq=0,t.highpassfreq=0,t.lowpasswidth=-1,t.highpasswidth=-1,t.VBR=N0.vbr_off,t.VBR_q=4,t.ATHcurve=-1,t.VBR_mean_bitrate_kbps=128,t.VBR_min_bitrate_kbps=0,t.VBR_max_bitrate_kbps=0,t.VBR_hard_min=0,i.VBR_min_bitrate=1,i.VBR_max_bitrate=13,t.quant_comp=-1,t.quant_comp_short=-1,t.msfix=-1,i.resample_ratio=1,i.OldValue[0]=180,i.OldValue[1]=180,i.CurrentStep[0]=4,i.CurrentStep[1]=4,i.masking_lower=1,i.nsPsy.attackthre=-1,i.nsPsy.attackthre_s=-1,t.scale=-1,t.athaa_type=-1,t.ATHtype=-1,t.athaa_loudapprox=-1,t.athaa_sensitivity=0,t.useTemporal=null,t.interChRatio=-1,i.mf_samples_to_encode=U0.ENCDELAY+U0.POSTDELAY,t.encoder_padding=0,i.mf_size=U0.ENCDELAY-U0.MDCTDELAY,t.findReplayGain=!1,t.decode_on_the_fly=!1,i.decode_on_the_fly=!1,i.findReplayGain=!1,i.findPeakSample=!1,i.RadioGain=0,i.AudiophileGain=0,i.noclipGainChange=0,i.noclipScale=-1,t.preset=0,t.write_id3tag_automatic=!0,0}this.lame_init=function(){var t=new Hr;return y(t),t.lame_allocated_gfp=1,t};function p(t){return t>1?0:t<=0?1:Math.cos(Math.PI/2*t)}this.nearestBitrateFullIndex=function(t){var i=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],C=0,k=0,s0=0,_0=0;_0=i[16],s0=16,k=i[16],C=16;for(var i0=0;i0<16;i0++)if(Math.max(t,i[i0+1])!=t){_0=i[i0+1],s0=i0+1,k=i[i0],C=i0;break}return _0-t>t-k?C:s0};function _(t,i){var C=44100;return i>=48e3?C=48e3:i>=44100?C=44100:i>=32e3?C=32e3:i>=24e3?C=24e3:i>=22050?C=22050:i>=16e3?C=16e3:i>=12e3?C=12e3:i>=11025?C=11025:i>=8e3&&(C=8e3),t==-1?C:(t<=15960&&(C=44100),t<=15250&&(C=32e3),t<=11220&&(C=24e3),t<=9970&&(C=22050),t<=7230&&(C=16e3),t<=5420&&(C=12e3),t<=4510&&(C=11025),t<=3970&&(C=8e3),i<C?i>44100?48e3:i>32e3?44100:i>24e3?32e3:i>22050?24e3:i>16e3?22050:i>12e3?16e3:i>11025?12e3:i>8e3?11025:8e3:C)}function c(t,i){switch(t){case 44100:return i.version=1,0;case 48e3:return i.version=1,1;case 32e3:return i.version=1,2;case 22050:return i.version=0,0;case 24e3:return i.version=0,1;case 16e3:return i.version=0,2;case 11025:return i.version=0,0;case 12e3:return i.version=0,1;case 8e3:return i.version=0,2;default:return i.version=0,-1}}function d(t,i,C){C<16e3&&(i=2);for(var k=a2.bitrate_table[i][1],s0=2;s0<=14;s0++)a2.bitrate_table[i][s0]>0&&Math.abs(a2.bitrate_table[i][s0]-t)<Math.abs(k-t)&&(k=a2.bitrate_table[i][s0]);return k}function e(t,i,C){C<16e3&&(i=2);for(var k=0;k<=14;k++)if(a2.bitrate_table[i][k]>0&&a2.bitrate_table[i][k]==t)return k;return-1}function m(t,i){var C=[new T(8,2e3),new T(16,3700),new T(24,3900),new T(32,5500),new T(40,7e3),new T(48,7500),new T(56,1e4),new T(64,11e3),new T(80,13500),new T(96,15100),new T(112,15600),new T(128,17e3),new T(160,17500),new T(192,18600),new T(224,19400),new T(256,19700),new T(320,20500)],k=b.nearestBitrateFullIndex(i);t.lowerlimit=C[k].lowpass}function h(t){var i=t.internal_flags,C=32,k=-1;if(i.lowpass1>0){for(var s0=999,_0=0;_0<=31;_0++){var i0=_0/31;i0>=i.lowpass2&&(C=Math.min(C,_0)),i.lowpass1<i0&&i0<i.lowpass2&&(s0=Math.min(s0,_0))}s0==999?i.lowpass1=(C-.75)/31:i.lowpass1=(s0-.75)/31,i.lowpass2=C/31}if(i.highpass2>0&&i.highpass2<.9*(.75/31)&&(i.highpass1=0,i.highpass2=0,Vr.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),i.highpass2>0){for(var l0=-1,_0=0;_0<=31;_0++){var i0=_0/31;i0<=i.highpass1&&(k=Math.max(k,_0)),i.highpass1<i0&&i0<i.highpass2&&(l0=Math.max(l0,_0))}i.highpass1=k/31,l0==-1?i.highpass2=(k+.75)/31:i.highpass2=(l0+.75)/31}for(var _0=0;_0<32;_0++){var S0,c0,i0=_0/31;i.highpass2>i.highpass1?S0=p((i.highpass2-i0)/(i.highpass2-i.highpass1+1e-20)):S0=1,i.lowpass2>i.lowpass1?c0=p((i0-i.lowpass1)/(i.lowpass2-i.lowpass1+1e-20)):c0=1,i.amp_filter[_0]=S0*c0}}function x(t){var i=t.internal_flags;switch(t.quality){default:case 9:i.psymodel=0,i.noise_shaping=0,i.noise_shaping_amp=0,i.noise_shaping_stop=0,i.use_best_huffman=0,i.full_outer_loop=0;break;case 8:t.quality=7;case 7:i.psymodel=1,i.noise_shaping=0,i.noise_shaping_amp=0,i.noise_shaping_stop=0,i.use_best_huffman=0,i.full_outer_loop=0;break;case 6:i.psymodel=1,i.noise_shaping==0&&(i.noise_shaping=1),i.noise_shaping_amp=0,i.noise_shaping_stop=0,i.subblock_gain==-1&&(i.subblock_gain=1),i.use_best_huffman=0,i.full_outer_loop=0;break;case 5:i.psymodel=1,i.noise_shaping==0&&(i.noise_shaping=1),i.noise_shaping_amp=0,i.noise_shaping_stop=0,i.subblock_gain==-1&&(i.subblock_gain=1),i.use_best_huffman=0,i.full_outer_loop=0;break;case 4:i.psymodel=1,i.noise_shaping==0&&(i.noise_shaping=1),i.noise_shaping_amp=0,i.noise_shaping_stop=0,i.subblock_gain==-1&&(i.subblock_gain=1),i.use_best_huffman=1,i.full_outer_loop=0;break;case 3:i.psymodel=1,i.noise_shaping==0&&(i.noise_shaping=1),i.noise_shaping_amp=1,i.noise_shaping_stop=1,i.subblock_gain==-1&&(i.subblock_gain=1),i.use_best_huffman=1,i.full_outer_loop=0;break;case 2:i.psymodel=1,i.noise_shaping==0&&(i.noise_shaping=1),i.substep_shaping==0&&(i.substep_shaping=2),i.noise_shaping_amp=1,i.noise_shaping_stop=1,i.subblock_gain==-1&&(i.subblock_gain=1),i.use_best_huffman=1,i.full_outer_loop=0;break;case 1:i.psymodel=1,i.noise_shaping==0&&(i.noise_shaping=1),i.substep_shaping==0&&(i.substep_shaping=2),i.noise_shaping_amp=2,i.noise_shaping_stop=1,i.subblock_gain==-1&&(i.subblock_gain=1),i.use_best_huffman=1,i.full_outer_loop=0;break;case 0:i.psymodel=1,i.noise_shaping==0&&(i.noise_shaping=1),i.substep_shaping==0&&(i.substep_shaping=2),i.noise_shaping_amp=2,i.noise_shaping_stop=1,i.subblock_gain==-1&&(i.subblock_gain=1),i.use_best_huffman=1,i.full_outer_loop=0;break}}function v(t){var i=t.internal_flags;t.frameNum=0,t.write_id3tag_automatic&&$.id3tag_write_v2(t),i.bitrate_stereoMode_Hist=ba([16,5]),i.bitrate_blockType_Hist=ba([16,6]),i.PeakSample=0,t.bWriteVbrTag&&A.InitVbrTag(t)}this.lame_init_params=function(t){var i=t.internal_flags;if(i.Class_ID=0,i.ATH==null&&(i.ATH=new Nr),i.PSY==null&&(i.PSY=new O),i.rgdata==null&&(i.rgdata=new Or),i.channels_in=t.num_channels,i.channels_in==1&&(t.mode=MPEGMode.MONO),i.channels_out=t.mode==MPEGMode.MONO?1:2,i.mode_ext=U0.MPG_MD_MS_LR,t.mode==MPEGMode.MONO&&(t.force_ms=!1),t.VBR==N0.vbr_off&&t.VBR_mean_bitrate_kbps!=128&&t.brate==0&&(t.brate=t.VBR_mean_bitrate_kbps),t.VBR==N0.vbr_off||t.VBR==N0.vbr_mtrh||t.VBR==N0.vbr_mt||(t.free_format=!1),t.VBR==N0.vbr_off&&t.brate==0&&B2.EQ(t.compression_ratio,0)&&(t.compression_ratio=11.025),t.VBR==N0.vbr_off&&t.compression_ratio>0&&(t.out_samplerate==0&&(t.out_samplerate=map2MP3Frequency(int(.97*t.in_samplerate))),t.brate=0|t.out_samplerate*16*i.channels_out/(1e3*t.compression_ratio),i.samplerate_index=c(t.out_samplerate,t),t.free_format||(t.brate=d(t.brate,t.version,t.out_samplerate))),t.out_samplerate!=0&&(t.out_samplerate<16e3?(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,64)):t.out_samplerate<32e3?(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,160)):(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,32),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,320))),t.lowpassfreq==0){var C=16e3;switch(t.VBR){case N0.vbr_off:{var k=new V;m(k,t.brate),C=k.lowerlimit;break}case N0.vbr_abr:{var k=new V;m(k,t.VBR_mean_bitrate_kbps),C=k.lowerlimit;break}case N0.vbr_rh:{var s0=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=t.VBR_q&&t.VBR_q<=9){var _0=s0[t.VBR_q],i0=s0[t.VBR_q+1],l0=t.VBR_q_frac;C=linear_int(_0,i0,l0)}else C=19500;break}default:{var s0=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=t.VBR_q&&t.VBR_q<=9){var _0=s0[t.VBR_q],i0=s0[t.VBR_q+1],l0=t.VBR_q_frac;C=linear_int(_0,i0,l0)}else C=19500}}t.mode==MPEGMode.MONO&&(t.VBR==N0.vbr_off||t.VBR==N0.vbr_abr)&&(C*=1.5),t.lowpassfreq=C|0}if(t.out_samplerate==0&&(2*t.lowpassfreq>t.in_samplerate&&(t.lowpassfreq=t.in_samplerate/2),t.out_samplerate=_(t.lowpassfreq|0,t.in_samplerate)),t.lowpassfreq=Math.min(20500,t.lowpassfreq),t.lowpassfreq=Math.min(t.out_samplerate/2,t.lowpassfreq),t.VBR==N0.vbr_off&&(t.compression_ratio=t.out_samplerate*16*i.channels_out/(1e3*t.brate)),t.VBR==N0.vbr_abr&&(t.compression_ratio=t.out_samplerate*16*i.channels_out/(1e3*t.VBR_mean_bitrate_kbps)),t.bWriteVbrTag||(t.findReplayGain=!1,t.decode_on_the_fly=!1,i.findPeakSample=!1),i.findReplayGain=t.findReplayGain,i.decode_on_the_fly=t.decode_on_the_fly,i.decode_on_the_fly&&(i.findPeakSample=!0),i.findReplayGain&&P.InitGainAnalysis(i.rgdata,t.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return t.internal_flags=null,-6;switch(i.decode_on_the_fly&&!t.decode_only&&(i.hip!=null&&S.hip_decode_exit(i.hip),i.hip=S.hip_decode_init()),i.mode_gr=t.out_samplerate<=24e3?1:2,t.framesize=576*i.mode_gr,t.encoder_delay=U0.ENCDELAY,i.resample_ratio=t.in_samplerate/t.out_samplerate,t.VBR){case N0.vbr_mt:case N0.vbr_rh:case N0.vbr_mtrh:{var S0=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];t.compression_ratio=S0[t.VBR_q]}break;case N0.vbr_abr:t.compression_ratio=t.out_samplerate*16*i.channels_out/(1e3*t.VBR_mean_bitrate_kbps);break;default:t.compression_ratio=t.out_samplerate*16*i.channels_out/(1e3*t.brate);break}if(t.mode==MPEGMode.NOT_SET&&(t.mode=MPEGMode.JOINT_STEREO),t.highpassfreq>0?(i.highpass1=2*t.highpassfreq,t.highpasswidth>=0?i.highpass2=2*(t.highpassfreq+t.highpasswidth):i.highpass2=1*2*t.highpassfreq,i.highpass1/=t.out_samplerate,i.highpass2/=t.out_samplerate):(i.highpass1=0,i.highpass2=0),t.lowpassfreq>0?(i.lowpass2=2*t.lowpassfreq,t.lowpasswidth>=0?(i.lowpass1=2*(t.lowpassfreq-t.lowpasswidth),i.lowpass1<0&&(i.lowpass1=0)):i.lowpass1=1*2*t.lowpassfreq,i.lowpass1/=t.out_samplerate,i.lowpass2/=t.out_samplerate):(i.lowpass1=0,i.lowpass2=0),h(t),i.samplerate_index=c(t.out_samplerate,t),i.samplerate_index<0)return t.internal_flags=null,-1;if(t.VBR==N0.vbr_off){if(t.free_format)i.bitrate_index=0;else if(t.brate=d(t.brate,t.version,t.out_samplerate),i.bitrate_index=e(t.brate,t.version,t.out_samplerate),i.bitrate_index<=0)return t.internal_flags=null,-1}else i.bitrate_index=1;t.analysis&&(t.bWriteVbrTag=!1),i.pinfo!=null&&(t.bWriteVbrTag=!1),Z.init_bit_stream_w(i);for(var c0=i.samplerate_index+3*t.version+6*(t.out_samplerate<16e3?1:0),n0=0;n0<U0.SBMAX_l+1;n0++)i.scalefac_band.l[n0]=q.sfBandIndex[c0].l[n0];for(var n0=0;n0<U0.PSFB21+1;n0++){var B0=(i.scalefac_band.l[22]-i.scalefac_band.l[21])/U0.PSFB21,Y0=i.scalefac_band.l[21]+n0*B0;i.scalefac_band.psfb21[n0]=Y0}i.scalefac_band.psfb21[U0.PSFB21]=576;for(var n0=0;n0<U0.SBMAX_s+1;n0++)i.scalefac_band.s[n0]=q.sfBandIndex[c0].s[n0];for(var n0=0;n0<U0.PSFB12+1;n0++){var B0=(i.scalefac_band.s[13]-i.scalefac_band.s[12])/U0.PSFB12,Y0=i.scalefac_band.s[12]+n0*B0;i.scalefac_band.psfb12[n0]=Y0}i.scalefac_band.psfb12[U0.PSFB12]=192,t.version==1?i.sideinfo_len=i.channels_out==1?21:36:i.sideinfo_len=i.channels_out==1?13:21,t.error_protection&&(i.sideinfo_len+=2),v(t),i.Class_ID=L;{var x0;for(x0=0;x0<19;x0++)i.nsPsy.pefirbuf[x0]=700*i.mode_gr*i.channels_out;t.ATHtype==-1&&(t.ATHtype=4)}switch($1(t.VBR_q<=9),$1(t.VBR_q>=0),t.VBR){case N0.vbr_mt:t.VBR=N0.vbr_mtrh;case N0.vbr_mtrh:{t.useTemporal==null&&(t.useTemporal=!1),Y.apply_preset(t,500-t.VBR_q*10,0),t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),t.quality<5&&(t.quality=0),t.quality>5&&(t.quality=5),i.PSY.mask_adjust=t.maskingadjust,i.PSY.mask_adjust_short=t.maskingadjust_short,t.experimentalY?i.sfb21_extra=!1:i.sfb21_extra=t.out_samplerate>44e3,i.iteration_loop=new VBRNewIterationLoop(G);break}case N0.vbr_rh:{Y.apply_preset(t,500-t.VBR_q*10,0),i.PSY.mask_adjust=t.maskingadjust,i.PSY.mask_adjust_short=t.maskingadjust_short,t.experimentalY?i.sfb21_extra=!1:i.sfb21_extra=t.out_samplerate>44e3,t.quality>6&&(t.quality=6),t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),i.iteration_loop=new VBROldIterationLoop(G);break}default:{var C0;i.sfb21_extra=!1,t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),C0=t.VBR,C0==N0.vbr_off&&(t.VBR_mean_bitrate_kbps=t.brate),Y.apply_preset(t,t.VBR_mean_bitrate_kbps,0),t.VBR=C0,i.PSY.mask_adjust=t.maskingadjust,i.PSY.mask_adjust_short=t.maskingadjust_short,C0==N0.vbr_off?i.iteration_loop=new Fr(G):i.iteration_loop=new ABRIterationLoop(G);break}}if($1(t.scale>=0),t.VBR!=N0.vbr_off){if(i.VBR_min_bitrate=1,i.VBR_max_bitrate=14,t.out_samplerate<16e3&&(i.VBR_max_bitrate=8),t.VBR_min_bitrate_kbps!=0&&(t.VBR_min_bitrate_kbps=d(t.VBR_min_bitrate_kbps,t.version,t.out_samplerate),i.VBR_min_bitrate=e(t.VBR_min_bitrate_kbps,t.version,t.out_samplerate),i.VBR_min_bitrate<0)||t.VBR_max_bitrate_kbps!=0&&(t.VBR_max_bitrate_kbps=d(t.VBR_max_bitrate_kbps,t.version,t.out_samplerate),i.VBR_max_bitrate=e(t.VBR_max_bitrate_kbps,t.version,t.out_samplerate),i.VBR_max_bitrate<0))return-1;t.VBR_min_bitrate_kbps=a2.bitrate_table[t.version][i.VBR_min_bitrate],t.VBR_max_bitrate_kbps=a2.bitrate_table[t.version][i.VBR_max_bitrate],t.VBR_mean_bitrate_kbps=Math.min(a2.bitrate_table[t.version][i.VBR_max_bitrate],t.VBR_mean_bitrate_kbps),t.VBR_mean_bitrate_kbps=Math.max(a2.bitrate_table[t.version][i.VBR_min_bitrate],t.VBR_mean_bitrate_kbps)}return t.tune&&(i.PSY.mask_adjust+=t.tune_value_a,i.PSY.mask_adjust_short+=t.tune_value_a),x(t),$1(t.scale>=0),t.athaa_type<0?i.ATH.useAdjust=3:i.ATH.useAdjust=t.athaa_type,i.ATH.aaSensitivityP=Math.pow(10,t.athaa_sensitivity/-10),t.short_blocks==null&&(t.short_blocks=ke.short_block_allowed),t.short_blocks==ke.short_block_allowed&&(t.mode==MPEGMode.JOINT_STEREO||t.mode==MPEGMode.STEREO)&&(t.short_blocks=ke.short_block_coupled),t.quant_comp<0&&(t.quant_comp=1),t.quant_comp_short<0&&(t.quant_comp_short=0),t.msfix<0&&(t.msfix=0),t.exp_nspsytune=t.exp_nspsytune|1,t.internal_flags.nsPsy.attackthre<0&&(t.internal_flags.nsPsy.attackthre=He.NSATTACKTHRE),t.internal_flags.nsPsy.attackthre_s<0&&(t.internal_flags.nsPsy.attackthre_s=He.NSATTACKTHRE_S),$1(t.scale>=0),t.scale<0&&(t.scale=1),t.ATHtype<0&&(t.ATHtype=4),t.ATHcurve<0&&(t.ATHcurve=4),t.athaa_loudapprox<0&&(t.athaa_loudapprox=2),t.interChRatio<0&&(t.interChRatio=0),t.useTemporal==null&&(t.useTemporal=!0),i.slot_lag=i.frac_SpF=0,t.VBR==N0.vbr_off&&(i.slot_lag=i.frac_SpF=(t.version+1)*72e3*t.brate%t.out_samplerate|0),q.iteration_init(t),W.psymodel_init(t),$1(t.scale>=0),0};function s(t,i){(t.in_buffer_0==null||t.in_buffer_nsamples<i)&&(t.in_buffer_0=y2(i),t.in_buffer_1=y2(i),t.in_buffer_nsamples=i)}this.lame_encode_flush=function(t,i,C,k){var s0=t.internal_flags,_0=kr([2,1152]),i0=0,l0,S0,c0,n0,B0=s0.mf_samples_to_encode-U0.POSTDELAY,Y0=r(t);if(s0.mf_samples_to_encode<1)return 0;for(l0=0,t.in_samplerate!=t.out_samplerate&&(B0+=16*t.out_samplerate/t.in_samplerate),c0=t.framesize-B0%t.framesize,c0<576&&(c0+=t.framesize),t.encoder_padding=c0,n0=(B0+c0)/t.framesize;n0>0&&i0>=0;){var x0=Y0-s0.mf_size,C0=t.frameNum;x0*=t.in_samplerate,x0/=t.out_samplerate,x0>1152&&(x0=1152),x0<1&&(x0=1),S0=k-l0,k==0&&(S0=0),i0=this.lame_encode_buffer(t,_0[0],_0[1],x0,i,C,S0),C+=i0,l0+=i0,n0-=C0!=t.frameNum?1:0}if(s0.mf_samples_to_encode=0,i0<0||(S0=k-l0,k==0&&(S0=0),Z.flush_bitstream(t),i0=Z.copy_buffer(s0,i,C,S0,1),i0<0))return i0;if(C+=i0,l0+=i0,S0=k-l0,k==0&&(S0=0),t.write_id3tag_automatic){if($.id3tag_write_v1(t),i0=Z.copy_buffer(s0,i,C,S0,0),i0<0)return i0;l0+=i0}return l0},this.lame_encode_buffer=function(t,i,C,k,s0,_0,i0){var l0=t.internal_flags,S0=[null,null];if(l0.Class_ID!=L)return-3;if(k==0)return 0;s(l0,k),S0[0]=l0.in_buffer_0,S0[1]=l0.in_buffer_1;for(var c0=0;c0<k;c0++)S0[0][c0]=i[c0],l0.channels_in>1&&(S0[1][c0]=C[c0]);return o(t,S0[0],S0[1],k,s0,_0,i0)};function r(t){var i=U0.BLKSIZE+t.framesize-U0.FFTOFFSET;return i=Math.max(i,512+t.framesize-32),$1(Y2.MFSIZE>=i),i}function o(t,i,C,k,s0,_0,i0){var l0=t.internal_flags,S0=0,c0,n0,B0,Y0,x0,C0=[null,null],I0=[null,null];if(l0.Class_ID!=L)return-3;if(k==0)return 0;if(x0=Z.copy_buffer(l0,s0,_0,i0,0),x0<0)return x0;if(_0+=x0,S0+=x0,I0[0]=i,I0[1]=C,B2.NEQ(t.scale,0)&&B2.NEQ(t.scale,1))for(n0=0;n0<k;++n0)I0[0][n0]*=t.scale,l0.channels_out==2&&(I0[1][n0]*=t.scale);if(B2.NEQ(t.scale_left,0)&&B2.NEQ(t.scale_left,1))for(n0=0;n0<k;++n0)I0[0][n0]*=t.scale_left;if(B2.NEQ(t.scale_right,0)&&B2.NEQ(t.scale_right,1))for(n0=0;n0<k;++n0)I0[1][n0]*=t.scale_right;if(t.num_channels==2&&l0.channels_out==1)for(n0=0;n0<k;++n0)I0[0][n0]=.5*(I0[0][n0]+I0[1][n0]),I0[1][n0]=0;Y0=r(t),C0[0]=l0.mfbuf[0],C0[1]=l0.mfbuf[1];for(var z0=0;k>0;){var e1=[null,null],J1=0,k1=0;e1[0]=I0[0],e1[1]=I0[1];var o1=new a;if(B(t,C0,e1,z0,k,o1),J1=o1.n_in,k1=o1.n_out,l0.findReplayGain&&!l0.decode_on_the_fly&&P.AnalyzeSamples(l0.rgdata,C0[0],l0.mf_size,C0[1],l0.mf_size,k1,l0.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(k-=J1,z0+=J1,l0.channels_out==2,l0.mf_size+=k1,$1(l0.mf_size<=Y2.MFSIZE),l0.mf_samples_to_encode<1&&(l0.mf_samples_to_encode=U0.ENCDELAY+U0.POSTDELAY),l0.mf_samples_to_encode+=k1,l0.mf_size>=Y0){var z1=i0-S0;if(i0==0&&(z1=0),c0=n(t,C0[0],C0[1],s0,_0,z1),c0<0)return c0;for(_0+=c0,S0+=c0,l0.mf_size-=t.framesize,l0.mf_samples_to_encode-=t.framesize,B0=0;B0<l0.channels_out;B0++)for(n0=0;n0<l0.mf_size;n0++)C0[B0][n0]=C0[B0][n0+t.framesize]}}return $1(k==0),S0}function n(t,i,C,k,s0,_0){var i0=b.enc.lame_encode_mp3_frame(t,i,C,k,s0,_0);return t.frameNum++,i0}function a(){this.n_in=0,this.n_out=0}function u(){this.num_used=0}function l(t,i){return i!=0?l(i,t%i):t}function N(t,i,C){var k=Math.PI*i;t/=C,t<0&&(t=0),t>1&&(t=1);var s0=t-.5,_0=.42-.5*Math.cos(2*t*Math.PI)+.08*Math.cos(4*t*Math.PI);return Math.abs(s0)<1e-9?k/Math.PI:_0*Math.sin(C*k*s0)/(Math.PI*C*s0)}function R(t,i,C,k,s0,_0,i0,l0,S0){var c0=t.internal_flags,n0,B0=0,Y0,x0=t.out_samplerate/l(t.out_samplerate,t.in_samplerate);x0>Y2.BPC&&(x0=Y2.BPC);var C0=Math.abs(c0.resample_ratio-Math.floor(.5+c0.resample_ratio))<1e-4?1:0,I0=1/c0.resample_ratio;I0>1&&(I0=1);var z0=31;z0%2==0&&--z0,z0+=C0;var e1=z0+1;if(c0.fill_buffer_resample_init==0){for(c0.inbuf_old[0]=y2(e1),c0.inbuf_old[1]=y2(e1),n0=0;n0<=2*x0;++n0)c0.blackfilt[n0]=y2(e1);for(c0.itime[0]=0,c0.itime[1]=0,B0=0;B0<=2*x0;B0++){var J1=0,k1=(B0-x0)/(2*x0);for(n0=0;n0<=z0;n0++)J1+=c0.blackfilt[B0][n0]=N(n0-k1,I0,z0);for(n0=0;n0<=z0;n0++)c0.blackfilt[B0][n0]/=J1}c0.fill_buffer_resample_init=1}var o1=c0.inbuf_old[S0];for(Y0=0;Y0<k;Y0++){var z1,h2;if(z1=Y0*c0.resample_ratio,B0=0|Math.floor(z1-c0.itime[S0]),z0+B0-z0/2>=i0)break;var k1=z1-c0.itime[S0]-(B0+.5*(z0%2));$1(Math.abs(k1)<=.501),h2=0|Math.floor(k1*2*x0+x0+.5);var o2=0;for(n0=0;n0<=z0;++n0){var i1=0|n0+B0-z0/2,m2;$1(i1<i0),$1(i1+e1>=0),m2=i1<0?o1[e1+i1]:s0[_0+i1],o2+=m2*c0.blackfilt[h2][n0]}i[C+Y0]=o2}if(l0.num_used=Math.min(i0,z0+B0-z0/2),c0.itime[S0]+=l0.num_used-Y0*c0.resample_ratio,l0.num_used>=e1)for(n0=0;n0<e1;n0++)o1[n0]=s0[_0+l0.num_used+n0-e1];else{var s2=e1-l0.num_used;for(n0=0;n0<s2;++n0)o1[n0]=o1[n0+l0.num_used];for(B0=0;n0<e1;++n0,++B0)o1[n0]=s0[_0+B0];$1(B0==l0.num_used)}return Y0}function B(t,i,C,k,s0,_0){var i0=t.internal_flags;if(i0.resample_ratio<.9999||i0.resample_ratio>1.0001)for(var l0=0;l0<i0.channels_out;l0++){var S0=new u;_0.n_out=R(t,i[l0],i0.mf_size,t.framesize,C[l0],k,s0,S0,l0),_0.n_in=S0.num_used}else{_0.n_out=Math.min(t.framesize,s0),_0.n_in=_0.n_out;for(var c0=0;c0<_0.n_out;++c0)i[0][i0.mf_size+c0]=C[0][k+c0],i0.channels_out==2&&(i[1][i0.mf_size+c0]=C[1][k+c0])}}}var $r=g0,I1=G0;I1.System;var t2=I1.VbrMode;I1.Float;I1.ShortBlock;I1.Util;I1.Arrays;I1.new_array_n;I1.new_byte;I1.new_double;I1.new_float;I1.new_float_n;I1.new_int;I1.new_int_n;I1.assert;function Dr(){function b(A,$,S,O,V,T,L,y,p,_,c,d,e,m,h){this.vbr_q=A,this.quant_comp=$,this.quant_comp_s=S,this.expY=O,this.st_lrm=V,this.st_s=T,this.masking_adj=L,this.masking_adj_short=y,this.ath_lower=p,this.ath_curve=_,this.ath_sensitivity=c,this.interch=d,this.safejoint=e,this.sfb21mod=m,this.msfix=h}function H(A,$,S,O,V,T,L,y,p,_,c,d,e,m){this.quant_comp=$,this.quant_comp_s=S,this.safejoint=O,this.nsmsfix=V,this.st_lrm=T,this.st_s=L,this.nsbass=y,this.scale=p,this.masking_adj=_,this.ath_lower=c,this.ath_curve=d,this.interch=e,this.sfscale=m}var F;this.setModules=function(A){F=A};var P=[new b(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new b(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new b(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new b(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new b(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new b(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new b(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new b(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new b(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new b(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new b(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],Z=[new b(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new b(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new b(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new b(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new b(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new b(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new b(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new b(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new b(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new b(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new b(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function Y(A,$,S){var O=A.VBR==t2.vbr_rh?P:Z,V=A.VBR_q_frac,T=O[$],L=O[$+1],y=T;T.st_lrm=T.st_lrm+V*(L.st_lrm-T.st_lrm),T.st_s=T.st_s+V*(L.st_s-T.st_s),T.masking_adj=T.masking_adj+V*(L.masking_adj-T.masking_adj),T.masking_adj_short=T.masking_adj_short+V*(L.masking_adj_short-T.masking_adj_short),T.ath_lower=T.ath_lower+V*(L.ath_lower-T.ath_lower),T.ath_curve=T.ath_curve+V*(L.ath_curve-T.ath_curve),T.ath_sensitivity=T.ath_sensitivity+V*(L.ath_sensitivity-T.ath_sensitivity),T.interch=T.interch+V*(L.interch-T.interch),T.msfix=T.msfix+V*(L.msfix-T.msfix),W(A,y.vbr_q),S!=0?A.quant_comp=y.quant_comp:Math.abs(A.quant_comp- -1)>0||(A.quant_comp=y.quant_comp),S!=0?A.quant_comp_short=y.quant_comp_s:Math.abs(A.quant_comp_short- -1)>0||(A.quant_comp_short=y.quant_comp_s),y.expY!=0&&(A.experimentalY=y.expY!=0),S!=0?A.internal_flags.nsPsy.attackthre=y.st_lrm:Math.abs(A.internal_flags.nsPsy.attackthre- -1)>0||(A.internal_flags.nsPsy.attackthre=y.st_lrm),S!=0?A.internal_flags.nsPsy.attackthre_s=y.st_s:Math.abs(A.internal_flags.nsPsy.attackthre_s- -1)>0||(A.internal_flags.nsPsy.attackthre_s=y.st_s),S!=0?A.maskingadjust=y.masking_adj:Math.abs(A.maskingadjust-0)>0||(A.maskingadjust=y.masking_adj),S!=0?A.maskingadjust_short=y.masking_adj_short:Math.abs(A.maskingadjust_short-0)>0||(A.maskingadjust_short=y.masking_adj_short),S!=0?A.ATHlower=-y.ath_lower/10:Math.abs(-A.ATHlower*10-0)>0||(A.ATHlower=-y.ath_lower/10),S!=0?A.ATHcurve=y.ath_curve:Math.abs(A.ATHcurve- -1)>0||(A.ATHcurve=y.ath_curve),S!=0?A.athaa_sensitivity=y.ath_sensitivity:Math.abs(A.athaa_sensitivity- -1)>0||(A.athaa_sensitivity=y.ath_sensitivity),y.interch>0&&(S!=0?A.interChRatio=y.interch:Math.abs(A.interChRatio- -1)>0||(A.interChRatio=y.interch)),y.safejoint>0&&(A.exp_nspsytune=A.exp_nspsytune|y.safejoint),y.sfb21mod>0&&(A.exp_nspsytune=A.exp_nspsytune|y.sfb21mod<<20),S!=0?A.msfix=y.msfix:Math.abs(A.msfix- -1)>0||(A.msfix=y.msfix),S==0&&(A.VBR_q=$,A.VBR_q_frac=V)}var q=[new H(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new H(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new H(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new H(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new H(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new H(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new H(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new H(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new H(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new H(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new H(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new H(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new H(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new H(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new H(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new H(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new H(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function G(A,$,S){var O=$,V=F.nearestBitrateFullIndex($);if(A.VBR=t2.vbr_abr,A.VBR_mean_bitrate_kbps=O,A.VBR_mean_bitrate_kbps=Math.min(A.VBR_mean_bitrate_kbps,320),A.VBR_mean_bitrate_kbps=Math.max(A.VBR_mean_bitrate_kbps,8),A.brate=A.VBR_mean_bitrate_kbps,A.VBR_mean_bitrate_kbps>320&&(A.disable_reservoir=!0),q[V].safejoint>0&&(A.exp_nspsytune=A.exp_nspsytune|2),q[V].sfscale>0&&(A.internal_flags.noise_shaping=2),Math.abs(q[V].nsbass)>0){var T=int(q[V].nsbass*4);T<0&&(T+=64),A.exp_nspsytune=A.exp_nspsytune|T<<2}return S!=0?A.quant_comp=q[V].quant_comp:Math.abs(A.quant_comp- -1)>0||(A.quant_comp=q[V].quant_comp),S!=0?A.quant_comp_short=q[V].quant_comp_s:Math.abs(A.quant_comp_short- -1)>0||(A.quant_comp_short=q[V].quant_comp_s),S!=0?A.msfix=q[V].nsmsfix:Math.abs(A.msfix- -1)>0||(A.msfix=q[V].nsmsfix),S!=0?A.internal_flags.nsPsy.attackthre=q[V].st_lrm:Math.abs(A.internal_flags.nsPsy.attackthre- -1)>0||(A.internal_flags.nsPsy.attackthre=q[V].st_lrm),S!=0?A.internal_flags.nsPsy.attackthre_s=q[V].st_s:Math.abs(A.internal_flags.nsPsy.attackthre_s- -1)>0||(A.internal_flags.nsPsy.attackthre_s=q[V].st_s),S!=0?A.scale=q[V].scale:Math.abs(A.scale- -1)>0||(A.scale=q[V].scale),S!=0?A.maskingadjust=q[V].masking_adj:Math.abs(A.maskingadjust-0)>0||(A.maskingadjust=q[V].masking_adj),q[V].masking_adj>0?S!=0?A.maskingadjust_short=q[V].masking_adj*.9:Math.abs(A.maskingadjust_short-0)>0||(A.maskingadjust_short=q[V].masking_adj*.9):S!=0?A.maskingadjust_short=q[V].masking_adj*1.1:Math.abs(A.maskingadjust_short-0)>0||(A.maskingadjust_short=q[V].masking_adj*1.1),S!=0?A.ATHlower=-q[V].ath_lower/10:Math.abs(-A.ATHlower*10-0)>0||(A.ATHlower=-q[V].ath_lower/10),S!=0?A.ATHcurve=q[V].ath_curve:Math.abs(A.ATHcurve- -1)>0||(A.ATHcurve=q[V].ath_curve),S!=0?A.interChRatio=q[V].interch:Math.abs(A.interChRatio- -1)>0||(A.interChRatio=q[V].interch),$}this.apply_preset=function(A,$,S){switch($){case Lame.R3MIX:{$=Lame.V3,A.VBR=t2.vbr_mtrh;break}case Lame.MEDIUM:{$=Lame.V4,A.VBR=t2.vbr_rh;break}case Lame.MEDIUM_FAST:{$=Lame.V4,A.VBR=t2.vbr_mtrh;break}case Lame.STANDARD:{$=Lame.V2,A.VBR=t2.vbr_rh;break}case Lame.STANDARD_FAST:{$=Lame.V2,A.VBR=t2.vbr_mtrh;break}case Lame.EXTREME:{$=Lame.V0,A.VBR=t2.vbr_rh;break}case Lame.EXTREME_FAST:{$=Lame.V0,A.VBR=t2.vbr_mtrh;break}case Lame.INSANE:return $=320,A.preset=$,G(A,$,S),A.VBR=t2.vbr_off,$}switch(A.preset=$,$){case Lame.V9:return Y(A,9,S),$;case Lame.V8:return Y(A,8,S),$;case Lame.V7:return Y(A,7,S),$;case Lame.V6:return Y(A,6,S),$;case Lame.V5:return Y(A,5,S),$;case Lame.V4:return Y(A,4,S),$;case Lame.V3:return Y(A,3,S),$;case Lame.V2:return Y(A,2,S),$;case Lame.V1:return Y(A,1,S),$;case Lame.V0:return Y(A,0,S),$}return 8<=$&&$<=320?G(A,$,S):(A.preset=0,$)};function W(A,$){var S=0;return 0>$&&(S=-1,$=0),9<$&&(S=-1,$=9),A.VBR_q=$,A.VBR_q_frac=0,S}}var Xr=Dr;function Gr(){this.setModules=function(b,H){}}var Yr=Gr;function qr(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var Pr=qr,qe=G0,wa=qe.new_float,zr=qe.new_int;qe.assert;function Ur(){this.global_gain=0,this.sfb_count1=0,this.step=zr(39),this.noise=wa(39),this.noise_log=wa(39)}var Kr=Ur,C1=G0,v2=C1.System,Sa=C1.VbrMode;C1.Float;C1.ShortBlock;var Ne=C1.Util,N2=C1.Arrays;C1.new_array_n;C1.new_byte;C1.new_double;var q2=C1.new_float;C1.new_float_n;C1.new_int;C1.new_int_n;var P1=C1.assert,Wr=Yr,Oe=Pr,Zr=Kr,V0=n1(),xa=Ge,Ma=me;function Qr(){var b;this.rv=null;var H;this.qupvt=null;var F,P=new Wr,Z;this.setModules=function(p,_,c,d){b=p,H=_,this.rv=_,F=c,this.qupvt=c,Z=d,P.setModules(F,Z)},this.ms_convert=function(p,_){for(var c=0;c<576;++c){var d=p.tt[_][0].xr[c],e=p.tt[_][1].xr[c];p.tt[_][0].xr[c]=(d+e)*(Ne.SQRT2*.5),p.tt[_][1].xr[c]=(d-e)*(Ne.SQRT2*.5)}};function Y(p,_,c,d){d=0;for(var e=0;e<=c;++e){var m=Math.abs(p.xr[e]);d+=m,_[e]=Math.sqrt(m*Math.sqrt(m)),_[e]>p.xrpow_max&&(p.xrpow_max=_[e])}return d}this.init_xrpow=function(p,_,c){var d=0,e=0|_.max_nonzero_coeff;if(P1(c!=null),_.xrpow_max=0,P1(0<=e&&e<=575),N2.fill(c,e,576,0),d=Y(_,c,e,d),d>1e-20){var m=0;p.substep_shaping&2&&(m=1);for(var h=0;h<_.psymax;h++)p.pseudohalf[h]=m;return!0}return N2.fill(_.l3_enc,0,576,0),!1};function q(p,_){var c=p.ATH,d=_.xr;if(_.block_type!=V0.SHORT_TYPE)for(var e=!1,m=V0.PSFB21-1;m>=0&&!e;m--){var h=p.scalefac_band.psfb21[m],x=p.scalefac_band.psfb21[m+1],v=F.athAdjust(c.adjust,c.psfb21[m],c.floor);p.nsPsy.longfact[21]>1e-12&&(v*=p.nsPsy.longfact[21]);for(var s=x-1;s>=h;s--)if(Math.abs(d[s])<v)d[s]=0;else{e=!0;break}}else for(var r=0;r<3;r++)for(var e=!1,m=V0.PSFB12-1;m>=0&&!e;m--){var h=p.scalefac_band.s[12]*3+(p.scalefac_band.s[13]-p.scalefac_band.s[12])*r+(p.scalefac_band.psfb12[m]-p.scalefac_band.psfb12[0]),x=h+(p.scalefac_band.psfb12[m+1]-p.scalefac_band.psfb12[m]),o=F.athAdjust(c.adjust,c.psfb12[m],c.floor);p.nsPsy.shortfact[12]>1e-12&&(o*=p.nsPsy.shortfact[12]);for(var s=x-1;s>=h;s--)if(Math.abs(d[s])<o)d[s]=0;else{e=!0;break}}}this.init_outer_loop=function(p,_){_.part2_3_length=0,_.big_values=0,_.count1=0,_.global_gain=210,_.scalefac_compress=0,_.table_select[0]=0,_.table_select[1]=0,_.table_select[2]=0,_.subblock_gain[0]=0,_.subblock_gain[1]=0,_.subblock_gain[2]=0,_.subblock_gain[3]=0,_.region0_count=0,_.region1_count=0,_.preflag=0,_.scalefac_scale=0,_.count1table_select=0,_.part2_length=0,_.sfb_lmax=V0.SBPSY_l,_.sfb_smin=V0.SBPSY_s,_.psy_lmax=p.sfb21_extra?V0.SBMAX_l:V0.SBPSY_l,_.psymax=_.psy_lmax,_.sfbmax=_.sfb_lmax,_.sfbdivide=11;for(var c=0;c<V0.SBMAX_l;c++)_.width[c]=p.scalefac_band.l[c+1]-p.scalefac_band.l[c],_.window[c]=3;if(_.block_type==V0.SHORT_TYPE){var d=q2(576);_.sfb_smin=0,_.sfb_lmax=0,_.mixed_block_flag!=0&&(_.sfb_smin=3,_.sfb_lmax=p.mode_gr*2+4),_.psymax=_.sfb_lmax+3*((p.sfb21_extra?V0.SBMAX_s:V0.SBPSY_s)-_.sfb_smin),_.sfbmax=_.sfb_lmax+3*(V0.SBPSY_s-_.sfb_smin),_.sfbdivide=_.sfbmax-18,_.psy_lmax=_.sfb_lmax;var e=p.scalefac_band.l[_.sfb_lmax];v2.arraycopy(_.xr,0,d,0,576);for(var c=_.sfb_smin;c<V0.SBMAX_s;c++)for(var m=p.scalefac_band.s[c],h=p.scalefac_band.s[c+1],x=0;x<3;x++)for(var v=m;v<h;v++)_.xr[e++]=d[3*v+x];for(var s=_.sfb_lmax,c=_.sfb_smin;c<V0.SBMAX_s;c++)_.width[s]=_.width[s+1]=_.width[s+2]=p.scalefac_band.s[c+1]-p.scalefac_band.s[c],_.window[s]=0,_.window[s+1]=1,_.window[s+2]=2,s+=3}_.count1bits=0,_.sfb_partition_table=F.nr_of_sfb_block[0][0],_.slen[0]=0,_.slen[1]=0,_.slen[2]=0,_.slen[3]=0,_.max_nonzero_coeff=575,N2.fill(_.scalefac,0),q(p,_)};function G(p){this.ordinal=p}G.BINSEARCH_NONE=new G(0),G.BINSEARCH_UP=new G(1),G.BINSEARCH_DOWN=new G(2);function W(p,_,c,d,e){var m,h=p.CurrentStep[d],x=!1,v=p.OldValue[d],s=G.BINSEARCH_NONE;for(_.global_gain=v,c-=_.part2_length,P1(h!=0);;){var r;if(m=Z.count_bits(p,e,_,null),h==1||m==c)break;m>c?(s==G.BINSEARCH_DOWN&&(x=!0),x&&(h/=2),s=G.BINSEARCH_UP,r=h):(s==G.BINSEARCH_UP&&(x=!0),x&&(h/=2),s=G.BINSEARCH_DOWN,r=-h),_.global_gain+=r,_.global_gain<0&&(_.global_gain=0,x=!0),_.global_gain>255&&(_.global_gain=255,x=!0)}for(P1(_.global_gain>=0),P1(_.global_gain<256);m>c&&_.global_gain<255;)_.global_gain++,m=Z.count_bits(p,e,_,null);return p.CurrentStep[d]=v-_.global_gain>=4?4:2,p.OldValue[d]=_.global_gain,_.part2_3_length=m,m}this.trancate_smallspectrums=function(p,_,c,d){var e=q2(Ma.SFBMAX);if(!(!(p.substep_shaping&4)&&_.block_type==V0.SHORT_TYPE||p.substep_shaping&128)){F.calc_noise(_,c,e,new Oe,null);for(var h=0;h<576;h++){var m=0;_.l3_enc[h]!=0&&(m=Math.abs(_.xr[h])),d[h]=m}var h=0,x=8;_.block_type==V0.SHORT_TYPE&&(x=6);do{var v,s,r,o,n=_.width[x];if(h+=n,!(e[x]>=1)&&(N2.sort(d,h-n,n),!BitStream.EQ(d[h-1],0))){v=(1-e[x])*c[x],s=0,o=0;do{var a;for(r=1;o+r<n&&!BitStream.NEQ(d[o+h-n],d[o+h+r-n]);r++);if(a=d[o+h-n]*d[o+h-n]*r,v<a){o!=0&&(s=d[o+h-n-1]);break}v-=a,o+=r}while(o<n);if(!BitStream.EQ(s,0))do Math.abs(_.xr[h-n])<=s&&(_.l3_enc[h-n]=0);while(--n>0)}}while(++x<_.psymax);_.part2_3_length=Z.noquant_count_bits(p,_,null)}};function A(p){for(var _=0;_<p.sfbmax;_++)if(p.scalefac[_]+p.subblock_gain[p.window[_]]==0)return!1;return!0}function $(p){return Ne.FAST_LOG10(.368+.632*p*p*p)}function S(p,_){for(var c=1e-37,d=0;d<_.psymax;d++)c+=$(p[d]);return Math.max(1e-20,c)}function O(p,_,c,d,e){var m;switch(p){default:case 9:{_.over_count>0?(m=c.over_SSD<=_.over_SSD,c.over_SSD==_.over_SSD&&(m=c.bits<_.bits)):m=c.max_noise<0&&c.max_noise*10+c.bits<=_.max_noise*10+_.bits;break}case 0:m=c.over_count<_.over_count||c.over_count==_.over_count&&c.over_noise<_.over_noise||c.over_count==_.over_count&&BitStream.EQ(c.over_noise,_.over_noise)&&c.tot_noise<_.tot_noise;break;case 8:c.max_noise=S(e,d);case 1:m=c.max_noise<_.max_noise;break;case 2:m=c.tot_noise<_.tot_noise;break;case 3:m=c.tot_noise<_.tot_noise&&c.max_noise<_.max_noise;break;case 4:m=c.max_noise<=0&&_.max_noise>.2||c.max_noise<=0&&_.max_noise<0&&_.max_noise>c.max_noise-.2&&c.tot_noise<_.tot_noise||c.max_noise<=0&&_.max_noise>0&&_.max_noise>c.max_noise-.2&&c.tot_noise<_.tot_noise+_.over_noise||c.max_noise>0&&_.max_noise>-.05&&_.max_noise>c.max_noise-.1&&c.tot_noise+c.over_noise<_.tot_noise+_.over_noise||c.max_noise>0&&_.max_noise>-.1&&_.max_noise>c.max_noise-.15&&c.tot_noise+c.over_noise+c.over_noise<_.tot_noise+_.over_noise+_.over_noise;break;case 5:m=c.over_noise<_.over_noise||BitStream.EQ(c.over_noise,_.over_noise)&&c.tot_noise<_.tot_noise;break;case 6:m=c.over_noise<_.over_noise||BitStream.EQ(c.over_noise,_.over_noise)&&(c.max_noise<_.max_noise||BitStream.EQ(c.max_noise,_.max_noise)&&c.tot_noise<=_.tot_noise);break;case 7:m=c.over_count<_.over_count||c.over_noise<_.over_noise;break}return _.over_count==0&&(m=m&&c.bits<_.bits),m}function V(p,_,c,d,e){var m=p.internal_flags,h;_.scalefac_scale==0?h=1.2968395546510096:h=1.6817928305074292;for(var x=0,v=0;v<_.sfbmax;v++)x<c[v]&&(x=c[v]);var s=m.noise_shaping_amp;switch(s==3&&(e?s=2:s=1),s){case 2:break;case 1:x>1?x=Math.pow(x,.5):x*=.95;break;case 0:default:x>1?x=1:x*=.95;break}for(var r=0,v=0;v<_.sfbmax;v++){var o=_.width[v],n;if(r+=o,!(c[v]<x)){if(m.substep_shaping&2&&(m.pseudohalf[v]=m.pseudohalf[v]==0?1:0,m.pseudohalf[v]==0&&m.noise_shaping_amp==2))return;for(_.scalefac[v]++,n=-o;n<0;n++)d[r+n]*=h,d[r+n]>_.xrpow_max&&(_.xrpow_max=d[r+n]);if(m.noise_shaping_amp==2)return}}}function T(p,_){for(var c=1.2968395546510096,d=0,e=0;e<p.sfbmax;e++){var m=p.width[e],h=p.scalefac[e];if(p.preflag!=0&&(h+=F.pretab[e]),d+=m,h&1){h++;for(var x=-m;x<0;x++)_[d+x]*=c,_[d+x]>p.xrpow_max&&(p.xrpow_max=_[d+x])}p.scalefac[e]=h>>1}p.preflag=0,p.scalefac_scale=1}function L(p,_,c){var d,e=_.scalefac;for(d=0;d<_.sfb_lmax;d++)if(e[d]>=16)return!0;for(var m=0;m<3;m++){var h=0,x=0;for(d=_.sfb_lmax+m;d<_.sfbdivide;d+=3)h<e[d]&&(h=e[d]);for(;d<_.sfbmax;d+=3)x<e[d]&&(x=e[d]);if(!(h<16&&x<8)){if(_.subblock_gain[m]>=7)return!0;_.subblock_gain[m]++;var v=p.scalefac_band.l[_.sfb_lmax];for(d=_.sfb_lmax+m;d<_.sfbmax;d+=3){var s,r=_.width[d],o=e[d];if(P1(o>=0),o=o-(4>>_.scalefac_scale),o>=0){e[d]=o,v+=r*3;continue}e[d]=0;{var n=210+(o<<_.scalefac_scale+1);s=F.IPOW20(n)}v+=r*(m+1);for(var a=-r;a<0;a++)c[v+a]*=s,c[v+a]>_.xrpow_max&&(_.xrpow_max=c[v+a]);v+=r*(3-m-1)}{var s=F.IPOW20(202);v+=_.width[d]*(m+1);for(var a=-_.width[d];a<0;a++)c[v+a]*=s,c[v+a]>_.xrpow_max&&(_.xrpow_max=c[v+a])}}}return!1}function y(p,_,c,d,e){var m=p.internal_flags;V(p,_,c,d,e);var h=A(_);return h?!1:(m.mode_gr==2?h=Z.scale_bitcount(_):h=Z.scale_bitcount_lsf(m,_),h?(m.noise_shaping>1&&(N2.fill(m.pseudohalf,0),_.scalefac_scale==0?(T(_,d),h=!1):_.block_type==V0.SHORT_TYPE&&m.subblock_gain>0&&(h=L(m,_,d)||A(_))),h||(m.mode_gr==2?h=Z.scale_bitcount(_):h=Z.scale_bitcount_lsf(m,_)),!h):!0)}this.outer_loop=function(p,_,c,d,e,m){var h=p.internal_flags,x=new xa,v=q2(576),s=q2(Ma.SFBMAX),r=new Oe,o,n=new Zr,a=9999999,u=!1,l=!1,N=0;if(W(h,_,m,e,d),h.noise_shaping==0)return 100;F.calc_noise(_,c,s,r,n),r.bits=_.part2_3_length,x.assign(_);var R=0;for(v2.arraycopy(d,0,v,0,576);!u;){do{var B=new Oe,t,i=255;if(h.substep_shaping&2?t=20:t=3,h.sfb21_extra&&(s[x.sfbmax]>1||x.block_type==V0.SHORT_TYPE&&(s[x.sfbmax+1]>1||s[x.sfbmax+2]>1))||!y(p,x,s,d,l))break;x.scalefac_scale!=0&&(i=254);var C=m-x.part2_length;if(C<=0)break;for(;(x.part2_3_length=Z.count_bits(h,d,x,n))>C&&x.global_gain<=i;)x.global_gain++;if(x.global_gain>i)break;if(r.over_count==0){for(;(x.part2_3_length=Z.count_bits(h,d,x,n))>a&&x.global_gain<=i;)x.global_gain++;if(x.global_gain>i)break}if(F.calc_noise(x,c,s,B,n),B.bits=x.part2_3_length,_.block_type!=V0.SHORT_TYPE?o=p.quant_comp:o=p.quant_comp_short,o=O(o,r,B,x,s)?1:0,o!=0)a=_.part2_3_length,r=B,_.assign(x),R=0,v2.arraycopy(d,0,v,0,576);else if(h.full_outer_loop==0&&(++R>t&&r.over_count==0||h.noise_shaping_amp==3&&l&&R>30||h.noise_shaping_amp==3&&l&&x.global_gain-N>15))break}while(x.global_gain+x.scalefac_scale<255);h.noise_shaping_amp==3?l?u=!0:(x.assign(_),v2.arraycopy(v,0,d,0,576),R=0,N=x.global_gain,l=!0):u=!0}return P1(_.global_gain+_.scalefac_scale<=255),p.VBR==Sa.vbr_rh||p.VBR==Sa.vbr_mtrh?v2.arraycopy(v,0,d,0,576):h.substep_shaping&1&&trancate_smallspectrums(h,_,c,d),r.over_count},this.iteration_finish_one=function(p,_,c){var d=p.l3_side,e=d.tt[_][c];Z.best_scalefac_store(p,_,c,d),p.use_best_huffman==1&&Z.best_huffman_divide(p,e),H.ResvAdjust(p,e)},this.VBR_encode_granule=function(p,_,c,d,e,m,h){var x=p.internal_flags,v=new xa,s=q2(576),r=h,o=h+1,n=(h+m)/2,a,u,l=0,N=x.sfb21_extra;P1(r<=LameInternalFlags.MAX_BITS_PER_CHANNEL),N2.fill(v.l3_enc,0);do P1(n>=m),P1(n<=h),P1(m<=h),n>r-42?x.sfb21_extra=!1:x.sfb21_extra=N,u=outer_loop(p,_,c,d,e,n),u<=0?(l=1,o=_.part2_3_length,v.assign(_),v2.arraycopy(d,0,s,0,576),h=o-32,a=h-m,n=(h+m)/2):(m=n+32,a=h-m,n=(h+m)/2,l!=0&&(l=2,_.assign(v),v2.arraycopy(s,0,d,0,576)));while(a>12);x.sfb21_extra=N,l==2&&v2.arraycopy(v.l3_enc,0,_.l3_enc,0,576),P1(_.part2_3_length<=r)},this.get_framebits=function(p,_){var c=p.internal_flags;c.bitrate_index=c.VBR_min_bitrate;var d=b.getframebits(p);c.bitrate_index=1,d=b.getframebits(p);for(var e=1;e<=c.VBR_max_bitrate;e++){c.bitrate_index=e;var m=new MeanBits(d);_[e]=H.ResvFrameBegin(p,m),d=m.bits}},this.VBR_old_prepare=function(p,_,c,d,e,m,h,x,v){var s=p.internal_flags,r,o=0,n=1,a=0;s.bitrate_index=s.VBR_max_bitrate;var u=H.ResvFrameBegin(p,new MeanBits(0))/s.mode_gr;get_framebits(p,m);for(var l=0;l<s.mode_gr;l++){var N=F.on_pe(p,_,x[l],u,l,0);s.mode_ext==V0.MPG_MD_MS_LR&&(ms_convert(s.l3_side,l),F.reduce_side(x[l],c[l],u,N));for(var R=0;R<s.channels_out;++R){var B=s.l3_side.tt[l][R];B.block_type!=V0.SHORT_TYPE?(o=1.28/(1+Math.exp(3.5-_[l][R]/300))-.05,r=s.PSY.mask_adjust-o):(o=2.56/(1+Math.exp(3.5-_[l][R]/300))-.14,r=s.PSY.mask_adjust_short-o),s.masking_lower=Math.pow(10,r*.1),init_outer_loop(s,B),v[l][R]=F.calc_xmin(p,d[l][R],B,e[l][R]),v[l][R]!=0&&(n=0),h[l][R]=126,a+=x[l][R]}}for(var l=0;l<s.mode_gr;l++)for(var R=0;R<s.channels_out;R++)a>m[s.VBR_max_bitrate]&&(x[l][R]*=m[s.VBR_max_bitrate],x[l][R]/=a),h[l][R]>x[l][R]&&(h[l][R]=x[l][R]);return n},this.bitpressure_strategy=function(p,_,c,d){for(var e=0;e<p.mode_gr;e++)for(var m=0;m<p.channels_out;m++){for(var h=p.l3_side.tt[e][m],x=_[e][m],v=0,s=0;s<h.psy_lmax;s++)x[v++]*=1+.029*s*s/V0.SBMAX_l/V0.SBMAX_l;if(h.block_type==V0.SHORT_TYPE)for(var s=h.sfb_smin;s<V0.SBMAX_s;s++)x[v++]*=1+.029*s*s/V0.SBMAX_s/V0.SBMAX_s,x[v++]*=1+.029*s*s/V0.SBMAX_s/V0.SBMAX_s,x[v++]*=1+.029*s*s/V0.SBMAX_s/V0.SBMAX_s;d[e][m]=0|Math.max(c[e][m],.9*d[e][m])}},this.VBR_new_prepare=function(p,_,c,d,e,m){var h=p.internal_flags,x=1,v=0,s=0,r;if(p.free_format){h.bitrate_index=0;var o=new MeanBits(v);r=H.ResvFrameBegin(p,o),v=o.bits,e[0]=r}else{h.bitrate_index=h.VBR_max_bitrate;var o=new MeanBits(v);H.ResvFrameBegin(p,o),v=o.bits,get_framebits(p,e),r=e[h.VBR_max_bitrate]}for(var n=0;n<h.mode_gr;n++){F.on_pe(p,_,m[n],v,n,0),h.mode_ext==V0.MPG_MD_MS_LR&&ms_convert(h.l3_side,n);for(var a=0;a<h.channels_out;++a){var u=h.l3_side.tt[n][a];h.masking_lower=Math.pow(10,h.PSY.mask_adjust*.1),init_outer_loop(h,u),F.calc_xmin(p,c[n][a],u,d[n][a])!=0&&(x=0),s+=m[n][a]}}for(var n=0;n<h.mode_gr;n++)for(var a=0;a<h.channels_out;a++)s>r&&(m[n][a]*=r,m[n][a]/=s);return x},this.calc_target_bits=function(p,_,c,d,e,m){var h=p.internal_flags,x=h.l3_side,v,s,r,o,n=0;h.bitrate_index=h.VBR_max_bitrate;var a=new MeanBits(n);for(m[0]=H.ResvFrameBegin(p,a),n=a.bits,h.bitrate_index=1,n=b.getframebits(p)-h.sideinfo_len*8,e[0]=n/(h.mode_gr*h.channels_out),n=p.VBR_mean_bitrate_kbps*p.framesize*1e3,h.substep_shaping&1&&(n*=1.09),n/=p.out_samplerate,n-=h.sideinfo_len*8,n/=h.mode_gr*h.channels_out,v=.93+.07*(11-p.compression_ratio)/(11-5.5),v<.9&&(v=.9),v>1&&(v=1),s=0;s<h.mode_gr;s++){var u=0;for(r=0;r<h.channels_out;r++){if(d[s][r]=int(v*n),_[s][r]>700){var l=int((_[s][r]-700)/1.4),N=x.tt[s][r];d[s][r]=int(v*n),N.block_type==V0.SHORT_TYPE&&l<n/2&&(l=n/2),l>n*3/2?l=n*3/2:l<0&&(l=0),d[s][r]+=l}d[s][r]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(d[s][r]=LameInternalFlags.MAX_BITS_PER_CHANNEL),u+=d[s][r]}if(u>LameInternalFlags.MAX_BITS_PER_GRANULE)for(r=0;r<h.channels_out;++r)d[s][r]*=LameInternalFlags.MAX_BITS_PER_GRANULE,d[s][r]/=u}if(h.mode_ext==V0.MPG_MD_MS_LR)for(s=0;s<h.mode_gr;s++)F.reduce_side(d[s],c[s],n*h.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(o=0,s=0;s<h.mode_gr;s++)for(r=0;r<h.channels_out;r++)d[s][r]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(d[s][r]=LameInternalFlags.MAX_BITS_PER_CHANNEL),o+=d[s][r];if(o>m[0])for(s=0;s<h.mode_gr;s++)for(r=0;r<h.channels_out;r++)d[s][r]*=m[0],d[s][r]/=o}}var jr=Qr,Jr=G0,ae=Jr.assert;function gr(){var b;this.setModules=function(H){b=H},this.ResvFrameBegin=function(H,F){var P=H.internal_flags,Z,Y=P.l3_side,q=b.getframebits(H);F.bits=(q-P.sideinfo_len*8)/P.mode_gr;var G=8*256*P.mode_gr-8;H.brate>320?Z=8*int(H.brate*1e3/(H.out_samplerate/1152)/8+.5):(Z=8*1440,H.strict_ISO&&(Z=8*int(32e4/(H.out_samplerate/1152)/8+.5))),P.ResvMax=Z-q,P.ResvMax>G&&(P.ResvMax=G),(P.ResvMax<0||H.disable_reservoir)&&(P.ResvMax=0);var W=F.bits*P.mode_gr+Math.min(P.ResvSize,P.ResvMax);return W>Z&&(W=Z),ae(P.ResvMax%8==0),ae(P.ResvMax>=0),Y.resvDrain_pre=0,P.pinfo!=null&&(P.pinfo.mean_bits=F.bits/2,P.pinfo.resvsize=P.ResvSize),W},this.ResvMaxBits=function(H,F,P,Z){var Y=H.internal_flags,q,G=Y.ResvSize,W=Y.ResvMax;Z!=0&&(G+=F),Y.substep_shaping&1&&(W*=.9),P.bits=F,G*10>W*9?(q=G-W*9/10,P.bits+=q,Y.substep_shaping|=128):(q=0,Y.substep_shaping&=127,!H.disable_reservoir&&!(Y.substep_shaping&1)&&(P.bits-=.1*F));var A=G<Y.ResvMax*6/10?G:Y.ResvMax*6/10;return A-=q,A<0&&(A=0),A},this.ResvAdjust=function(H,F){H.ResvSize-=F.part2_3_length+F.part2_length},this.ResvFrameEnd=function(H,F){var P,Z=H.l3_side;H.ResvSize+=F*H.mode_gr;var Y=0;Z.resvDrain_post=0,Z.resvDrain_pre=0,(P=H.ResvSize%8)!=0&&(Y+=P),P=H.ResvSize-Y-H.ResvMax,P>0&&(ae(P%8==0),ae(P>=0),Y+=P);{var q=Math.min(Z.main_data_begin*8,Y)/8;Z.resvDrain_pre+=8*q,Y-=8*q,H.ResvSize-=8*q,Z.main_data_begin-=q}Z.resvDrain_post+=Y,H.ResvSize-=Y}}var es=gr;function as(){var b="http://www.mp3dev.org/",H=3,F=98,P=4,Z=0,Y=93;this.getLameVersion=function(){return H+"."+F+"."+P},this.getLameShortVersion=function(){return H+"."+F+"."+P},this.getLameVeryShortVersion=function(){return"LAME"+H+"."+F+"r"},this.getPsyVersion=function(){return Z+"."+Y},this.getLameUrl=function(){return b},this.getLameOsBitness=function(){return"32bits"}}var ts=as,L1=G0,rs=L1.System,Fe=L1.VbrMode;L1.Float;var pa=L1.ShortBlock;L1.Util;var ss=L1.Arrays;L1.new_array_n;var te=L1.new_byte;L1.new_double;L1.new_float;L1.new_float_n;L1.new_int;L1.new_int_n;var ns=L1.assert;z2.NUMTOCENTRIES=100;z2.MAXFRAMESIZE=2880;function z2(){var b,H,F;this.setModules=function(n,a,u){b=n,H=a,F=u};var P=1,Z=2,Y=4,q=8,G=z2.NUMTOCENTRIES,W=z2.MAXFRAMESIZE,A=G+4+4+4+4+4,$=A+9+1+1+8+1+1+3+1+1+2+4+2+2,S=128,O=64,V=32,T=null,L="Xing",y="Info",p=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function _(n,a){if(n.nVbrNumFrames++,n.sum+=a,n.seen++,!(n.seen<n.want)&&(n.pos<n.size&&(n.bag[n.pos]=n.sum,n.pos++,n.seen=0),n.pos==n.size)){for(var u=1;u<n.size;u+=2)n.bag[u/2]=n.bag[u];n.want*=2,n.pos/=2}}function c(n,a){if(!(n.pos<=0))for(var u=1;u<G;++u){var l=u/G,N,R,B=0|Math.floor(l*n.pos);B>n.pos-1&&(B=n.pos-1),N=n.bag[B],R=n.sum;var t=0|256*N/R;t>255&&(t=255),a[u]=255&t}}this.addVbrFrame=function(n){var a=n.internal_flags,u=Tables.bitrate_table[n.version][a.bitrate_index];ns(a.VBR_seek_table.bag!=null),_(a.VBR_seek_table,u)};function d(n,a){var u=n[a+0]&255;return u<<=8,u|=n[a+1]&255,u<<=8,u|=n[a+2]&255,u<<=8,u|=n[a+3]&255,u}function e(n,a,u){n[a+0]=255&(u>>24&255),n[a+1]=255&(u>>16&255),n[a+2]=255&(u>>8&255),n[a+3]=255&(u&255)}function m(n,a,u){n[a+0]=255&(u>>8&255),n[a+1]=255&(u&255)}function h(n,a){return new String(n,a,L.length(),T).equals(L)||new String(n,a,y.length(),T).equals(y)}function x(n,a,u){return 255&(n<<a|u&~(-1<<a))}function v(n,a){var u=n.internal_flags;a[0]=x(a[0],8,255),a[1]=x(a[1],3,7),a[1]=x(a[1],1,n.out_samplerate<16e3?0:1),a[1]=x(a[1],1,n.version),a[1]=x(a[1],2,1),a[1]=x(a[1],1,n.error_protection?0:1),a[2]=x(a[2],4,u.bitrate_index),a[2]=x(a[2],2,u.samplerate_index),a[2]=x(a[2],1,0),a[2]=x(a[2],1,n.extension),a[3]=x(a[3],2,n.mode.ordinal()),a[3]=x(a[3],2,u.mode_ext),a[3]=x(a[3],1,n.copyright),a[3]=x(a[3],1,n.original),a[3]=x(a[3],2,n.emphasis),a[0]=255;var l=255&(a[1]&241),N;n.version==1?N=S:n.out_samplerate<16e3?N=V:N=O,n.VBR==Fe.vbr_off&&(N=n.brate);var R;n.free_format?R=0:R=255&16*b.BitrateIndex(N,n.version,n.out_samplerate),n.version==1?(a[1]=255&(l|10),l=255&(a[2]&13),a[2]=255&(R|l)):(a[1]=255&(l|2),l=255&(a[2]&13),a[2]=255&(R|l))}this.getVbrTag=function(n){var a=new VBRTagData,u=0;a.flags=0;var l=n[u+1]>>3&1,N=n[u+2]>>2&3,R=n[u+3]>>6&3,B=n[u+2]>>4&15;if(B=Tables.bitrate_table[l][B],n[u+1]>>4==14?a.samprate=Tables.samplerate_table[2][N]:a.samprate=Tables.samplerate_table[l][N],l!=0?R!=3?u+=36:u+=21:R!=3?u+=21:u+=13,!h(n,u))return null;u+=4,a.hId=l;var t=a.flags=d(n,u);if(u+=4,t&P&&(a.frames=d(n,u),u+=4),t&Z&&(a.bytes=d(n,u),u+=4),t&Y){if(a.toc!=null)for(var i=0;i<G;i++)a.toc[i]=n[u+i];u+=G}a.vbrScale=-1,t&q&&(a.vbrScale=d(n,u),u+=4),a.headersize=(l+1)*72e3*B/a.samprate,u+=21;var C=n[u+0]<<4;C+=n[u+1]>>4;var k=(n[u+1]&15)<<8;return k+=n[u+2]&255,(C<0||C>3e3)&&(C=-1),(k<0||k>3e3)&&(k=-1),a.encDelay=C,a.encPadding=k,a},this.InitVbrTag=function(n){var a=n.internal_flags,u;n.version==1?u=S:n.out_samplerate<16e3?u=V:u=O,n.VBR==Fe.vbr_off&&(u=n.brate);var l=(n.version+1)*72e3*u/n.out_samplerate,N=a.sideinfo_len+$;if(a.VBR_seek_table.TotalFrameSize=l,l<N||l>W){n.bWriteVbrTag=!1;return}a.VBR_seek_table.nVbrNumFrames=0,a.VBR_seek_table.nBytesWritten=0,a.VBR_seek_table.sum=0,a.VBR_seek_table.seen=0,a.VBR_seek_table.want=1,a.VBR_seek_table.pos=0,a.VBR_seek_table.bag==null&&(a.VBR_seek_table.bag=new int[400],a.VBR_seek_table.size=400);var R=te(W);v(n,R);for(var B=a.VBR_seek_table.TotalFrameSize,t=0;t<B;++t)H.add_dummy_byte(n,R[t]&255,1)};function s(n,a){var u=a^n;return a=a>>8^p[u&255],a}this.updateMusicCRC=function(n,a,u,l){for(var N=0;N<l;++N)n[0]=s(a[u+N],n[0])};function r(n,a,u,l,N){var R=n.internal_flags,B=0,t=n.encoder_delay,i=n.encoder_padding,C=100-10*n.VBR_q-n.quality,k=F.getLameVeryShortVersion(),s0,_0=0,i0,l0=[1,5,3,2,4,0,3],S0=0|(n.lowpassfreq/100+.5>255?255:n.lowpassfreq/100+.5),c0=0,n0=0,B0=0,Y0=n.internal_flags.noise_shaping,x0=0,C0=0,I0=0,z0=0,e1=0,J1=(n.exp_nspsytune&1)!=0,k1=(n.exp_nspsytune&2)!=0,o1=!1,z1=!1,h2=n.internal_flags.nogap_total,o2=n.internal_flags.nogap_current,i1=n.ATHtype,m2=0,s2;switch(n.VBR){case vbr_abr:s2=n.VBR_mean_bitrate_kbps;break;case vbr_off:s2=n.brate;break;default:s2=n.VBR_min_bitrate_kbps}switch(n.VBR.ordinal()<l0.length?s0=l0[n.VBR.ordinal()]:s0=0,i0=16*_0+s0,R.findReplayGain&&(R.RadioGain>510&&(R.RadioGain=510),R.RadioGain<-510&&(R.RadioGain=-510),n0=8192,n0|=3072,R.RadioGain>=0?n0|=R.RadioGain:(n0|=512,n0|=-R.RadioGain)),R.findPeakSample&&(c0=Math.abs(0|R.PeakSample/32767*Math.pow(2,23)+.5)),h2!=-1&&(o2>0&&(z1=!0),o2<h2-1&&(o1=!0)),m2=i1+((J1?1:0)<<4)+((k1?1:0)<<5)+((o1?1:0)<<6)+((z1?1:0)<<7),C<0&&(C=0),n.mode){case MONO:x0=0;break;case STEREO:x0=1;break;case DUAL_CHANNEL:x0=2;break;case JOINT_STEREO:n.force_ms?x0=4:x0=3;break;case NOT_SET:default:x0=7;break}n.in_samplerate<=32e3?I0=0:n.in_samplerate==48e3?I0=2:n.in_samplerate>48e3?I0=3:I0=1,(n.short_blocks==pa.short_block_forced||n.short_blocks==pa.short_block_dispensed||n.lowpassfreq==-1&&n.highpassfreq==-1||n.scale_left<n.scale_right||n.scale_left>n.scale_right||n.disable_reservoir&&n.brate<320||n.noATH||n.ATHonly||i1==0||n.in_samplerate<=32e3)&&(C0=1),z0=Y0+(x0<<2)+(C0<<5)+(I0<<6),e1=R.nMusicCRC,e(u,l+B,C),B+=4;for(var H1=0;H1<9;H1++)u[l+B+H1]=255&k.charAt(H1);B+=9,u[l+B]=255&i0,B++,u[l+B]=255&S0,B++,e(u,l+B,c0),B+=4,m(u,l+B,n0),B+=2,m(u,l+B,B0),B+=2,u[l+B]=255&m2,B++,s2>=255?u[l+B]=255:u[l+B]=255&s2,B++,u[l+B]=255&t>>4,u[l+B+1]=255&(t<<4)+(i>>8),u[l+B+2]=255&i,B+=3,u[l+B]=255&z0,B++,u[l+B++]=0,m(u,l+B,n.preset),B+=2,e(u,l+B,a),B+=4,m(u,l+B,e1),B+=2;for(var I2=0;I2<B;I2++)N=s(u[l+I2],N);return m(u,l+B,N),B+=2,B}function o(n){n.seek(0);var a=te(10);n.readFully(a);var u;return new String(a,"ISO-8859-1").startsWith("ID3")?u=0:u=((a[6]&127)<<21|(a[7]&127)<<14|(a[8]&127)<<7|a[9]&127)+a.length,u}this.getLameTagFrame=function(n,a){var u=n.internal_flags;if(!n.bWriteVbrTag||u.Class_ID!=Lame.LAME_ID||u.VBR_seek_table.pos<=0)return 0;if(a.length<u.VBR_seek_table.TotalFrameSize)return u.VBR_seek_table.TotalFrameSize;ss.fill(a,0,u.VBR_seek_table.TotalFrameSize,0),v(n,a);var l=te(G);if(n.free_format)for(var N=1;N<G;++N)l[N]=255&255*N/100;else c(u.VBR_seek_table,l);var R=u.sideinfo_len;n.error_protection&&(R-=2),n.VBR==Fe.vbr_off?(a[R++]=255&y.charAt(0),a[R++]=255&y.charAt(1),a[R++]=255&y.charAt(2),a[R++]=255&y.charAt(3)):(a[R++]=255&L.charAt(0),a[R++]=255&L.charAt(1),a[R++]=255&L.charAt(2),a[R++]=255&L.charAt(3)),e(a,R,P+Z+Y+q),R+=4,e(a,R,u.VBR_seek_table.nVbrNumFrames),R+=4;var B=u.VBR_seek_table.nBytesWritten+u.VBR_seek_table.TotalFrameSize;e(a,R,0|B),R+=4,rs.arraycopy(l,0,a,R,l.length),R+=l.length,n.error_protection&&H.CRC_writeheader(u,a);for(var t=0,N=0;N<R;N++)t=s(a[N],t);return R+=r(n,B,a,R,t),u.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(n,a){var u=n.internal_flags;if(u.VBR_seek_table.pos<=0||(a.seek(a.length()),a.length()==0))return-1;var l=o(a);a.seek(l);var N=te(W),R=getLameTagFrame(n,N);return R>N.length?-1:(R<1||a.write(N,0,R),0)}}var is=z2,V1=G0;V1.System;V1.VbrMode;V1.Float;V1.ShortBlock;V1.Util;V1.Arrays;V1.new_array_n;var Aa=V1.new_byte;V1.new_double;V1.new_float;V1.new_float_n;V1.new_int;V1.new_int_n;var Ra=V1.assert,ls=$r,_s=Xr,os=za,vs=Ka,us=jr,cs=Wa,hs=es,ms=Ya,fs=Za;n1();var ds=ts,bs=is;function ws(){this.setModules=function(b,H){}}function Ss(){this.setModules=function(b,H,F){}}function xs(){}function Ms(){this.setModules=function(b,H){}}function ps(b,H,F){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),b=1,H=44100,F=128);var P=new ls,Z=new ws,Y=new os,q=new fs,G=new _s,W=new vs,A=new us,$=new bs,S=new ds,O=new Ms,V=new hs,T=new cs,L=new Ss,y=new xs;P.setModules(Y,q,G,W,A,$,S,O,y),q.setModules(Y,y,S,$),O.setModules(q,S),G.setModules(P),A.setModules(q,V,W,T),W.setModules(T,V,P.enc.psy),V.setModules(q),T.setModules(W),$.setModules(P,q,S),Z.setModules(L,y),L.setModules(S,O,G);var p=P.lame_init();p.num_channels=b,p.in_samplerate=H,p.brate=F,p.mode=ms.STEREO,p.quality=3,p.bWriteVbrTag=!1,p.disable_reservoir=!0,p.write_id3tag_automatic=!1;var _=P.lame_init_params(p);Ra(_==0);var c=1152,d=0|1.25*c+7200,e=Aa(d);this.encodeBuffer=function(m,h){b==1&&(h=m),Ra(m.length==h.length),m.length>c&&(c=m.length,d=0|1.25*c+7200,e=Aa(d));var x=P.lame_encode_buffer(p,m,h,m.length,e,0,d);return new Int8Array(e.subarray(0,x))},this.flush=function(){var m=P.lame_encode_flush(p,e,0,d);return new Int8Array(e.subarray(0,m))}}function Q1(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function de(b){return b.charCodeAt(0)<<24|b.charCodeAt(1)<<16|b.charCodeAt(2)<<8|b.charCodeAt(3)}Q1.RIFF=de("RIFF");Q1.WAVE=de("WAVE");Q1.fmt_=de("fmt ");Q1.data=de("data");Q1.readHeader=function(b){var H=new Q1,F=b.getUint32(0,!1);if(Q1.RIFF==F&&(b.getUint32(4,!0),Q1.WAVE==b.getUint32(8,!1)&&Q1.fmt_==b.getUint32(12,!1))){var P=b.getUint32(16,!0),Z=20;switch(P){case 16:case 18:H.channels=b.getUint16(Z+2,!0),H.sampleRate=b.getUint32(Z+4,!0);break;default:throw"extended fmt chunk not implemented"}Z+=P;for(var Y=Q1.data,q=0;Y!=F&&(F=b.getUint32(Z,!1),q=b.getUint32(Z+4,!0),Y!=F);)Z+=q+8;return H.dataLen=q,H.dataOffset=Z+8,H}};ie.Mp3Encoder=ps;ie.WavHeader=Q1;const Pe=b=>(oe("data-v-e4536478"),b=b(),ve(),b),As={class:"speech-to-text"},Rs=Pe(()=>u0("h2",null,"语音转文字",-1)),Es={class:"controls"},ys={class:"progress"},Bs=["value"],Ts={ref:"waveCanvas",class:"wave-canvas"},Is={class:"output"},Cs=Pe(()=>u0("h3",null,"转录文本",-1)),Ls={key:0,class:"modal"},Vs=Pe(()=>u0("p",null,"没有检测到录音设备，请检查并重试。",-1)),ks={__name:"vtoc",setup(b){const H=T0(""),F=T0(!1),P=T0(0),Z=[];let Y=null,q=null,G=null,W=null;const A=T0(!1),$=async()=>{try{const y=await navigator.mediaDevices.getUserMedia({audio:!0});F.value=!0,Z.length=0,P.value=0,q=new AudioContext,G=q.createAnalyser(),q.createMediaStreamSource(y).connect(G),G.fftSize=2048;const _=G.frequencyBinCount;W=new Uint8Array(_),Y=new MediaRecorder(y),Y.ondataavailable=c=>{Z.push(c.data)},Y.start(),T()}catch{A.value=!0}},S=async()=>{F.value=!1,Y.stop(),q.close(),Y.onstop=async()=>{const y=new Blob(Z,{type:"audio/wav"}),p=new FileReader;p.readAsArrayBuffer(y),p.onloadend=async()=>{const _=p.result,c=ie.WavHeader.readHeader(new DataView(_)),d=new Int16Array(_,c.dataOffset,c.dataLen/2),e=new ie.Mp3Encoder(1,c.sampleRate,128),m=[];let h=d.length;const x=1152;for(let r=0;h>=x;r+=x){const o=d.subarray(r,r+x),n=e.encodeBuffer(o);n.length>0&&m.push(n),h-=x}const v=e.flush();v.length>0&&m.push(v);const s=new Blob(m,{type:"audio/mp3"});V(s)}}},O=y=>{const p=y.target.files[0];V(p)},V=async y=>{const p=new FormData;p.append("username","admin"),p.append("file",y);try{const _=await T2.post("/vtoc",p,{headers:{"Content-Type":"multipart/form-data"}});H.value=_.data.text}catch(_){console.error("Error uploading audio:",_)}},T=()=>{const y=document.querySelector(".wave-canvas"),p=y.getContext("2d"),_=()=>{if(!F.value)return;G.getByteTimeDomainData(W),p.fillStyle="rgb(200, 200, 200)",p.fillRect(0,0,y.width,y.height),p.lineWidth=2,p.strokeStyle="rgb(0, 0, 0)",p.beginPath();const c=y.width*1/G.fftSize;let d=0;for(let e=0;e<G.fftSize;e++){const h=W[e]/128*y.height/2;e===0?p.moveTo(d,h):p.lineTo(d,h),d+=c}p.lineTo(y.width,y.height/2),p.stroke(),requestAnimationFrame(_)};_()},L=()=>{A.value=!1};return ya(()=>{const y=document.querySelector(".wave-canvas");y.width=y.clientWidth,y.height=y.clientHeight}),(y,p)=>{const _=c2("VideoPlay"),c=Xe,d=c2("VideoPause");return R0(),k0("div",As,[Rs,u0("div",Es,[se(y0(c,{onClick:$},{default:H0(()=>[y0(_)]),_:1},512),[[ne,!F.value]]),se(y0(c,{onClick:S},{default:H0(()=>[y0(d)]),_:1},512),[[ne,F.value]]),u0("input",{type:"file",onChange:O,class:"file-input"},null,32)]),u0("div",ys,[u0("progress",{value:P.value,max:"100"},null,8,Bs),u0("canvas",Ts,null,512)]),u0("div",Is,[Cs,u0("p",null,r2(H.value),1)]),A.value?(R0(),k0("div",Ls,[u0("div",{class:"modal-content"},[u0("span",{class:"close",onClick:L},"×"),Vs])])):j0("",!0)])}}},Hs=O2(ks,[["__scopeId","data-v-e4536478"]]),Ns=b=>(oe("data-v-c311e641"),b=b(),ve(),b),Os=Ns(()=>u0("span",null,"AI 助手",-1)),Fs={class:"p-4 flex"},$s={class:"flex flex-col"},Ds=350,Xs={__name:"AiSidebar",props:{isVisible:Boolean},emits:["close"],setup(b,{emit:H}){const F=Ea(),P=T0(!0),Z=T0(!1),Y=T0(!1),q=T0(!1),G=T0(!1);T0(!1),T0(null);const W=()=>{F.push("/Chat_rag"),A("close")},A=H,$=()=>{A("close")},S=()=>{P.value=!0,Z.value=!1,Y.value=!1,q.value=!1,G.value=!1},O=()=>{P.value=!1,Z.value=!0,Y.value=!1,q.value=!1,G.value=!1},V=()=>{P.value=!1,Z.value=!1,Y.value=!0,q.value=!1,G.value=!1},T=()=>{P.value=!1,Z.value=!1,Y.value=!1,q.value=!0,G.value=!1},L=()=>{P.value=!1,Z.value=!1,Y.value=!1,q.value=!1,G.value=!0};return(y,p)=>(R0(),Z1(Ia,{name:"slide",style:{height:"50%"}},{default:H0(()=>[b.isVisible?(R0(),k0("div",{key:0,class:"sidebar fixed height-500 top-20 right-0 h-full bg-white shadow-lg border-l border-gray-300 z-50",style:n3({width:Ds+"px"}),ref:"sidebar"},[u0("div",{class:"flex justify-between items-center bg-gray-100 p-2 border-b border-gray-300"},[Os,u0("button",{class:"text-gray-500 hover:text-gray-800",onClick:$},"×")]),u0("div",Fs,[u0("div",$s,[P.value?(R0(),Z1(ht,{key:0})):j0("",!0),Z.value?(R0(),Z1(St,{key:1})):j0("",!0),Y.value?(R0(),Z1(bt,{key:2})):j0("",!0),q.value?(R0(),Z1(Lt,{key:3})):j0("",!0),G.value?(R0(),Z1(Hs,{key:4})):j0("",!0)]),u0("div",{class:"flex flex-col fixed-right"},[u0("img",{src:q3,class:"ocr",onClick:S}),u0("img",{src:P3,class:"ocr",onClick:O}),u0("img",{src:z3,class:"ocr",onClick:V}),u0("img",{src:U3,class:"ocr",onClick:T}),u0("img",{src:ea,class:"ocr",onClick:L}),u0("img",{src:ea,class:"ocr",onClick:W})])])],4)):j0("",!0)]),_:1}))}},Gs=O2(Xs,[["__scopeId","data-v-c311e641"]]),Ys={class:"layout-sidebar"},qs={class:"layout-main-container"},Ps={class:"layout-main"},zs={src:i3,class:"logo"},Us={__name:"AppLayout",setup(b){const{layoutConfig:H,layoutState:F,isSidebarActive:P}=ue(),Z=T0(null),Y=T0(!1),q=()=>{Y.value=!Y.value},G=()=>{Y.value=!1};Ta(P,O=>{O?A():$()});const W=re(()=>({"layout-theme-light":H.darkTheme.value==="light","layout-theme-dark":H.darkTheme.value==="dark","layout-overlay":H.menuMode.value==="overlay","layout-static":H.menuMode.value==="static","layout-static-inactive":F.staticMenuDesktopInactive.value&&H.menuMode.value==="static","layout-overlay-active":F.overlayMenuActive.value,"layout-mobile-active":F.staticMenuMobileActive.value,"p-ripple-disabled":H.ripple.value===!1})),A=()=>{Z.value||(Z.value=O=>{S(O)&&(F.overlayMenuActive.value=!1,F.staticMenuMobileActive.value=!1,F.menuHoverActive.value=!1)},document.addEventListener("click",Z.value))},$=()=>{Z.value&&(document.removeEventListener("click",Z),Z.value=null)},S=O=>{const V=document.querySelector(".layout-sidebar"),T=document.querySelector(".layout-menu-button");return!(V.isSameNode(O.target)||V.contains(O.target)||T.isSameNode(O.target)||T.contains(O.target))};return(O,V)=>{const T=c2("router-view"),L=c2("Toast");return R0(),k0(u2,null,[u0("div",{class:W0(["layout-wrapper",W.value])},[y0(A3),u0("div",Ys,[y0(Y3)]),u0("div",qs,[u0("div",Ps,[y0(T)]),y0(B3)]),y0(Gs,{isVisible:Y.value,onClose:G},null,8,["isVisible"])],2),u0("div",{type:"primary",onClick:q,class:"toggle-button"},[se(u0("img",zs,null,512),[[ne,!Y.value]])]),y0(L)],64)}}},sn=O2(Us,[["__scopeId","data-v-9cdb46cf"]]);export{sn as default};
